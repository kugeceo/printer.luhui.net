(function(a,s){var l,c,o,d,u,f,h,r,p,g,t,n,_,x,m,v,b,y,w,e,i,L,z,k,S,V,K,C,T,A,E,M,N,I,D,O,B;function P(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}}function R(){return r++}function H(e){return e.match(t)[0]}function j(e,t){var i=e.charAt(0);return 0===(e=b.test(e)?e:"."===i?function(e){for(e=e.replace(n,"/");e.match(_);)e=e.replace(_,"/");return e=e.replace(x,"$1/")}((t?H(t):c.cwd)+e):"/"===i?(i=c.cwd.match(y))?i[0]+e.substring(1):e:c.base+e).indexOf("//")&&(e=location.protocol+e),e}function W(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}a.seajs||(l=a.seajs={version:"2.2.3"},c=l.data={},o=P("Object"),d=P("String"),u=Array.isArray||P("Array"),f=P("Function"),h=P("Undefined"),r=0,p=c.events={},l.on=function(e,t){return(p[e]||(p[e]=[])).push(t),l},l.off=function(e,t){if(!e&&!t)return p=c.events={},l;var i=p[e];if(i)if(t)for(var n=i.length-1;0<=n;n--)i[n]===t&&i.splice(n,1);else delete p[e];return l},g=l.emit=function(e,t){var i,n=p[e];if(n)for(n=n.slice();i=n.shift();)i(t);return l},t=/[^?#]*\//,n=/\/\.\//g,_=/\/[^/]+\/\.\.\//,x=/([^:/])\/\//g,m=/^([^/:]+)(\/.+)$/,v=/{([^{]+)}/g,b=/^\/\/.|:\//,y=/^.*?\/\/.*?\//,B=H((w=document).URL),e=w.scripts,i=w.getElementById("seajsnode")||e[e.length-1],e=H(((i=i).hasAttribute?i.src:i.getAttribute("src",4))||B),l.resolve=function(e,t){return e?(o=e,r=e=(r=c.alias)&&d(r[o])?r[o]:o,(o=c.paths)&&(n=r.match(m))&&d(o[n[1]])&&(r=o[n[1]]+n[2]),o=e=r,(i=c.vars)&&-1<o.indexOf("{")&&(o=o.replace(v,function(e,t){return d(i[t])?i[t]:e})),r=(n=e=o).length-1,function(e){var t=c.map,i=e;if(t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if((i=f(o)?o(e)||e:e.replace(o[0],o[1]))!==e)break}return i}(j(e="#"===(o=n.charAt(r))?n.substring(0,r):".js"===n.substring(r-2)||0<n.indexOf("?")||".css"===n.substring(r-3)||"/"===o?n:n+".js",t))):"";var i,n,r,o},L=w.head||w.getElementsByTagName("head")[0]||w.documentElement,z=L.getElementsByTagName("base")[0],k=/\.css(?:\?|$)/i,K=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536,l.request=function(e,t,i,n){var r=k.test(e),o=w.createElement(r?"link":"script");i&&(o.charset=i),h(n)||o.setAttribute("crossorigin",n),function(e,t,i,n){var r="onload"in e;if(i&&(K||!r))return setTimeout(function(){!function e(t,i){var n=t.sheet;var r;if(K)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(r=!0)}setTimeout(function(){r?i():e(t,i)},20)}(e,t)},1);function o(){e.onload=e.onerror=e.onreadystatechange=null,i||c.debug||L.removeChild(e),e=null,t()}r?(e.onload=o,e.onerror=function(){g("error",{uri:n,node:e}),o()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&o()}}(o,t,r,e),r?(o.rel="stylesheet",o.href=e):(o.async=!0,o.src=e),S=o,z?L.insertBefore(o,z):L.appendChild(o),S=null},C=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,T=/\\\\/g,A=l.cache={},M={},N={},I={},D=W.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6},W.prototype.resolve=function(){for(var e=this.dependencies,t=[],i=0,n=e.length;i<n;i++)t[i]=W.resolve(e[i],this.uri);return t},W.prototype.load=function(){var e=this;if(!(e.status>=D.LOADING)){e.status=D.LOADING;var t=e.resolve();g("load",t);for(var i,n=e._remain=t.length,r=0;r<n;r++)(i=W.get(t[r])).status<D.LOADED?i._waitings[e.uri]=(i._waitings[e.uri]||0)+1:e._remain--;if(0!==e._remain){for(var o,a={},r=0;r<n;r++)(i=A[t[r]]).status<D.FETCHING?i.fetch(a):i.status===D.SAVED&&i.load();for(o in a)a.hasOwnProperty(o)&&a[o]()}else e.onload()}},W.prototype.onload=function(){var e=this;e.status=D.LOADED,e.callback&&e.callback();var t,i,n=e._waitings;for(t in n)n.hasOwnProperty(t)&&((i=A[t])._remain-=n[t],0===i._remain&&i.onload());delete e._waitings,delete e._remain},W.prototype.fetch=function(e){var t=this,i=t.uri;t.status=D.FETCHING;var n={uri:i};g("fetch",n);var r=n.requestUri||i;function o(){l.request(n.requestUri,n.onRequest,n.charset,n.crossorigin)}r&&!N[r]?M[r]?I[r].push(t):(M[r]=!0,I[r]=[t],g("request",n={uri:i,requestUri:r,onRequest:function(){delete M[r],N[r]=!0,E&&(W.save(i,E),E=null);var e,t=I[r];delete I[r];for(;e=t.shift();)e.load()},charset:f(c.charset)?c.charset(r):c.charset,crossorigin:f(c.crossorigin)?c.crossorigin(r):c.crossorigin}),n.requested||(e?e[n.requestUri]=o:o())):t.load()},W.prototype.exec=function(){var e=this;if(e.status>=D.EXECUTING)return e.exports;e.status=D.EXECUTING;var i=e.uri;function n(e){return W.get(n.resolve(e)).exec()}n.resolve=function(e){return W.resolve(e,i)},n.async=function(e,t){return W.use(e,t,i+"_async_"+r++),n};var t=e.factory,t=f(t)?t(n,e.exports={},e):t;return t===s&&(t=e.exports),delete e.factory,e.exports=t,e.status=D.EXECUTED,g("exec",e),t},W.resolve=function(e,t){e={id:e,refUri:t};return g("resolve",e),e.uri||l.resolve(e.id,t)},W.define=function(e,t,i){var n,r=arguments.length;1===r?(i=e,e=s):2===r&&(i=t,u(e)?(t=e,e=s):t=s),!u(t)&&f(i)&&(o=i.toString(),n=[],o.replace(T,"").replace(C,function(e,t,i){i&&n.push(i)}),t=n);var o,r={id:e,uri:W.resolve(e),deps:t,factory:i};r.uri||!w.attachEvent||(o=function(){if(S)return S;if(V&&"interactive"===V.readyState)return V;for(var e=L.getElementsByTagName("script"),t=e.length-1;0<=t;t--){var i=e[t];if("interactive"===i.readyState)return V=i}}())&&(r.uri=o.src),g("define",r),r.uri?W.save(r.uri,r):E=r},W.save=function(e,t){var i=W.get(e);i.status<D.SAVED&&(i.id=t.id||e,i.dependencies=t.deps||[],i.factory=t.factory,i.status=D.SAVED)},W.get=function(e,t){return A[e]||(A[e]=new W(e,t))},W.use=function(e,r,t){var o=W.get(t,u(e)?e:[e]);o.callback=function(){for(var e=[],t=o.resolve(),i=0,n=t.length;i<n;i++)e[i]=A[t[i]].exec();r&&r.apply(a,e),delete o.callback},o.load()},W.preload=function(e){var t=c.preload,i=t.length;i?W.use(t,function(){t.splice(0,i),W.preload(e)},c.cwd+"_preload_"+r++):e()},l.use=function(e,t){return W.preload(function(){W.use(e,t,c.cwd+"_use_"+r++)}),l},W.define.cmd={},a.define=W.define,l.Module=W,c.fetchedList=N,c.cid=R,l.require=function(e){e=W.get(W.resolve(e));return e.status<D.EXECUTING&&(e.onload(),e.exec()),e.exports},c.base=(e.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",e])[1],c.dir=e,c.cwd=B,c.charset="utf-8",c.history={},c.preload=(O=[],B=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(B+=" "+w.cookie).replace(/(seajs-\w+)=1/g,function(e,t){O.push(t)}),O),l.config=function(e){for(var t in e){var i=e[t],n=c[t];if(c.history[t]=c.history[t]||[],c.history[t].push(function(e){if(o(e)){var t,i={};for(t in e)i[t]=e[t];return i}return e}(i)),n&&o(n))for(var r in i)n[r]=i[r];else u(n)?i=n.concat(i):"base"===t&&("/"!==i.slice(-1)&&(i+="/"),i=j(i)),c[t]=i}return g("config",e),l})})(this),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(w,e){"use strict";function g(e){return null!=e&&e===e.window}var t=[],L=w.document,i=Object.getPrototypeOf,s=t.slice,_=t.concat,l=t.push,r=t.indexOf,n={},o=n.toString,x=n.hasOwnProperty,a=x.toString,c=a.call(Object),m={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},d={type:!0,src:!0,noModule:!0};function b(e,t,i){var n,r=(t=t||L).createElement("script");if(r.text=e,i)for(n in d)i[n]&&(r[n]=i[n]);t.head.appendChild(r).parentNode.removeChild(r)}function p(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var z=function(e,t){return new z.fn.init(e,t)},u=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function f(e){var t=!!e&&"length"in e&&e.length,i=p(e);return!v(e)&&!g(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}z.fn=z.prototype={jquery:"3.3.1",constructor:z,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=z.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return z.each(this,e)},map:function(i){return this.pushStack(z.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},z.extend=z.fn.extend=function(){var e,t,i,n,r,o=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||v(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],o!==(i=e[t])&&(l&&i&&(z.isPlainObject(i)||(n=Array.isArray(i)))?(r=n?(n=!1,r&&Array.isArray(r)?r:[]):r&&z.isPlainObject(r)?r:{},o[t]=z.extend(l,r,i)):void 0!==i&&(o[t]=i));return o},z.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==o.call(e))&&(!(e=i(e))||"function"==typeof(e=x.call(e,"constructor")&&e.constructor)&&a.call(e)===c)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){b(e)},each:function(e,t){var i,n=0;if(f(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(u,"")},makeArray:function(e,t){t=t||[];return null!=e&&(f(Object(e))?z.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,i){return null==t?-1:r.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,a=!i;r<o;r++)!t(e[r],r)!=a&&n.push(e[r]);return n},map:function(e,t,i){var n,r,o=0,a=[];if(f(e))for(n=e.length;o<n;o++)null!=(r=t(e[o],o,i))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,i))&&a.push(r);return _.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(z.fn[Symbol.iterator]=t[Symbol.iterator]),z.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(i){function u(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function n(){w()}var e,h,b,o,r,p,f,g,y,l,c,w,L,a,z,_,s,d,x,k="sizzle"+ +new Date,m=i.document,S=0,v=0,V=ae(),K=ae(),C=ae(),T=function(e,t){return e===t&&(c=!0),0},A={}.hasOwnProperty,t=[],E=t.pop,M=t.push,N=t.push,I=t.slice,D=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",R="\\["+B+"*("+P+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+B+"*\\]",H=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",j=new RegExp(B+"+","g"),W=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),F=new RegExp("^"+B+"*,"+B+"*"),X=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),$=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),U=new RegExp(H),q=new RegExp("^"+P+"$"),G={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=_e(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{N.apply(t=I.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){N={apply:t.length?function(e,t){M.apply(e,I.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function oe(e,t,i,n){var r,o,a,s,l,c,d,u=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!n&&((t?t.ownerDocument||t:m)!==L&&w(t),t=t||L,z)){if(11!==f&&(l=J.exec(e)))if(r=l[1]){if(9===f){if(!(a=t.getElementById(r)))return i;if(a.id===r)return i.push(a),i}else if(u&&(a=u.getElementById(r))&&x(t,a)&&a.id===r)return i.push(a),i}else{if(l[2])return N.apply(i,t.getElementsByTagName(e)),i;if((r=l[3])&&h.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(r)),i}if(h.qsa&&!C[e+" "]&&(!_||!_.test(e))){if(1!==f)u=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ie,ne):t.setAttribute("id",s=k),o=(c=p(e)).length;o--;)c[o]="#"+s+" "+ge(c[o]);d=c.join(","),u=ee.test(e)&&he(t.parentNode)||t}if(d)try{return N.apply(i,u.querySelectorAll(d)),i}catch(e){}finally{s===k&&t.removeAttribute("id")}}}return g(e.replace(W,"$1"),t,i,n)}function ae(){var i=[];function n(e,t){return i.push(e+" ")>b.cacheLength&&delete n[i.shift()],n[e+" "]=t}return n}function se(e){return e[k]=!0,e}function le(e){var t=L.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var i=e.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=t}function de(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ue(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&re(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function fe(a){return se(function(o){return o=+o,se(function(e,t){for(var i,n=a([],e.length,o),r=n.length;r--;)e[i=n[r]]&&(e[i]=!(t[i]=e[i]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=oe.support={},r=oe.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},w=oe.setDocument=function(e){var t,e=e?e.ownerDocument||e:m;return e!==L&&9===e.nodeType&&e.documentElement&&(a=(L=e).documentElement,z=!r(L),m!==L&&(t=L.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",n,!1):t.attachEvent&&t.attachEvent("onunload",n)),h.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=le(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=Q.test(L.getElementsByClassName),h.getById=le(function(e){return a.appendChild(e).id=k,!L.getElementsByName||!L.getElementsByName(k).length}),h.getById?(b.filter.ID=function(e){var t=e.replace(te,u);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&z){e=t.getElementById(e);return e?[e]:[]}}):(b.filter.ID=function(e){var t=e.replace(te,u);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&z){var i,n,r,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),b.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;i=o[r++];)1===i.nodeType&&n.push(i);return n},b.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&z)return t.getElementsByClassName(e)},s=[],_=[],(h.qsa=Q.test(L.querySelectorAll))&&(le(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_.push("\\["+B+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+k+"-]").length||_.push("~="),e.querySelectorAll(":checked").length||_.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||_.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_.push(",.*:")})),(h.matchesSelector=Q.test(d=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&le(function(e){h.disconnectedMatch=d.call(e,"*"),d.call(e,"[s!='']:x"),s.push("!=",H)}),_=_.length&&new RegExp(_.join("|")),s=s.length&&new RegExp(s.join("|")),t=Q.test(a.compareDocumentPosition),x=t||Q.test(a.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(i.contains?i.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return c=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===i?e===L||e.ownerDocument===m&&x(m,e)?-1:t===L||t.ownerDocument===m&&x(m,t)?1:l?D(l,e)-D(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return c=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===L?-1:t===L?1:r?-1:o?1:l?D(l,e)-D(l,t):0;if(r===o)return de(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?de(a[n],s[n]):a[n]===m?-1:s[n]===m?1:0}),L},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&w(e),t=t.replace($,"='$1']"),h.matchesSelector&&z&&!C[t+" "]&&(!s||!s.test(t))&&(!_||!_.test(t)))try{var i=d.call(e,t);if(i||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<oe(t,L,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==L&&w(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==L&&w(e);var i=b.attrHandle[t.toLowerCase()],i=i&&A.call(b.attrHandle,t.toLowerCase())?i(e,t,!z):void 0;return void 0!==i?i:h.attributes||!z?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},oe.escape=function(e){return(e+"").replace(ie,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],n=0,r=0;if(c=!h.detectDuplicates,l=!h.sortStable&&e.slice(0),e.sort(T),c){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return l=null,e},o=oe.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},(b=oe.selectors={cacheLength:50,createPseudo:se,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,u),e[3]=(e[3]||e[4]||e[5]||"").replace(te,u),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&U.test(i)&&(t=p(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,u).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(e){e=oe.attr(e,t);return null==e?"!="===i:!i||(e+="","="===i?e===n:"!="===i?e!==n:"^="===i?n&&0===e.indexOf(n):"*="===i?n&&-1<e.indexOf(n):"$="===i?n&&e.slice(-n.length)===n:"~="===i?-1<(" "+e.replace(j," ")+" ").indexOf(n):"|="===i&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(p,e,t,g,_){var x="nth"!==p.slice(0,3),m="last"!==p.slice(-4),v="of-type"===e;return 1===g&&0===_?function(e){return!!e.parentNode}:function(e,t,i){var n,r,o,a,s,l,c=x!=m?"nextSibling":"previousSibling",d=e.parentNode,u=v&&e.nodeName.toLowerCase(),f=!i&&!v,h=!1;if(d){if(x){for(;c;){for(a=e;a=a[c];)if(v?a.nodeName.toLowerCase()===u:1===a.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[m?d.firstChild:d.lastChild],m&&f){for(h=(s=(n=(r=(o=(a=d)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===S&&n[1])&&n[2],a=s&&d.childNodes[s];a=++s&&a&&a[c]||(h=s=0)||l.pop();)if(1===a.nodeType&&++h&&a===e){r[p]=[S,s,h];break}}else if(f&&(h=s=(n=(r=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===S&&n[1]),!1===h)for(;(a=++s&&a&&a[c]||(h=s=0)||l.pop())&&((v?a.nodeName.toLowerCase()!==u:1!==a.nodeType)||!++h||(f&&((r=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[S,h]),a!==e)););return(h-=_)===g||h%g==0&&0<=h/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var i,n=a(e,o),r=n.length;r--;)e[i=D(e,n[r])]=!(t[i]=n[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:se(function(e){var n=[],r=[],s=f(e.replace(W,"$1"));return s[k]?se(function(e,t,i,n){for(var r,o=s(e,null,n,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,i){return n[0]=e,s(n,null,i,r),n[0]=null,!r.pop()}}),has:se(function(t){return function(e){return 0<oe(t,e).length}}),contains:se(function(t){return t=t.replace(te,u),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(i){return q.test(i||"")||oe.error("unsupported lang: "+i),i=i.replace(te,u).toLowerCase(),function(e){var t;do{if(t=z?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ue(!1),disabled:ue(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,i){return[i<0?i+t:i]}),even:fe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:fe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:fe(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:fe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}(e);function pe(){}function ge(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function _e(a,e,t){var s=e.dir,l=e.next,c=l||s,d=t&&"parentNode"===c,u=v++;return e.first?function(e,t,i){for(;e=e[s];)if(1===e.nodeType||d)return a(e,t,i);return!1}:function(e,t,i){var n,r,o=[S,u];if(i){for(;e=e[s];)if((1===e.nodeType||d)&&a(e,t,i))return!0}else for(;e=e[s];)if(1===e.nodeType||d)if(n=(r=e[k]||(e[k]={}))[e.uniqueID]||(r[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((r=n[c])&&r[0]===S&&r[1]===u)return o[2]=r[2];if((n[c]=o)[2]=a(e,t,i))return!0}return!1}}function xe(r){return 1<r.length?function(e,t,i){for(var n=r.length;n--;)if(!r[n](e,t,i))return!1;return!0}:r[0]}function me(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),c&&t.push(s)));return a}function ve(h,p,g,_,x,e){return _&&!_[k]&&(_=ve(_)),x&&!x[k]&&(x=ve(x,e)),se(function(e,t,i,n){var r,o,a,s=[],l=[],c=t.length,d=e||function(e,t,i){for(var n=0,r=t.length;n<r;n++)oe(e,t[n],i);return i}(p||"*",i.nodeType?[i]:i,[]),u=!h||!e&&p?d:me(d,s,h,i,n),f=g?x||(e?h:c||_)?[]:t:u;if(g&&g(u,f,i,n),_)for(r=me(f,l),_(r,[],i,n),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(u[l[o]]=a));if(e){if(x||h){if(x){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(u[o]=a);x(null,f=[],r,n)}for(o=f.length;o--;)(a=f[o])&&-1<(r=x?D(e,a):s[o])&&(e[r]=!(t[r]=a))}}else f=me(f===t?f.splice(c,f.length):f),x?x(null,t,f,n):N.apply(t,f)})}function be(_,x){function e(e,t,i,n,r){var o,a,s,l=0,c="0",d=e&&[],u=[],f=y,h=e||v&&b.find.TAG("*",r),p=S+=null==f?1:Math.random()||.1,g=h.length;for(r&&(y=t===L||t||r);c!==g&&null!=(o=h[c]);c++){if(v&&o){for(a=0,t||o.ownerDocument===L||(w(o),i=!z);s=_[a++];)if(s(o,t||L,i)){n.push(o);break}r&&(S=p)}m&&((o=!s&&o)&&l--,e&&d.push(o))}if(l+=c,m&&c!==l){for(a=0;s=x[a++];)s(d,u,t,i);if(e){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=E.call(n));u=me(u)}N.apply(n,u),r&&!e&&0<u.length&&1<l+x.length&&oe.uniqueSort(n)}return r&&(S=p,y=f),d}var m=0<x.length,v=0<_.length;return m?se(e):e}return pe.prototype=b.filters=b.pseudos,b.setFilters=new pe,p=oe.tokenize=function(e,t){var i,n,r,o,a,s,l,c=K[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=b.preFilter;a;){for(o in i&&!(n=F.exec(a))||(n&&(a=a.slice(n[0].length)||a),s.push(r=[])),i=!1,(n=X.exec(a))&&(i=n.shift(),r.push({value:i,type:n[0].replace(W," ")}),a=a.slice(i.length)),b.filter)!(n=G[o].exec(a))||l[o]&&!(n=l[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?oe.error(e):K(e,s).slice(0)},f=oe.compile=function(e,t){var i,n=[],r=[],o=C[e+" "];if(!o){for(i=(t=t||p(e)).length;i--;)((o=function e(t){for(var n,i,r,o=t.length,a=b.relative[t[0].type],s=a||b.relative[" "],l=a?1:0,c=_e(function(e){return e===n},s,!0),d=_e(function(e){return-1<D(n,e)},s,!0),u=[function(e,t,i){return i=!a&&(i||t!==y)||((n=t).nodeType?c:d)(e,t,i),n=null,i}];l<o;l++)if(i=b.relative[t[l].type])u=[_e(xe(u),i)];else{if((i=b.filter[t[l].type].apply(null,t[l].matches))[k]){for(r=++l;r<o&&!b.relative[t[r].type];r++);return ve(1<l&&xe(u),1<l&&ge(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),i,l<r&&e(t.slice(l,r)),r<o&&e(t=t.slice(r)),r<o&&ge(t))}u.push(i)}return xe(u)}(t[i]))[k]?n:r).push(o);(o=C(e,be(r,n))).selector=e}return o},g=oe.select=function(e,t,i,n){var r,o,a,s,l,c="function"==typeof e&&e,d=!n&&p(e=c.selector||e);if(i=i||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&z&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,u),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=G.needsContext.test(e)?0:o.length;r--&&(a=o[r],!b.relative[s=a.type]);)if((l=b.find[s])&&(n=l(a.matches[0].replace(te,u),ee.test(o[0].type)&&he(t.parentNode)||t))){if(o.splice(r,1),!(e=n.length&&ge(o)))return N.apply(i,n),i;break}}return(c||f(e,d))(n,t,!z,i,!t||ee.test(e)&&he(t.parentNode)||t),i},h.sortStable=k.split("").sort(T).join("")===k,h.detectDuplicates=!!c,w(),h.sortDetached=le(function(e){return 1&e.compareDocumentPosition(L.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(O,function(e,t,i){if(!i)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),oe}(w);z.find=h,z.expr=h.selectors,z.expr[":"]=z.expr.pseudos,z.uniqueSort=z.unique=h.uniqueSort,z.text=h.getText,z.isXMLDoc=h.isXML,z.contains=h.contains,z.escapeSelector=h.escape;function y(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&z(e).is(i))break;n.push(e)}return n}function k(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}var S=z.expr.match.needsContext;function V(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(e,i,n){return v(i)?z.grep(e,function(e,t){return!!i.call(e,t,e)!==n}):i.nodeType?z.grep(e,function(e){return e===i!==n}):"string"!=typeof i?z.grep(e,function(e){return-1<r.call(i,e)!==n}):z.filter(i,e,n)}z.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?z.find.matchesSelector(n,e)?[n]:[]:z.find.matches(e,z.grep(t,function(e){return 1===e.nodeType}))},z.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(z(e).filter(function(){for(t=0;t<n;t++)if(z.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)z.find(e,r[t],i);return 1<n?z.uniqueSort(i):i},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&S.test(e)?z(e):e||[],!1).length}});var T,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(z.fn.init=function(e,t,i){if(!e)return this;if(i=i||T,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==i.ready?i.ready(e):e(z):z.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:A.exec(e))||!n[1]&&t)return(!t||t.jquery?t||i:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof z?t[0]:t,z.merge(this,z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:L,!0)),K.test(n[1])&&z.isPlainObject(t))for(var n in t)v(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(e=L.getElementById(n[2]))&&(this[0]=e,this.length=1),this}).prototype=z.fn,T=z(L);var E=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}z.fn.extend({has:function(e){var t=z(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(z.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,o=[],a="string"!=typeof e&&z(e);if(!S.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?-1<a.index(i):1===i.nodeType&&z.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(1<o.length?z.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?r.call(z(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(z.uniqueSort(z.merge(this.get(),z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),z.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return y(e,"parentNode")},parentsUntil:function(e,t,i){return y(e,"parentNode",i)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return y(e,"nextSibling")},prevAll:function(e){return y(e,"previousSibling")},nextUntil:function(e,t,i){return y(e,"nextSibling",i)},prevUntil:function(e,t,i){return y(e,"previousSibling",i)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return V(e,"iframe")?e.contentDocument:(V(e,"template")&&(e=e.content||e),z.merge([],e.childNodes))}},function(n,r){z.fn[n]=function(e,t){var i=z.map(this,r,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=z.filter(t,i)),1<this.length&&(M[n]||z.uniqueSort(i),E.test(n)&&i.reverse()),this.pushStack(i)}});var I=/[^\x20\t\r\n\f]+/g;function D(e){return e}function O(e){throw e}function B(e,t,i,n){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(i):e&&v(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}z.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},z.each(e.match(I)||[],function(e,t){i[t]=!0}),i):z.extend({},n);function r(){for(s=s||n.once,a=o=!0;c.length;d=-1)for(t=c.shift();++d<l.length;)!1===l[d].apply(t[0],t[1])&&n.stopOnFalse&&(d=l.length,t=!1);n.memory||(t=!1),o=!1,s&&(l=t?[]:"")}var o,t,a,s,l=[],c=[],d=-1,u={add:function(){return l&&(t&&!o&&(d=l.length-1,c.push(t)),function i(e){z.each(e,function(e,t){v(t)?n.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==p(t)&&i(t)})}(arguments),t&&!o&&r()),this},remove:function(){return z.each(arguments,function(e,t){for(var i;-1<(i=z.inArray(t,l,i));)l.splice(i,1),i<=d&&d--}),this},has:function(e){return e?-1<z.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||o||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),o||r()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},z.extend({Deferred:function(e){var o=[["notify","progress",z.Callbacks("memory"),z.Callbacks("memory"),2],["resolve","done",z.Callbacks("once memory"),z.Callbacks("once memory"),0,"resolved"],["reject","fail",z.Callbacks("once memory"),z.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return z.Deferred(function(n){z.each(o,function(e,t){var i=v(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),r=null}).promise()},then:function(t,i,n){var l=0;function c(r,o,a,s){return function(){function e(){var e,t;if(!(r<l)){if((e=a.apply(i,n))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,c(l,o,D,s),c(l,o,O,s)):(l++,t.call(e,c(l,o,D,s),c(l,o,O,s),c(l,o,D,o.notifyWith))):(a!==D&&(i=void 0,n=[e]),(s||o.resolveWith)(i,n))}}var i=this,n=arguments,t=s?e:function(){try{e()}catch(e){z.Deferred.exceptionHook&&z.Deferred.exceptionHook(e,t.stackTrace),l<=r+1&&(a!==O&&(i=void 0,n=[e]),o.rejectWith(i,n))}};r?t():(z.Deferred.getStackHook&&(t.stackTrace=z.Deferred.getStackHook()),w.setTimeout(t))}}return z.Deferred(function(e){o[0][3].add(c(0,e,v(n)?n:D,e.notifyWith)),o[1][3].add(c(0,e,v(t)?t:D)),o[2][3].add(c(0,e,v(i)?i:O))}).promise()},promise:function(e){return null!=e?z.extend(e,a):a}},s={};return z.each(o,function(e,t){var i=t[2],n=t[5];a[t[1]]=i.add,n&&i.add(function(){r=n},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),i.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=i.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--i||a.resolveWith(r,o)}}var i=arguments.length,n=i,r=Array(n),o=s.call(arguments),a=z.Deferred();if(i<=1&&(B(e,a.done(t(n)).resolve,a.reject,!i),"pending"===a.state()||v(o[n]&&o[n].then)))return a.then();for(;n--;)B(o[n],t(n),a.reject);return a.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;z.Deferred.exceptionHook=function(e,t){w.console&&w.console.warn&&e&&P.test(e.name)&&w.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},z.readyException=function(e){w.setTimeout(function(){throw e})};var R=z.Deferred();function H(){L.removeEventListener("DOMContentLoaded",H),w.removeEventListener("load",H),z.ready()}z.fn.ready=function(e){return R.then(e).catch(function(e){z.readyException(e)}),this},z.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--z.readyWait:z.isReady)||(z.isReady=!0)!==e&&0<--z.readyWait||R.resolveWith(L,[z])}}),z.ready.then=R.then,"complete"===L.readyState||"loading"!==L.readyState&&!L.documentElement.doScroll?w.setTimeout(z.ready):(L.addEventListener("DOMContentLoaded",H),w.addEventListener("load",H));var j=function(e,t,i,n,r,o,a){var s=0,l=e.length,c=null==i;if("object"===p(i))for(s in r=!0,i)j(e,t,s,i[s],!0,o,a);else if(void 0!==n&&(r=!0,v(n)||(a=!0),c&&(t=a?(t.call(e,n),null):(c=t,function(e,t,i){return c.call(z(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return r?e:c?t.call(e):l?t(e[0],i):o},W=/^-ms-/,F=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function $(e){return e.replace(W,"ms-").replace(F,X)}function U(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function q(){this.expando=z.expando+q.uid++}q.uid=1,q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},U(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[$(t)]=i;else for(n in t)r[$(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map($):(t=$(t))in n?[t]:t.match(I)||[]).length;for(;i--;)delete n[t[i]]}void 0!==t&&!z.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!z.isEmptyObject(e)}};var G=new q,Y=new q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function J(e,t,i){var n,r;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:Z.test(r)?JSON.parse(r):r)}catch(e){}Y.set(e,t,i)}else i=void 0;return i}z.extend({hasData:function(e){return Y.hasData(e)||G.hasData(e)},data:function(e,t,i){return Y.access(e,t,i)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,i){return G.access(e,t,i)},_removeData:function(e,t){G.remove(e,t)}}),z.fn.extend({data:function(i,e){var t,n,r,o=this[0],a=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){Y.set(this,i)}):j(this,function(e){var t;return o&&void 0===e?void 0!==(t=Y.get(o,i))||void 0!==(t=J(o,i))?t:void 0:void this.each(function(){Y.set(this,i,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=Y.get(o),1===o.nodeType&&!G.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(n=a[t].name).indexOf("data-")&&(n=$(n.slice(5)),J(o,n,r[n]));G.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){Y.remove(this,e)})}}),z.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=G.get(e,t),i&&(!n||Array.isArray(i)?n=G.access(e,t,z.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=z.queue(e,t),n=i.length,r=i.shift(),o=z._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){z.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return G.get(e,i)||G.access(e,i,{empty:z.Callbacks("once memory").add(function(){G.remove(e,[t+"queue",i])})})}}),z.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?z.queue(this[0],t):void 0===i?this:this.each(function(){var e=z.queue(this,t,i);z._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&z.dequeue(this,t)})},dequeue:function(e){return this.each(function(){z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--r||o.resolveWith(a,[a])}var n,r=1,o=z.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=G.get(a[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(i));return i(),o.promise(t)}});function ee(e,t,i,n){var r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in n=i.apply(e,n||[]),t)e.style[r]=o[r];return n}var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&z.contains(e.ownerDocument,e)&&"none"===z.css(e,"display")};function oe(e,t,i,n){var r,o,a=20,s=n?function(){return n.cur()}:function(){return z.css(e,t,"")},l=s(),c=i&&i[3]||(z.cssNumber[t]?"":"px"),d=(z.cssNumber[t]||"px"!==c&&+l)&&ie.exec(z.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;a--;)z.style(e,t,d+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),d/=o;d*=2,z.style(e,t,d+c),i=i||[]}return i&&(d=+d||+l||0,r=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=r)),r}var ae={};function se(e,t){for(var i,n,r,o,a,s=[],l=0,c=e.length;l<c;l++)(n=e[l]).style&&(i=n.style.display,t?("none"===i&&(s[l]=G.get(n,"display")||null,s[l]||(n.style.display="")),""===n.style.display&&re(n)&&(s[l]=(a=o=void 0,o=(r=n).ownerDocument,a=r.nodeName,(r=ae[a])||(o=o.body.appendChild(o.createElement(a)),r=z.css(o,"display"),o.parentNode.removeChild(o),"none"===r&&(r="block"),ae[a]=r)))):"none"!==i&&(s[l]="none",G.set(n,"display",i)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}z.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){re(this)?z(this).show():z(this).hide()})}});var le=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&V(e,t)?z.merge([e],i):i}function he(e,t){for(var i=0,n=e.length;i<n;i++)G.set(e[i],"globalEval",!t||G.get(t[i],"globalEval"))}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td;var pe=/<|&#?\w+;/;function ge(e,t,i,n,r){for(var o,a,s,l,c,d=t.createDocumentFragment(),u=[],f=0,h=e.length;f<h;f++)if((o=e[f])||0===o)if("object"===p(o))z.merge(u,o.nodeType?[o]:o);else if(pe.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(ce.exec(o)||["",""])[1].toLowerCase(),s=ue[s]||ue._default,a.innerHTML=s[1]+z.htmlPrefilter(o)+s[2],c=s[0];c--;)a=a.lastChild;z.merge(u,a.childNodes),(a=d.firstChild).textContent=""}else u.push(t.createTextNode(o));for(d.textContent="",f=0;o=u[f++];)if(n&&-1<z.inArray(o,n))r&&r.push(o);else if(l=z.contains(o.ownerDocument,o),a=fe(d.appendChild(o),"script"),l&&he(a),i)for(c=0;o=a[c++];)de.test(o.type||"")&&i.push(o);return d}t=L.createDocumentFragment().appendChild(L.createElement("div")),(h=L.createElement("input")).setAttribute("type","radio"),h.setAttribute("checked","checked"),h.setAttribute("name","t"),t.appendChild(h),m.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;var _e=L.documentElement,xe=/^key/,me=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ve=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function ye(){return!1}function we(){try{return L.activeElement}catch(e){}}function Le(e,t,i,n,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)Le(e,s,i,n,t[s],o);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=ye;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return z().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=z.guid++)),e.each(function(){z.event.add(this,t,r,n,i)})}z.event={global:{},add:function(t,e,i,n,r){var o,a,s,l,c,d,u,f,h,p=G.get(t);if(p)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&z.find.matchesSelector(_e,r),i.guid||(i.guid=z.guid++),(s=p.events)||(s=p.events={}),(a=p.handle)||(a=p.handle=function(e){return void 0!==z&&z.event.triggered!==e.type?z.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(I)||[""]).length;l--;)u=h=(c=ve.exec(e[l])||[])[1],f=(c[2]||"").split(".").sort(),u&&(d=z.event.special[u]||{},u=(r?d.delegateType:d.bindType)||u,d=z.event.special[u]||{},c=z.extend({type:u,origType:h,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&z.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=s[u])||((h=s[u]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,f,a)||t.addEventListener&&t.addEventListener(u,a)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),z.event.global[u]=!0)},remove:function(e,t,i,n,r){var o,a,s,l,c,d,u,f,h,p,g,_=G.hasData(e)&&G.get(e);if(_&&(l=_.events)){for(c=(t=(t||"").match(I)||[""]).length;c--;)if(h=g=(s=ve.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(u=z.event.special[h]||{},f=l[h=(n?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)d=f[o],!r&&g!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(f.splice(o,1),d.selector&&f.delegateCount--,u.remove&&u.remove.call(e,d));a&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,p,_.handle)||z.removeEvent(e,h,_.handle),delete l[h])}else for(h in l)z.event.remove(e,h+t[c],i,n,!0);z.isEmptyObject(l)&&G.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,o,a=z.event.fix(e),s=new Array(arguments.length),l=(G.get(this,"events")||{})[a.type]||[],e=z.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,a)){for(o=z.event.handlers.call(this,a,l),t=0;(n=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((z.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,s))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,r,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[r=(n=t[i]).selector+" "]&&(a[r]=n.needsContext?-1<z(r,this).index(c):z.find(r,this,null,[c]).length),a[r]&&o.push(n);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(z.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[z.expando]?e:new z.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==we()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===we()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&V(this,"input"))return this.click(),!1},_default:function(e){return V(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},z.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},z.Event=function(e,t){if(!(this instanceof z.Event))return new z.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:ye,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&z.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[z.expando]=!0},z.Event.prototype={constructor:z.Event,isDefaultPrevented:ye,isPropagationStopped:ye,isImmediatePropagationStopped:ye,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},z.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&me.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},z.event.addProp),z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){z.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||z.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=r),t}}}),z.fn.extend({on:function(e,t,i,n){return Le(this,e,t,i,n)},one:function(e,t,i,n){return Le(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,z(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=ye),this.each(function(){z.event.remove(this,e,i,t)});for(r in e)this.off(r,t,e[r]);return this}});var ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ke=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ke(e,t){return V(e,"table")&&V(11!==t.nodeType?t:t.firstChild,"tr")&&z(e).children("tbody")[0]||e}function Ce(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ae(e,t){var i,n,r,o,a,s;if(1===t.nodeType){if(G.hasData(e)&&(o=G.access(e),a=G.set(t,o),s=o.events))for(r in delete a.handle,a.events={},s)for(i=0,n=s[r].length;i<n;i++)z.event.add(t,r,s[r][i]);Y.hasData(e)&&(e=Y.access(e),e=z.extend({},e),Y.set(t,e))}}function Ee(i,n,r,o){n=_.apply([],n);var e,t,a,s,l,c,d=0,u=i.length,f=u-1,h=n[0],p=v(h);if(p||1<u&&"string"==typeof h&&!m.checkClone&&Se.test(h))return i.each(function(e){var t=i.eq(e);p&&(n[0]=h.call(this,e,t.html())),Ee(t,n,r,o)});if(u&&(t=(e=ge(n,i[0].ownerDocument,!1,i,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=z.map(fe(e,"script"),Ce)).length;d<u;d++)l=e,d!==f&&(l=z.clone(l,!0,!0),s&&z.merge(a,fe(l,"script"))),r.call(i[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,z.map(a,Te),d=0;d<s;d++)l=a[d],de.test(l.type||"")&&!G.access(l,"globalEval")&&z.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?z._evalUrl&&z._evalUrl(l.src):b(l.textContent.replace(Ve,""),c,l))}return i}function Me(e,t,i){for(var n,r=t?z.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||z.cleanData(fe(n)),n.parentNode&&(i&&z.contains(n.ownerDocument,n)&&he(fe(n,"script")),n.parentNode.removeChild(n));return e}z.extend({htmlPrefilter:function(e){return e.replace(ze,"<$1></$2>")},clone:function(e,t,i){var n,r,o,a,s,l,c,d=e.cloneNode(!0),u=z.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||z.isXMLDoc(e)))for(a=fe(d),n=0,r=(o=fe(e)).length;n<r;n++)s=o[n],l=a[n],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&le.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(i)for(o=o||fe(e),a=a||fe(d),n=0,r=o.length;n<r;n++)Ae(o[n],a[n]);else Ae(e,d);return 0<(a=fe(d,"script")).length&&he(a,!u&&fe(e,"script")),d},cleanData:function(e){for(var t,i,n,r=z.event.special,o=0;void 0!==(i=e[o]);o++)if(U(i)){if(t=i[G.expando]){if(t.events)for(n in t.events)r[n]?z.event.remove(i,n):z.removeEvent(i,n,t.handle);i[G.expando]=void 0}i[Y.expando]&&(i[Y.expando]=void 0)}}}),z.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return j(this,function(e){return void 0===e?z.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ee(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ke(this,e).appendChild(e)})},prepend:function(){return Ee(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ke(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Ee(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ee(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(z.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return z.clone(this,e,t)})},html:function(e){return j(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ue[(ce.exec(e)||["",""])[1].toLowerCase()]){e=z.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(z.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return Ee(this,arguments,function(e){var t=this.parentNode;z.inArray(this,i)<0&&(z.cleanData(fe(this)),t&&t.replaceChild(e,this))},i)}}),z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){z.fn[e]=function(e){for(var t,i=[],n=z(e),r=n.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),z(n[o])[a](t),l.apply(i,t.get());return this.pushStack(i)}});var Ne,Ie,De,Oe,Be,Pe,Re,He=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=w),t.getComputedStyle(e)},We=new RegExp(ne.join("|"),"i");function Fe(){var e;Re&&(Pe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Re.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_e.appendChild(Pe).appendChild(Re),e=w.getComputedStyle(Re),Ne="1%"!==e.top,Be=12===Xe(e.marginLeft),Re.style.right="60%",Oe=36===Xe(e.right),Ie=36===Xe(e.width),Re.style.position="absolute",De=36===Re.offsetWidth||"absolute",_e.removeChild(Pe),Re=null)}function Xe(e){return Math.round(parseFloat(e))}function $e(e,t,i){var n,r,o=e.style;return(i=i||je(e))&&(""!==(r=i.getPropertyValue(t)||i[t])||z.contains(e.ownerDocument,e)||(r=z.style(e,t)),!m.pixelBoxStyles()&&He.test(r)&&We.test(t)&&(n=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=i.width,o.width=n,o.minWidth=e,o.maxWidth=t)),void 0!==r?r+"":r}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Pe=L.createElement("div"),(Re=L.createElement("div")).style&&(Re.style.backgroundClip="content-box",Re.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Re.style.backgroundClip,z.extend(m,{boxSizingReliable:function(){return Fe(),Ie},pixelBoxStyles:function(){return Fe(),Oe},pixelPosition:function(){return Fe(),Ne},reliableMarginLeft:function(){return Fe(),Be},scrollboxSize:function(){return Fe(),De}}));var qe=/^(none|table(?!-c[ea]).+)/,Ge=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},Qe=["Webkit","Moz","ms"],Je=L.createElement("div").style;function et(e){return z.cssProps[e]||(z.cssProps[e]=function(e){if(e in Je)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Qe.length;i--;)if((e=Qe[i]+t)in Je)return e}(e)||e)}function tt(e,t,i){var n=ie.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function it(e,t,i,n,r,o){var a="width"===t?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=z.css(e,i+ne[a],!0,r)),n?("content"===i&&(l-=z.css(e,"padding"+ne[a],!0,r)),"margin"!==i&&(l-=z.css(e,"border"+ne[a]+"Width",!0,r))):(l+=z.css(e,"padding"+ne[a],!0,r),"padding"!==i?l+=z.css(e,"border"+ne[a]+"Width",!0,r):s+=z.css(e,"border"+ne[a]+"Width",!0,r));return!n&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))),l}function nt(e,t,i){var n=je(e),r=$e(e,t,n),o="border-box"===z.css(e,"boxSizing",!1,n),a=o;if(He.test(r)){if(!i)return r;r="auto"}return a=a&&(m.boxSizingReliable()||r===e.style[t]),"auto"!==r&&(parseFloat(r)||"inline"!==z.css(e,"display",!1,n))||(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+it(e,t,i||(o?"border":"content"),a,n,r)+"px"}function rt(e,t,i,n,r){return new rt.prototype.init(e,t,i,n,r)}z.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=$e(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=$(t),l=Ge.test(t),c=e.style;if(l||(t=et(s)),a=z.cssHooks[t]||z.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:c[t];"string"===(o=typeof i)&&(r=ie.exec(i))&&r[1]&&(i=oe(e,t,r),o="number"),null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(z.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var r,o=$(t);return Ge.test(t)||(t=et(o)),(o=z.cssHooks[t]||z.cssHooks[o])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=$e(e,t,n)),"normal"===r&&t in Ze&&(r=Ze[t]),""===i||i?(t=parseFloat(r),!0===i||isFinite(t)?t||0:r):r}}),z.each(["height","width"],function(e,a){z.cssHooks[a]={get:function(e,t,i){if(t)return!qe.test(z.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,a,i):ee(e,Ye,function(){return nt(e,a,i)})},set:function(e,t,i){var n,r=je(e),o="border-box"===z.css(e,"boxSizing",!1,r),i=i&&it(e,a,i,o,r);return o&&m.scrollboxSize()===r.position&&(i-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(r[a])-it(e,a,"border",!1,r)-.5)),i&&(n=ie.exec(t))&&"px"!==(n[3]||"px")&&(e.style[a]=t,t=z.css(e,a)),tt(0,t,i)}}}),z.cssHooks.marginLeft=Ue(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-ee(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),z.each({margin:"",padding:"",border:"Width"},function(r,o){z.cssHooks[r+o]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[r+ne[t]+o]=n[t]||n[t-2]||n[0];return i}},"margin"!==r&&(z.cssHooks[r+o].set=tt)}),z.fn.extend({css:function(e,t){return j(this,function(e,t,i){var n,r,o={},a=0;if(Array.isArray(t)){for(n=je(e),r=t.length;a<r;a++)o[t[a]]=z.css(e,t[a],!1,n);return o}return void 0!==i?z.style(e,t,i):z.css(e,t)},e,t,1<arguments.length)}}),(z.Tween=rt).prototype={constructor:rt,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||z.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(z.cssNumber[i]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return(e&&e.get?e:rt.propHooks._default).get(this)},run:function(e){var t,i=rt.propHooks[this.prop];return this.options.duration?this.pos=t=z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:rt.propHooks._default).set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=z.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){z.fx.step[e.prop]?z.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[z.cssProps[e.prop]]&&!z.cssHooks[e.prop]?e.elem[e.prop]=e.now:z.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},z.fx=rt.prototype.init,z.fx.step={};var ot,at,st=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function ct(){at&&(!1===L.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(ct):w.setTimeout(ct,z.fx.interval),z.fx.tick())}function dt(){return w.setTimeout(function(){ot=void 0}),ot=Date.now()}function ut(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=ne[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function ft(e,t,i){for(var n,r=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n}function ht(r,e,t){var i,o,n=0,a=ht.prefilters.length,s=z.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ot||dt(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),i=0,n=c.tweens.length;i<n;i++)c.tweens[i].run(t);return s.notifyWith(r,[c,t,e]),t<1&&n?e:(n||s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:z.extend({},e),opts:z.extend(!0,{specialEasing:{},easing:z.easing._default},t),originalProperties:e,originalOptions:t,startTime:ot||dt(),duration:t.duration,tweens:[],createTween:function(e,t){e=z.Tween(r,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;t<i;t++)c.tweens[t].run(1);return e?(s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c,e])):s.rejectWith(r,[c,e]),this}}),d=c.props;for(!function(e,t){var i,n,r,o,a;for(i in e)if(r=t[n=$(i)],o=e[i],Array.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=z.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r);else t[n]=r}(d,c.opts.specialEasing);n<a;n++)if(i=ht.prefilters[n].call(c,r,d,c.opts))return v(i.stop)&&(z._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return z.map(d,ft,c),v(c.opts.start)&&c.opts.start.call(r,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),z.fx.timer(z.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c}z.Animation=z.extend(ht,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return oe(i.elem,e,ie.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,r=(e=v(e)?(t=e,["*"]):e.match(I)).length;n<r;n++)i=e[n],ht.tweeners[i]=ht.tweeners[i]||[],ht.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,o,a,s,l,c,d="width"in t||"height"in t,u=this,f={},h=e.style,p=e.nodeType&&re(e),g=G.get(e,"fxshow");for(n in i.queue||(null==(a=z._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,z.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[n],st.test(r)){if(delete t[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;p=!0}f[n]=g&&g[n]||z.style(e,n)}if((l=!z.isEmptyObject(t))||!z.isEmptyObject(f))for(n in d&&1===e.nodeType&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=g&&g.display)&&(c=G.get(e,"display")),"none"===(d=z.css(e,"display"))&&(c?d=c:(se([e],!0),c=e.style.display||c,d=z.css(e,"display"),se([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===z.css(e,"float")&&(l||(u.done(function(){h.display=c}),null==c&&(d=h.display,c="none"===d?"":d)),h.display="inline-block")),i.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(p=g.hidden):g=G.access(e,"fxshow",{display:c}),o&&(g.hidden=!p),p&&se([e],!0),u.done(function(){for(n in p||se([e]),G.remove(e,"fxshow"),f)z.style(e,n,f[n])})),l=ft(p?g[n]:0,n,u),n in g||(g[n]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),z.speed=function(e,t,i){var n=e&&"object"==typeof e?z.extend({},e):{complete:i||!i&&t||v(e)&&e,duration:e,easing:i&&t||t&&!v(t)&&t};return z.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in z.fx.speeds?n.duration=z.fx.speeds[n.duration]:n.duration=z.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&z.dequeue(this,n.queue)},n},z.fn.extend({fadeTo:function(e,t,i,n){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var r=z.isEmptyObject(t),o=z.speed(e,i,n),n=function(){var e=ht(this,z.extend({},t),o);(r||G.get(this,"finish"))&&e.stop(!0)};return n.finish=n,r||!1===o.queue?this.each(n):this.queue(o.queue,n)},stop:function(r,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=z.timers,n=G.get(this);if(t)n[t]&&n[t].stop&&a(n[t]);else for(t in n)n[t]&&n[t].stop&&lt.test(t)&&a(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(o),e=!1,i.splice(t,1));!e&&o||z.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=G.get(this),i=t[a+"queue"],n=t[a+"queueHooks"],r=z.timers,o=i?i.length:0;for(t.finish=!0,z.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),z.each(["toggle","show","hide"],function(e,n){var r=z.fn[n];z.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ut(n,!0),e,t,i)}}),z.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){z.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),z.timers=[],z.fx.tick=function(){var e,t=0,i=z.timers;for(ot=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||z.fx.stop(),ot=void 0},z.fx.timer=function(e){z.timers.push(e),z.fx.start()},z.fx.interval=13,z.fx.start=function(){at||(at=!0,ct())},z.fx.stop=function(){at=null},z.fx.speeds={slow:600,fast:200,_default:400},z.fn.delay=function(n,e){return n=z.fx&&z.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=w.setTimeout(e,n);t.stop=function(){w.clearTimeout(i)}})},t=L.createElement("input"),te=L.createElement("select").appendChild(L.createElement("option")),t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=te.selected,(t=L.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value;var pt,gt=z.expr.attrHandle;z.fn.extend({attr:function(e,t){return j(this,z.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){z.removeAttr(this,e)})}}),z.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?z.prop(e,t,i):(1===o&&z.isXMLDoc(e)||(r=z.attrHooks[t.toLowerCase()]||(z.expr.match.bool.test(t)?pt:void 0)),void 0!==i?null===i?void z.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):!(r&&"get"in r&&null!==(n=r.get(e,t)))&&null==(n=z.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&V(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(I);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),pt={set:function(e,t,i){return!1===t?z.removeAttr(e,i):e.setAttribute(i,i),i}},z.each(z.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||z.find.attr;gt[t]=function(e,t,i){var n,r,o=t.toLowerCase();return i||(r=gt[o],gt[o]=n,n=null!=a(e,t,i)?o:null,gt[o]=r),n}});var _t=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;function mt(e){return(e.match(I)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}z.fn.extend({prop:function(e,t){return j(this,z.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[z.propFix[e]||e]})}}),z.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&z.isXMLDoc(e)||(t=z.propFix[t]||t,r=z.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=z.find.attr(e,"tabindex");return t?parseInt(t,10):_t.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(z.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){z.propFix[this.toLowerCase()]=this}),z.fn.extend({addClass:function(t){var e,i,n,r,o,a,s=0;if(v(t))return this.each(function(e){z(this).addClass(t.call(this,e,vt(this)))});if((e=bt(t)).length)for(;i=this[s++];)if(a=vt(i),n=1===i.nodeType&&" "+mt(a)+" "){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a!==(a=mt(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,a,s=0;if(v(t))return this.each(function(e){z(this).removeClass(t.call(this,e,vt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)for(;i=this[s++];)if(a=vt(i),n=1===i.nodeType&&" "+mt(a)+" "){for(o=0;r=e[o++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");a!==(a=mt(n))&&i.setAttribute("class",a)}return this},toggleClass:function(r,t){var o=typeof r,a="string"==o||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):v(r)?this.each(function(e){z(this).toggleClass(r.call(this,e,vt(this),t),t)}):this.each(function(){var e,t,i,n;if(a)for(t=0,i=z(this),n=bt(r);e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==r&&"boolean"!=o||((e=vt(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&G.get(this,"__className__")||""))})},hasClass:function(e){for(var t,i=0,n=" "+e+" ";t=this[i++];)if(1===t.nodeType&&-1<(" "+mt(vt(t))+" ").indexOf(n))return!0;return!1}});var yt=/\r/g;z.fn.extend({val:function(t){var i,e,n,r=this[0];return arguments.length?(n=v(t),this.each(function(e){1===this.nodeType&&(null==(e=n?t.call(this,e,z(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=z.map(e,function(e){return null==e?"":e+""})),(i=z.valHooks[this.type]||z.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):r?(i=z.valHooks[r.type]||z.valHooks[r.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(yt,""):null==e?"":e:void 0}}),z.extend({valHooks:{option:{get:function(e){var t=z.find.attr(e,"value");return null!=t?t:mt(z.text(e))}},select:{get:function(e){for(var t,i=e.options,n=e.selectedIndex,r="select-one"===e.type,o=r?null:[],a=r?n+1:i.length,s=n<0?a:r?n:0;s<a;s++)if(((t=i[s]).selected||s===n)&&!t.disabled&&(!t.parentNode.disabled||!V(t.parentNode,"optgroup"))){if(t=z(t).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,o=z.makeArray(t),a=r.length;a--;)((n=r[a]).selected=-1<z.inArray(z.valHooks.option.get(n),o))&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),z.each(["radio","checkbox"],function(){z.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<z.inArray(z(e).val(),t)}},m.checkOn||(z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in w;function wt(e){e.stopPropagation()}var Lt=/^(?:focusinfocus|focusoutblur)$/;z.extend(z.event,{trigger:function(e,t,i,n){var r,o,a,s,l,c,d,u=[i||L],f=x.call(e,"type")?e.type:e,h=x.call(e,"namespace")?e.namespace.split("."):[],p=d=o=i=i||L;if(3!==i.nodeType&&8!==i.nodeType&&!Lt.test(f+z.event.triggered)&&(-1<f.indexOf(".")&&(f=(h=f.split(".")).shift(),h.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[z.expando]?e:new z.Event(f,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:z.makeArray(t,[e]),c=z.event.special[f]||{},n||!c.trigger||!1!==c.trigger.apply(i,t))){if(!n&&!c.noBubble&&!g(i)){for(a=c.delegateType||f,Lt.test(a+f)||(p=p.parentNode);p;p=p.parentNode)u.push(p),o=p;o===(i.ownerDocument||L)&&u.push(o.defaultView||o.parentWindow||w)}for(r=0;(p=u[r++])&&!e.isPropagationStopped();)d=p,e.type=1<r?a:c.bindType||f,(l=(G.get(p,"events")||{})[e.type]&&G.get(p,"handle"))&&l.apply(p,t),(l=s&&p[s])&&l.apply&&U(p)&&(e.result=l.apply(p,t),!1===e.result&&e.preventDefault());return e.type=f,n||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(u.pop(),t)||!U(i)||s&&v(i[f])&&!g(i)&&((o=i[s])&&(i[s]=null),z.event.triggered=f,e.isPropagationStopped()&&d.addEventListener(f,wt),i[f](),e.isPropagationStopped()&&d.removeEventListener(f,wt),z.event.triggered=void 0,o&&(i[s]=o)),e.result}},simulate:function(e,t,i){e=z.extend(new z.Event,i,{type:e,isSimulated:!0});z.event.trigger(e,null,t)}}),z.fn.extend({trigger:function(e,t){return this.each(function(){z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return z.event.trigger(e,t,i,!0)}}),m.focusin||z.each({focus:"focusin",blur:"focusout"},function(i,n){function r(e){z.event.simulate(n,e.target,z.event.fix(e))}z.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=G.access(e,n);t||e.addEventListener(i,r,!0),G.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=G.access(e,n)-1;t?G.access(e,n,t):(e.removeEventListener(i,r,!0),G.remove(e,n))}}});var zt=w.location,kt=Date.now(),St=/\?/;z.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new w.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||z.error("Invalid XML: "+e),t};var Vt=/\[\]$/,Kt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;z.param=function(e,t){function i(e,t){t=v(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,r=[];if(Array.isArray(e)||e.jquery&&!z.isPlainObject(e))z.each(e,function(){i(this.name,this.value)});else for(n in e)!function i(n,e,r,o){if(Array.isArray(e))z.each(e,function(e,t){r||Vt.test(n)?o(n,t):i(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==p(e))o(n,e);else for(var t in e)i(n+"["+t+"]",e[t],r,o)}(n,e[n],t,i);return r.join("&")},z.fn.extend({serialize:function(){return z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=z.prop(this,"elements");return e?z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!z(this).is(":disabled")&&Tt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!le.test(e))}).map(function(e,t){var i=z(this).val();return null==i?null:Array.isArray(i)?z.map(i,function(e){return{name:t.name,value:e.replace(Kt,"\r\n")}}):{name:t.name,value:i.replace(Kt,"\r\n")}}).get()}});var At=/%20/g,Et=/#.*$/,Mt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Dt=/^\/\//,Ot={},Bt={},Pt="*/".concat("*"),Rt=L.createElement("a");function Ht(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,r=e.toLowerCase().match(I)||[];if(v(t))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(t)):(o[i]=o[i]||[]).push(t)}}function jt(t,n,r,o){var a={},s=t===Bt;function l(e){var i;return a[e]=!0,z.each(t[e]||[],function(e,t){t=t(n,r,o);return"string"!=typeof t||s||a[t]?s?!(i=t):void 0:(n.dataTypes.unshift(t),l(t),!1)}),i}return l(n.dataTypes[0])||!a["*"]&&l("*")}function Wt(e,t){var i,n,r=z.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n=n||{})[i]=t[i]);return n&&z.extend(!0,e,n),e}Rt.href=zt.href,z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(zt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,z.ajaxSettings),t):Wt(z.ajaxSettings,e)},ajaxPrefilter:Ht(Ot),ajaxTransport:Ht(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,c,d,i,u,n,f,h,r,p=z.ajaxSetup({},t),g=p.context||p,_=p.context&&(g.nodeType||g.jquery)?z(g):z.event,x=z.Deferred(),m=z.Callbacks("once memory"),v=p.statusCode||{},o={},a={},s="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(f){if(!i)for(i={};t=Nt.exec(d);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return f?d:null},setRequestHeader:function(e,t){return null==f&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==f&&(p.mimeType=e),this},statusCode:function(e){if(e)if(f)b.always(e[b.status]);else for(var t in e)v[t]=[v[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),y(0,e),this}};if(x.promise(b),p.url=((e||p.url||zt.href)+"").replace(Dt,zt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(I)||[""],null==p.crossDomain){n=L.createElement("a");try{n.href=p.url,n.href=n.href,p.crossDomain=Rt.protocol+"//"+Rt.host!=n.protocol+"//"+n.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=z.param(p.data,p.traditional)),jt(Ot,p,t,b),f)return b;for(r in(h=z.event&&p.global)&&0==z.active++&&z.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),c=p.url.replace(Et,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(At,"+")):(e=p.url.slice(c.length),p.data&&(p.processData||"string"==typeof p.data)&&(c+=(St.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(c=c.replace(Mt,"$1"),e=(St.test(c)?"&":"?")+"_="+kt+++e),p.url=c+e),p.ifModified&&(z.lastModified[c]&&b.setRequestHeader("If-Modified-Since",z.lastModified[c]),z.etag[c]&&b.setRequestHeader("If-None-Match",z.etag[c])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&b.setRequestHeader("Content-Type",p.contentType),b.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Pt+"; q=0.01":""):p.accepts["*"]),p.headers)b.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(!1===p.beforeSend.call(g,b,p)||f))return b.abort();if(s="abort",m.add(p.complete),b.done(p.success),b.fail(p.error),l=jt(Bt,p,t,b)){if(b.readyState=1,h&&_.trigger("ajaxSend",[b,p]),f)return b;p.async&&0<p.timeout&&(u=w.setTimeout(function(){b.abort("timeout")},p.timeout));try{f=!1,l.send(o,y)}catch(e){if(f)throw e;y(-1,e)}}else y(-1,"No Transport");function y(e,t,i,n){var r,o,a,s=t;f||(f=!0,u&&w.clearTimeout(u),l=void 0,d=n||"",b.readyState=0<e?4:0,n=200<=e&&e<300||304===e,i&&(a=function(e,t,i){for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a=a||r}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,b,i)),a=function(e,t,i,n){var r,o,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,a,b,n),n?(p.ifModified&&((i=b.getResponseHeader("Last-Modified"))&&(z.lastModified[c]=i),(i=b.getResponseHeader("etag"))&&(z.etag[c]=i)),204===e||"HEAD"===p.type?s="nocontent":304===e?s="notmodified":(s=a.state,r=a.data,n=!(o=a.error))):(o=s,!e&&s||(s="error",e<0&&(e=0))),b.status=e,b.statusText=(t||s)+"",n?x.resolveWith(g,[r,s,b]):x.rejectWith(g,[b,s,o]),b.statusCode(v),v=void 0,h&&_.trigger(n?"ajaxSuccess":"ajaxError",[b,p,n?r:o]),m.fireWith(g,[b,s]),h&&(_.trigger("ajaxComplete",[b,p]),--z.active||z.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,i){return z.get(e,t,i,"json")},getScript:function(e,t){return z.get(e,void 0,t,"script")}}),z.each(["get","post"],function(e,r){z[r]=function(e,t,i,n){return v(t)&&(n=n||i,i=t,t=void 0),z.ajax(z.extend({url:e,type:r,dataType:n,data:t,success:i},z.isPlainObject(e)&&e))}}),z._evalUrl=function(e){return z.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},z.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return v(i)?this.each(function(e){z(this).wrapInner(i.call(this,e))}):this.each(function(){var e=z(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=v(t);return this.each(function(e){z(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){z(this).replaceWith(this.childNodes)}),this}}),z.expr.pseudos.hidden=function(e){return!z.expr.pseudos.visible(e)},z.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},z.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Xt=z.ajaxSettings.xhr();m.cors=!!Xt&&"withCredentials"in Xt,m.ajax=Xt=!!Xt,z.ajaxTransport(function(r){var o,a;if(m.cors||Xt&&!r.crossDomain)return{send:function(e,t){var i,n=r.xhr();if(n.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(i in r.xhrFields)n[i]=r.xhrFields[i];for(i in r.mimeType&&n.overrideMimeType&&n.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);o=function(e){return function(){o&&(o=a=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Ft[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=o(),a=n.onerror=n.ontimeout=o("error"),void 0!==n.onabort?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&w.setTimeout(function(){o&&a()})},o=o("abort");try{n.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),z.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return z.globalEval(e),e}}}),z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),z.ajaxTransport("script",function(i){var n,r;if(i.crossDomain)return{send:function(e,t){n=z("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",r=function(e){n.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),L.head.appendChild(n[0])},abort:function(){r&&r()}}});var $t=[],Ut=/(=)\?(?=&|$)|\?\?/;z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||z.expando+"_"+kt++;return this[e]=!0,e}}),z.ajaxPrefilter("json jsonp",function(e,t,i){var n,r,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+n):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||z.error(n+" was not called"),o[0]},e.dataTypes[0]="json",r=w[n],w[n]=function(){o=arguments},i.always(function(){void 0===r?z(w).removeProp(n):w[n]=r,e[n]&&(e.jsonpCallback=t.jsonpCallback,$t.push(n)),o&&v(r)&&r(o[0]),o=r=void 0}),"script"}),m.createHTMLDocument=((t=L.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),z.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(m.createHTMLDocument?((n=(t=L.implementation.createHTMLDocument("")).createElement("base")).href=L.location.href,t.head.appendChild(n)):t=L),n=!i&&[],(i=K.exec(e))?[t.createElement(i[1])]:(i=ge([e],t,n),n&&n.length&&z(n).remove(),z.merge([],i.childNodes)));var n},z.fn.load=function(e,t,i){var n,r,o,a=this,s=e.indexOf(" ");return-1<s&&(n=mt(e.slice(s)),e=e.slice(0,s)),v(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&z.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?z("<div>").append(z.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){z.fn[t]=function(e){return this.on(t,e)}}),z.expr.pseudos.animated=function(t){return z.grep(z.timers,function(e){return t===e.elem}).length},z.offset={setOffset:function(e,t,i){var n,r,o,a,s=z.css(e,"position"),l=z(e),c={};"static"===s&&(e.style.position="relative"),o=l.offset(),n=z.css(e,"top"),a=z.css(e,"left"),a=("absolute"===s||"fixed"===s)&&-1<(n+a).indexOf("auto")?(r=(s=l.position()).top,s.left):(r=parseFloat(n)||0,parseFloat(a)||0),v(t)&&(t=t.call(e,i,z.extend({},o))),null!=t.top&&(c.top=t.top-o.top+r),null!=t.left&&(c.left=t.left-o.left+a),"using"in t?t.using.call(e,c):l.css(c)}},z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){z.offset.setOffset(this,t,e)});var e,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),i=i.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===z.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===z.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=z(e).offset()).top+=z.css(e,"borderTopWidth",!0),r.left+=z.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-z.css(n,"marginTop",!0),left:t.left-r.left-z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===z.css(e,"position");)e=e.offsetParent;return e||_e})}}),z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;z.fn[t]=function(e){return j(this,function(e,t,i){var n;return g(e)?n=e:9===e.nodeType&&(n=e.defaultView),void 0===i?n?n[r]:e[t]:void(n?n.scrollTo(o?n.pageXOffset:i,o?i:n.pageYOffset):e[t]=i)},t,e,arguments.length)}}),z.each(["top","left"],function(e,i){z.cssHooks[i]=Ue(m.pixelPosition,function(e,t){if(t)return t=$e(e,i),He.test(t)?z(e).position()[i]+"px":t})}),z.each({Height:"height",Width:"width"},function(a,s){z.each({padding:"inner"+a,content:s,"":"outer"+a},function(n,o){z.fn[o]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),r=n||(!0===e||!0===t?"margin":"border");return j(this,function(e,t,i){var n;return g(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+a],n["scroll"+a],e.body["offset"+a],n["offset"+a],n["client"+a])):void 0===i?z.css(e,t,r):z.style(e,t,i,r)},s,i?e:void 0,i)}})}),z.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){z.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),z.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),z.proxy=function(e,t){var i,n;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=s.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||z.guid++,n},z.holdReady=function(e){e?z.readyWait++:z.ready(!0)},z.isArray=Array.isArray,z.parseJSON=JSON.parse,z.nodeName=V,z.isFunction=v,z.isWindow=g,z.camelCase=$,z.type=p,z.now=Date.now,z.isNumeric=function(e){var t=z.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return z});var qt=w.jQuery,Gt=w.$;return z.noConflict=function(e){return w.$===z&&(w.$=Gt),e&&w.jQuery===z&&(w.jQuery=qt),z},e||(w.jQuery=w.$=z),z}),define("$",function(e,t){return jQuery.__esModule=!0,jQuery.default=jQuery,jQuery}),define("magix",["$"],function(r){var u=r("$"),o=u.isPlainObject,k=u.isArray,a=0,_=[],S=null,s=window,i=document,b=u(i),l=s.setTimeout,n="changed",y="value";function e(){}function w(e){return"object"==typeof e?e:i.getElementById(e)}function c(e){return!e||"object"!=typeof e}function d(e,t,i,n){var r,o,a,s=0;for(a in e)r=e[a],o=t[a],c(r)&&o===r||B(n,a)||(s=i[a]=1),t[a]=r;return s}function f(e,t,i){if(e=w(e),t=w(t),e&&t&&!(i=e==t))try{i=16==(16&t.compareDocumentPosition(e))}catch(e){}return i}var x,h=JSON.stringify,V="\x1e",K="prototype",L="params",z="path",C="mx-view",p=/[#?].*$/,g=/([^=&?\/#]+)=?([^&#?]*)/g,m=/(?!^)=|&/,t=function(e){return(e||"mx_")+a++},v={rootId:t(),error:function(e){throw e}};function T(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])B(t,r)&&(e[r]=t[r]);return e}function A(e,t,i){for(i in t=[],e)B(e,i)&&t.push(i);return t}function E(e){return e.id||(e.$a=1,e.id=t())}function M(e,t){return t.f-e.f||t.t-e.t}var N=v.hasOwnProperty,I=u("head"),D=function(e,t){t&&!D[e]&&(D[e]=1,I.append("<style>"+t))},O=function(e,t,i,n,r){t=t||_,k(e)||(e=[e]),k(t)||(t=[t]);for(var o=0,a=e;o<a.length;o++){r=a[o];try{n=r&&r.apply(i,t)}catch(e){v.error(e)}}return n},B=function(e,t){return e&&N.call(e,t)},P=function(e,t){var i,n;if(c(t))(i=t+"")[0]==V&&B(e,i)&&(t=e[i]);else for(i in t)n=t[i],n=P(e,n),t[i]=n;return t};function R(e,t,i,n){(n=this).c=[],n.b=t||5,n.x=n.b+(e||20),n.r=i}T(R[K],{get:function(e){e=this.c[V+e];return e&&(e.f++,e.t=a++,e=e.v),e},each:function(e,t,i,n,r){for(var o=0,a=(i=this).c;o<a.length;o++)e(a[o].v,t,i)},set:function(e,t){var i=this.c,n=V+e,r=i[n],o=this.b;if(!r){if(i.length>=this.x)for(i.sort(M);o--;)0<(r=i.pop()).f&&this.del(r.o);r={o:e},i.push(r),i[n]=r}r.v=t,r.f=1,r.t=a++},del:function(e){e=V+e;var t=this.c,i=t[e],n=this.r;i&&(i.f=-1,i.v="",delete t[e],n&&O(n,i.o))},has:function(e){return B(this.c,V+e)}});function H(e,o){if(e){var t,a=[];if(s.seajs)seajs.use(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,n=e;i<n.length;i++){var r=n[i];a.push(r&&r.__esModule&&r.default||r)}o&&o.apply(void 0,a)});else{k(e)||(e=[e]);for(var i=0,n=e;i<n.length;i++)t=n[i],t=r(t),a.push(t&&t.__esModule&&t.default||t);o&&o.apply(void 0,a)}}else o()}function j(){}function W(e,t){t=e.data,e.eventTarget=t.e,O(t.f,e,t.v)}function F(e,t,i,n,r){r&&(t+="."+r.i),n?u(e).off(t,i):u(e).on(t,r,i)}function X(e,t,i){try{i=decodeURIComponent(i)}catch(e){}G[t]=i}function $(e){var t,i=ee.get(e);return i||(G={},t=e.replace(p,""),e==t&&m.test(t)&&(t=""),e.replace(t,"").replace(g,X),ee.set(e,i={a:t,b:G})),{path:i.a,params:T({},i.b)}}function U(e,t){var i,n={};if(e)for(var r=0,o=e;r<o.length;r++)i=o[r],n[t&&i?i[t]:i]=t?i:1+(0|n[i]);return n}function q(e,t,i){return te.has(e)?i=te.get(e):(i=O(Function("return "+e)),-1<e.indexOf(V)?P(t,i):te.set(e,i)),i}var G,Y=function(e,t,i,n,r){return j[K]=t[K],T(r=new j,i),T(e,n),(r.constructor=e)[K]=r,e},Z=u.find||u.zepto,Q=Z.matchesSelector||Z.matches,J=function(e){return e},ee=new R,te=new R,ie={config:function(e,t){return t=v,e&&(t=o(e)?T(t,e):t[e]),t},boot:function(e){T(v,e),H(v.exts,function(){ve().mountView(v.defaultView),ce.on(n,ge)})},toMap:U,toTry:O,toUrl:function(e,t,i){var n,r,o,a=[];for(r in t)n=t[r]+"",i&&!n&&!B(i,r)||(n=encodeURIComponent(n),a.push(o=r+"="+n));return o&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+a.join("&")),e},parseUrl:$,mix:T,has:B,keys:A,inside:f,node:w,applyStyle:D,guid:t,use:H,Cache:R,nodeId:E,guard:J},Z={fire:function(e,t,i,n){var r,o,a,s,l=this,c=l[V+e];if((t=t||{}).type=e,c)for(o=(r=c.length)-1;r--;)(s=c[a=n?r:o-r]).f?(s.x=1,O(s.f,t,l),s.x=""):s.x||(c.splice(a,1),o--);return(c=l["on"+e])&&O(c,t,l),i&&l.off(e),l},on:function(e,t){e=V+e;return(this[e]||(this[e]=[])).push({f:t}),this},off:function(e,t){var i,n=V+e,r=this[n];if(t){if(r)for(var o=0,a=r;o<a.length;o++)if((i=a[o]).f==t){i.f="";break}}else delete this[n],delete this["on"+e];return this}};ie.Event=Z;function ne(e){for(var t=0,i=e=(e+"").split(",");t<i.length;t++){var n=i[t];B(ae,n)?ae[n]++:ae[n]=1}return e}function re(e){for(var t,i=0,n=e;i<n.length;i++)t=n[i],B(ae,t)&&(--ae[t]||(delete ae[t],delete oe[t]))}var oe={},ae={},se={},le=0,ce=T({get:function(e){e=e?oe[e]:oe;return e},set:function(e,t){return le=d(e,oe,se,t)||le,this},digest:function(e,t){e&&ce.set(e,t),le&&(le=0,this.fire(n,{keys:se}),se={})},diff:function(){return se},clean:function(e){return{ctor:function(){e=ne(e),this.on("destroy",function(){return re(e)})}}}},Z);ie.State=ce;function de(e,t,i,n){return n=(n=(n=_e[e])&&n.$v)?n.$d.$a:{},0<t.indexOf(V)&&P(n,i),n}var ue,fe,he=0,pe=function(e,t,i,n,r,o){if(e&&e.$a!=he&&(i=e.$v)&&1<i.$a){(function(e,t,i){var n,e=e.$os;if(e)for(var r=0,o=e;r<o.length&&(n=o[r],!(i=B(t,n)));r++);return i})(i,t)&&i.$b();for(var a=0,s=e.children();a<s.length;a++)o=s[a],pe(_e[o],t)}},ge=function(e,t,i){t=ve(),he=a++,pe(t,e.keys)},_e={},xe=function(e){var t;e.$b||e.$d||e.$cc!=e.$rc||(e.$cr||(e.$cr=1,e.$ca=0,e.fire("created")),t=e.id,e=e.pId,(e=_e[e])&&!B(e.$e,t)&&(e.$e[t]=1,e.$rc++,xe(e)))},me=function(e,t){var i;!e.$ca&&e.$cr&&(e.$cr=0,e.$ca=1,e.fire("alter",t),i=e.id,e=e.pId,(e=_e[e])&&B(e.$e,i)&&(e.$rc--,delete e.$e[i],me(e,t)))},ve=function(e,t){return ue||(x=i.body,w(e=v.rootId)||(x.id=e),ue=new we(e)),ue},be=function(e,t){B(_e,e)||(_e[e]=t,we.fire("add",{vframe:t}))},ye=[];function we(e,t,i){(i=this).id=e,i.$c={},i.$cc=0,i.$rc=0,i.$g=i.$g||1,i.$e={},i.$f=[],i.pId=t,be(e,i)}T(we,{all:function(){return _e},get:function(e){return _e[e]}},Z),T(we[K],Z,{mountView:function(e,t){var i,n,r,o,a,s=this,l=s.id,c=w(l),d=s.pId;!s.$h&&c&&(s.$h=1,s.$i=c.innerHTML),s.unmountView(),s.$b=0,i=$(e||""),r=i[z],c&&r&&(s[z]=e,o=i[L],de(d,e,o),s.$j=i[z],T(o,t),n=s.$g,H(r,function(e){if(n==s.$g){if(!e)return v.error(Error("id:"+l+" cannot load:"+r));a=ct(e),r=new e(l,s,o,c,a),s.$v=r,s.$a=he,ot(r),O(r.init,[o,{node:c,deep:!r.tmpl}],r),r.$b(),r.tmpl||(s.$h=0,r.$e||r.endUpdate())}}))},unmountView:function(){var e,t=this,i=t.$v,n=t.id;t.$f=[],i&&(fe||(e=1,fe={id:n}),t.$b=1,t.unmountZone(0,1),me(t,fe),(t.$v=0)<i.$a&&(i.$a=0,delete Ke[n],delete Ce[n],i.fire("destroy",0,1,1),nt(i,1),ot(i,1),i.owner=0),i.$a--,(n=w(n))&&t.$h&&u(n).html(t.$i),e&&(fe=0)),t.$g++},mountVframe:function(e,t,i){var n,r=this,o=r.id,a=r.$c;return me(r,{id:e}),(n=_e[e])||(B(a,e)||(r.$n=0,r.$cc++),a[e]=e,(n=ye.pop())?we.call(n,e,o):n=new we(e,o)),n.mountView(t,i),n},mountZone:function(e,t){var i,n,r=this,o=[];e=e||r.id;e=u("#"+e+" ["+C+"]");r.$d=1;for(var a=0,s=e;a<s.length;a++)(i=s[a]).$b||(n=E(i),i.$b=1,o.push([n,i.getAttribute(C)]));for(var l,c=0,d=o;c<d.length;c++)n=(l=d[c])[0],i=l[1],r.mountVframe(n,i);r.$d=0,t||xe(r)},unmountVframe:function(e,t){var i,n,r,o,a;e=e?this.$c[e]:this.id,(i=_e[e])&&(a=i.$cr,n=i.pId,i.unmountView(),o=a,(a=_e[r=e])&&(delete _e[r],we.fire("remove",{vframe:a,fcc:o}),(r=w(r))&&(r.$b=0,r.$a=0)),i.id=i.pId=i.$c=i.$e=0,i.$h=0,i.off("alter"),i.off("created"),ye.push(i),(i=_e[n])&&B(i.$c,e)&&(delete i.$c[e],i.$n=0,i.$cc--,t||xe(i)))},unmountZone:function(e,t){for(var i in this.$c)(!e||i!=e&&f(i,e))&&this.unmountVframe(i,1);t||xe(this)},parent:function(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=_e[t.pId];return t},children:function(e){return(e=this).$n||(e.$n=A(e.$c))},invoke:function(e,t){var i,n,r,o=this.$f;return(n=this.$v)&&n.$e?i=(r=n[e])&&O(r,t,n):((n=o[r=V+e])&&(n.r=t===n.a),n={n:e,a:t,k:r},o.push(n),o[r]=n),i}}),ie.Vframe=we;function Le(e){for(var t,i,n,r,o,a,s=e.target,l=e.type,c=[];s!=x;){if((t=function(e,t){var i,n,r,o,a,s,l=[],c=e,d=e.getAttribute("mx-"+t),u=[],f="#",h=0;if(d&&((a=ze.get(d))||(a={v:(a=d.match(ke)||_)[1],n:a[2],i:a[3]},ze.set(d,a)),a=T({},a,{r:d})),a&&!a.v||Ve[t]){if((r=Ce[n=c.$d])&&1==r[c.$e]&&(s=1,f=n),!s){for(u.push(c);c!=x&&(c=c.parentNode);){if(_e[n=c.id]||(r=Ce[n=c.$d])&&1==r[c.$e]){f=n;break}u.push(c)}for(var p=0,g=u;p<g.length;p++)d=g[p],(n=Ce[f])||(n=Ce[f]={}),n[r=d.$e||(d.$e=++Te)]=1,d.$d=f}c=e.id,_e[c]&&(h=f=c);do{if((i=_e[f])&&(s=i.$v)){if(o=(r=s.$so)[t])for(c=o.length;c--;)r={r:n=o[c],v:f,n:n},n?!h&&Q(e,n)&&l.push(r):h&&l.unshift(r);if(s.tmpl&&!h){a&&!a.v&&(a.v=f);break}h=0}}while(i&&(f=i.pId))}return a&&l.push(a),l}(s,l)).length){c=[];for(var d=0,u=t;d<u.length;d++){var f=u[d],h=f.v,p=(f.r,f.n),f=f.i;if(0,o!=h){if(o&&e.isPropagationStopped())break;o=h}(n=(h=_e[h])&&h.$v)?(r=n[p+V+l])&&(e.eventTarget=s,a=f?q(f,n.$d.$a):{},e[L]=a,O(r,e,n)):e.stopPropagation()}}if((i=Ke[r=s.$d])&&(i=i[s.$e])&&i[l]||e.isPropagationStopped()){c.length&&c.push(r);break}o=s.id,_e[o]&&c.push(o),c.push(s),s=s.parentNode||x}if(r=c.length)for(i="#";r--;)(n=c[r]).nodeType?((t=Ke[i])||(t=Ke[i]={}),(a=t[o=n.$e||(n.$e=++Te)])||(a=t[o]={}),a[l]=1):i=n}var ze=new R(30,10),ke=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,Se={},Ve={},Ke={},Ce={},Te=0,Ae="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1998/Math/MathML",Me={option:[1,"<select multiple>"],thead:[1,"<table>"],col:[2,"<table><colgroup>"],tr:[2,"<table><tbody>"],td:[3,"<table><tbody><tr>"],area:[1,"<map>"],param:[1,"<object>"],g:[1,'<svg xmlns="'+Ae+'">'],m:[1,'<math xmlns="'+Ee+'">'],_:[0,""]},Ne=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td;var Ie=i.implementation.createHTMLDocument(""),J=Ie.createElement("base");J.href=i.location.href,Ie.head.appendChild(J);function De(e,t){t=E(t),e.$c[t]?e.unmountVframe(t,1):e.unmountZone(t,1)}function Oe(e,t){return 1==e.nodeType&&(e.$f?t=e.$g:(t=(t=(t=e.$a?"":e.id)||e.getAttribute("mxs"))||(t=e.getAttribute(C))&&$(t)[z],e.$f=1,e.$g=t)),t}function Be(e,t,i,n,r){for(var o,a,s,l,c,d=e.lastChild,u=t.firstChild,f=0,h={},p={};d;)f++,(s=Oe(d))&&(s=h[s]||(h[s]=[])).push(d),d=d.previousSibling;for(;u;)(s=Oe(u))&&(p[s]=(p[s]||0)+1),u=u.nextSibling;for(u=t.firstChild,d=e.firstChild;u;)if(f--,u=(o=u).nextSibling,l=(l=h[s=Oe(o)])&&l.pop()){for(;l!=d;)c=d.nextSibling,e.appendChild(d),d=c;d=l.nextSibling,p[s]&&p[s]--,Ue(l,o,e,i,n,r)}else d?(s=Oe(a=d))&&h[s]&&p[s]?(f++,i.c=1,i.n.push([8,e,o,a])):(d=d.nextSibling,Ue(a,o,e,i,n,r)):(i.c=1,i.n.push([1,e,o]));for(a=e.lastChild;0<f--;)De(n,a),i.n.push([2,e,a]),a=a.previousSibling,i.c=1}function Pe(e){return""+(null==e?"":e)}function Re(e){return"&"+qe[e]+";"}function He(e){return Pe(e).replace(Ge,Re)}function je(e,t,i,n){for(n=e[V];--n;)if(e[i=V+n]===t)return i;return e[i=V+e[V]++]=t,i}function We(e){return Ye[e]}function Fe(e){return encodeURIComponent(Pe(e)).replace(Ze,We)}function Xe(e){return Pe(e).replace(Qe,"\\$&")}var $e={INPUT:[y,"checked"],TEXTAREA:[y],OPTION:["selected"]},Ue=function(e,t,i,n,r,o){if(function(e,t){var i,n=e.nodeName,n=$e[n],r=0;if(n)for(var o=0,a=n;o<a.length;o++)e[i=a[o]]!=t[i]&&(r=1,e[i]=t[i]);return r}(e,t)||1==e.nodeType&&e.hasAttribute("mxv")||!e.isEqualNode||!e.isEqualNode(t))if(e.nodeName===t.nodeName)if(1===e.nodeType){var a=t.getAttribute("mxs");if(!a||a!=e.getAttribute("mxs")){var s=t.getAttribute(C),l=t.innerHTML,c=t.getAttribute("mxa"),d=!c||c!=e.getAttribute("mxa"),u=void 0,f=void 0,h=_e[e.id],p=void 0,g=void 0,_=s&&$(s),a=void 0,x=void 0;if(s&&h&&(!t.id||t.id==e.id)&&h.$j==_[z]&&(g=h.$v)){if(c=l!=h.$i,x=s!=h[z],p=e.getAttribute("mxv"),!c&&!x&&p)for(var m=0,v=a=p.split(",");m<v.length;m++)if("#"==(p=v[m])||B(o,p)){x=1;break}(x||c)&&(u=(p=g.$e&&g.$f)?(a=_[L],de(h.pId,s,a),h.$i=l,h[z]=s,_={node:t,deep:!g.tmpl,attr:d,inner:c,query:x,keys:o},O(p,[a,_],g)&&n.v.push(g),_.deep):f=1)}else u=1,f=h;f&&(n.c=1,h.unmountVframe(0,1)),d&&function(e,t,i,n){var r,o,a;delete e.$f;for(var s=e.attributes,l=t.attributes,c=s.length;c--;)r=s[c].name,t.hasAttribute(r)||("id"==r?n||i.d.push([e,""]):(i.c=1,e.removeAttribute(r)));for(c=l.length;c--;)o=(r=l[c]).name,a=r[y],e.getAttribute(o)!=a&&("id"==o?i.d.push([e,a]):(i.c=1,e.setAttribute(o,a)))}(e,t,n,h&&s),u&&Be(e,t,n,r,o)}}else e.nodeValue!==t.nodeValue&&(n.c=1,e.nodeValue=t.nodeValue);else De(r,e),n.c=1,n.n.push([4,i,t,e])},qe={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},Ge=/[&<>"'\`]/g,Ye={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Ze=/[!')(*]/g,Qe=/[\\'"]/g,Je=function(t,i){function e(e){i.i<i.length?Je(t,i):(d=i.slice(),i.i=i.length=0,e&&c.fire("domready"),O(d))}var n,r,o=t.$k,a=t.$c,s=t.$b,l=_e[s],c=l&&l.$v,d={d:[],v:[],n:[]},u=w(s),f=t.$d,h=t.$a;if(i.i=i.length,t.$c=0,t.$k={},a&&c&&0<c.$a&&(n=c.tmpl)&&c.$d==t){c.fire("dompatch"),delete Ke[s],delete Ce[s],r=function(e,t){var i=Ie.createElement("div"),t=t.namespaceURI,t=t==Ae?"g":t==Ee?"m":(Ne.exec(e)||[0,""])[1],t=Me[t]||Me._;i.innerHTML=t[1]+e;for(var n=t[0];n--;)i=i.lastChild;return i}(n(f,s,h,He,Pe,Fe,je,Xe),u),Be(u,r,d,l,o);for(var p=0,g=d.d;p<g.length;p++)(r=g[p])[0].id=r[1];for(var _=0,x=d.n;_<x.length;_++)1==(r=x[_])[0]?r[1].appendChild(r[2]):2==r[0]?r[1].removeChild(r[2]):4==r[0]?r[1].replaceChild(r[2],r[3]):r[1].insertBefore(r[2],r[3]);l.$d=n=d.c||!c.$e;for(var m=0,v=d.v;m<v.length;m++)(r=v[m]).$b();n&&c.endUpdate(s),d.c&&b.trigger({type:"htmlchanged",vId:s}),e(1)}else e()};function et(e){var t=this;t.$b=e,t.$c=1,t.$d={vId:e},t.$a=((e={})[V]=1,e),t.$e=[],t.$k={}}T(et[K],{get:function(e,t){return t=this.$d,e&&(t=t[e]),t},set:function(e,t){var i=this;return i.$c=d(e,i.$d,i.$k,t)||i.$c,i},digest:function(e,t,i){e=this.set(e,t),t=e.$e;i&&t.push(i),t.i||Je(e,t)},snapshot:function(){return this.$f=h(this.$d),this},altered:function(){if(this.$f)return this.$f!=h(this.$d)},translate:function(e){return P(this.$d,e)},parse:function(e){return q(e,this.$a)}});function tt(e,t,i){return e.a?i=e:((i=function(e){O(i.a,e,this)}).a=[e],i.b=1),i.a=i.a.concat(t.a||t),i}var it=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,nt=function(e,t){var i,n,r=e.$r;for(i in r)n=r[i],(t||n.x)&&rt(r,i,1)},rt=function(e,t,i,n){var r,o=e[t];return o&&o!=n&&((o=(r=o.e).destroy)&&i&&O(o,_,r),delete e[t]),r},ot=function(e,t){var i,n,r,o,a,s,l=e.$eo,c=e.$so,d=e.$el,u=e.id;for(i in l)r=c[n=i],o=t,s=a=void 0,a=0|Se[n],s=o?-1:1,a&&o!==a||F(x,n,Le,o),Se[n]=a+s,r&&(Ve[n]=(0|Ve[n])+s);for(var f=0,h=d;f<h.length;f++)i=h[f],F(i.e,i.n,W,t,{i:u,v:e,f:i.f,m:i.m,e:i.e})},at={win:s,doc:i},st=function(e,t,i){for(var n,r,o,a,s={},l=0,c=e;l<c.length;l++)for(n in r=c[l])o=r[n],a=s[n],"ctor"!=n?(it.test(n)&&(a?o=tt(a,o):o.b=1),s[n]=o):i.push(o);for(n in s)B(t,n)||(t[n]=s[n])};function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this._||(this._=[]);return st(e,this[K],i),this}var ct=function(e){if(!e[V]){e[V]=[];var t,i,n,r=e[K],o=void 0,a=void 0,s={},l=[],c={},d=void 0,u=void 0,f=void 0,h=void 0,p=void 0,g=void 0;for(u in(o=r.mixins)&&st(o,r,e[V]),r)if(t=r[u],o=u.match(it)){if(n=o[1],i=o[2],a=o[3],p={},g=o[4])for(var _=0,x=g=g.split(",");_<x.length;_++)p[f=x[_]]=!0;for(var m=0,v=a=a.split(",");m<v.length;m++){if(f=v[m],d=at[i],h=1,n){if(d){l.push({f:t,e:d,n:f,m:p});continue}h=2,(d=(d=c[f])||(c[f]=[]))[i]||(d[i]=1,d.push(i))}s[f]=s[f]|h,(d=r[f=i+V+f])?d.b&&(t.b?r[f]=tt(t,d):B(r,u)&&(r[f]=t)):r[f]=t}}w="$b",L=(b=r)[y="render"],b[y]=b[w]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0<(z=this).$a&&(z.$a++,z.fire("rendercall"),nt(z),O(L,e,z))},r.$eo=s,r.$el=l,r.$so=c,r.$f=r.assign}var b,y,w,L,z;return e[V]};function dt(e,t,i,n,r){(r=this).owner=t,r.id=e,r.$r={},r.$a=1,r.updater=r.$d=new et(r.id),(e=dt._)&&O(e,[i,{node:n,deep:!r.tmpl}],r)}T(dt,{merge:lt,extend:function e(t,i){var c=this,n=(t=t||{}).ctor,d=[];function u(e,t,i,n,r,o,a,s,l){c.call(a=this,e,t,i,n,r),o=u._,s=[i,{node:n,deep:!a.tmpl}],o&&O(o,s,a),(l=d.concat(r)).length&&O(l,s,a)}return n&&d.push(n),u.merge=lt,u.extend=e,Y(u,c,t,i)}}),T(dt[K],Z,{init:e,beginUpdate:function(e,t){0<(t=this).$a&&t.$e&&t.owner.unmountZone(e,1)},endUpdate:function(e,t,i,n,r){0<(i=this).$a&&(e=e||i.id,t?r=t:(r=i.$e,i.$e=1),(n=i.owner).mountZone(e,t),r||l(i.wrapAsync(function(){!function(e,t,i){for(t=e.$f;t.length;)(i=t.shift()).r||e.invoke(i.n,i.a),delete t[i.k]}(n)}),0))},wrapAsync:function(i,n){var r=this,o=r.$a;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0<o&&o==r.$a)return i.apply(n||r,e)}},observeState:function(e){this.$os=(e+"").split(",")},capture:function(e,t,i,n){return n=this.$r,t?(rt(n,e,1,t),n[e]={e:t,x:i}):t=(n=n[e])&&n.e,t},release:function(e,t){return rt(this.$r,e,t)},render:e}),ie.View=dt;var ut=u.type,ft=Date.now;function ht(){this.id=t("b"),this.$={}}T(ht[K],{get:function(e,t){var i=this.$;if(e){for(var n=k(e)?e.slice():(e+"").split("."),r=void 0;(r=n.shift())&&i;)i=i[r];r&&(i=void 0)}return void 0!==t&&ut(t)!=ut(i)&&(i=t),i},set:function(e,t){var i;o(e)||((i={})[e]=t,e=i),T(this.$,e)}});function pt(e,t,i){(i=this[e])&&(delete this[e],O(i,t,i.e))}var gt=function(e,t,i,n,r){if(e.$d)return e;if(e.$e)return e.enqueue(gt.bind(e,e,t,i,n,r));e.$e=1,k(t)||(t=[t]);for(var s,l,c,d,u,f,h,p,g,o=e.constructor,a=0,_=o.$f,x=(s=i,l=o,c=e,d=t.length,u=n,f=o.$c,h=[],p=S,function(e,t){g++;var i,n,r=this,o=r.$b,a=o.k;h[e+1]=r,t?(p=t,i=1):f.has(a)||(a&&f.set(a,r),o.t=ft(),(n=o.a)&&O(n,r,r),(n=o.x)&&l.clear(n),i=1),c.$d||((n=g==d)&&(c.$e=0,2==u&&(h[0]=p,O(s,h,c))),1==u&&O(s,[t||S,r,n,e],c)),i&&l.fire("end",{bag:r,error:t})}),m=g=0,v=t;m<v.length;m++){var b,y,w,L,z=v[m];z&&(w=(y=(b=o.get(z,r)).e).$b.k,L=x.bind(y,a++),z=void 0,w&&_[w]?_[w].push(L):b.u?(w&&((z=[L]).e=y,_[w]=z,L=pt.bind(_,w)),o.$s(y,L)):L())}return e};function _t(){var e=this;e.id=t("s"),e.$g=[]}T(_t[K],{all:function(e,t){return gt(this,e,t,2)},save:function(e,t){return gt(this,e,t,2,1)},one:function(e,t){return gt(this,e,t,1)},enqueue:function(e){var t=this;return t.$d||(t.$g.push(e),t.dequeue(t.$h)),t},dequeue:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i,n=this;n.$e||n.$d||(n.$e=1,l(function(){n.$e=0,n.$d||(i=n.$g.shift())&&O(i,n.$h=e)},0))},destroy:function(e){(e=this).$d=1,e.$g=0}});function xt(e,t,i){return[h(t),h(e)].join(V)}function mt(e,t,i,n){(n=e&&e.$b)&&t[n.n]&&i.del(n.k)}var vt=T({add:function(e){var t=this.$b;k(e)||(e=[e]);for(var i,n,r,o=0,a=e;o<a.length;o++)(r=a[o])&&(i=r.name,n=r.cache,r.cache=0|n,t[i]=r)},create:function(e){var t=this.meta(e),i=0|e.cache||t.cache,n=new ht;n.set(t),n.$b={n:t.name,a:t.after,x:t.cleans,k:i&&xt(t,e)},o(e)&&n.set(e);t=t.before;return t&&O(t,n,n),this.fire("begin",{bag:n}),n},meta:function(e){return this.$b[e.name||e]||e},get:function(e,t){var i,n;return t||(i=this.cached(e)),i||(i=this.create(e),n=1),{e:i,u:n}},clear:function(e){this.$c.each(mt,U((e+"").split(",")))},cached:function(e){var t,i,n=this.$c,r=this.meta(e),o=0|e.cache||r.cache;return o&&(i=xt(r,e)),i&&((e=this.$f[i])?t=e.e:(t=n.get(i))&&ft()-t.$b.t>o&&(n.del(i),t=0)),t}},Z);return _t.extend=function(e,t,i){function n(){_t.call(this)}return n.$s=e,n.$c=new R(t,i),n.$f={},n.$b={},Y(n,_t,S,vt)},ie.Service=_t,ie.default=ie});var Designer={init:function(o){var e=document.getElementById("boot").src.replace("/editor.js","");seajs.config({paths:{element:e+"/element",editor:e+"/editor",gallery:e+"/gallery",util:e+"/util",i18n:e+"/i18n"}}),seajs.use(["magix","i18n/index"],function(e,t){var i=window.localStorage,n="zh-cn";i&&(n=i.getItem("l.lang")||n),e.config({lang:n}),e.config(o);var r=t.default;e.applyStyle("xzKVLbs_",'body,dd,dl,form,h4,input,ol,p,pre,tbody,td,textarea,tfoot,th,thead,ul{margin:0;padding:0}ol,ul{list-style-type:none;list-style-image:none}a{background-color:transparent}a:active,a:hover{outline-width:0}a:focus{outline:1px dotted}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.8}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h4{font-weight:400;font-size:18px}pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word;overflow:auto}table{border-collapse:collapse;border-spacing:0}th{text-align:left}td,th{border:1px solid #ddd;padding:8px 10px}th{font-weight:inherit;border-bottom-width:2px;border-bottom-color:#ccc}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button;cursor:pointer}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto;resize:vertical}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a:focus,button:focus,input:focus,textarea:focus{outline:none;resize:none}a{color:#06f;text-decoration:none}a:focus,a:hover{color:#0e63e2}a:active,a:focus,a:hover,a:visited{outline:0;text-decoration:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}@font-face{font-family:xzKVLbsa;src:url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAcsAAsAAAAACqQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZXOEjOY21hcAAAAYAAAACWAAACCs4hbhBnbHlmAAACGAAAAugAAAO0BG1azWhlYWQAAAUAAAAALwAAADYPpP4TaGhlYQAABTAAAAAcAAAAJAfeA4pobXR4AAAFTAAAABQAAAAkI+kAAGxvY2EAAAVgAAAAFAAAABQEcAVsbWF4cAAABXQAAAAfAAAAIAEYAF1uYW1lAAAFlAAAAUUAAAJtPlT+fXBvc3QAAAbcAAAATwAAAGizaRo4eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2Bk/ss4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVDy7z9zwv4EhhrmB4RRQmBEkBwA4Ig2aeJzFkbsNwzAMRE+RP0IQwEEG8AReyl1Kl+68g5Eqy7m7NZyj6EZI6viEJ4AnkRJIADWAKAZRAeGNANNLbsh+xDX7FZ6KH7jLuWBmYseeIxeu3PZdZ7+8UkH55TIvIql6raoNWhnNV97fFM57utQt79MRJTEf6ItMjk2OnWN32Ds2SY6OTZiLow6Dq6Neg5uD9gPbdC1VAAB4nH1SO2sUURi9370zd3Zmd+48dh77yr4mO7MmutlsxkkR3DQ2GgtBCAhaCBY2SrAwjUUw5CEo+A/EoAgR1LBpArEUQVBs3MrCYEAbY+xsMnpHV0ghDsM9936cj+9xDhIR+rlDtkkOZVETjaOT6CxCQEehzvAQ1IKwhUfBrom2azESeEFN8uotcgLcOrWcThT6LpWoBgzKMFHrREELB3A87OIp6DhDAPli4ZzZKJnkHii5oLwUn8ZrYFe8ktY9Fp86Om11qtnUfMY086Z5J0VFMYWxoDG46jqyKCs0fihqBXu7cgRXIJMPCmfOq9WieWk1vDbUcGWAhQXIFqvs8bRRMPh/s+Bkzbykq6lcQfWGLZjfTeeymSH/E+If5rNG5AfxURpNJVMiyUFuhCZ9RFzH0oDWx8CvDzCchigcYKcCTmeACc/CqB/vUgqlfh9KlMa7ZxYZa2gNbZH5bJFjg7FFVf1XkPic3j+UfrD3/4RDwT8z3CIH5AbKowZCYuAHXTjegoCBVAa3E006Sa9R2OCxLkzyGAPy9aMkj7bFvc3NPZGfM0uRIH00RqoHmys9Qnorv09vRxKipZneN0H41uPE9qgs7WjVkZecsNwThN7ySg8Br79AhskC9wuSsWPRegCuH062x/l6HIvY8Syss3JTizWPMXirNctkJJ6NZ/mFwXdPa+rwRis3uR6QiEIu4s9cDwQ1wzNqds2YMGrkQry/Gu+Dvgo69EEfvNDfHPwS9pL6v8UKfG7FSuK/KFEMvxBNae0+NTPicyKTtLghwhdRXFsTlaz0jAhAN4j5t/YsbCGCUJbXfYLXD/jz+sAn78lrMoJaaIxTJcpXym3uJbbg6rcwLzQGLegCv0xz6CRL5z1gKpGtR7oQYJpWtUz6nW2/UosOg7agP1Uk2WKfnPQV6pZcejntfGaWLCnw4K7h7Kp2SqZzijInYd1Wv7j6baVQNHBTsD5kNC3zwRKa2CgWFN7eL0lutBh4nGNgZGBgAGLnEJdv8fw2Xxm4WRhA4JrTXQME/d+MhYG5AcjlYGACiQIAFvYJkgB4nGNgZGBgbvjfwBDDwgACQJKRARVwAgBHDwJyeJxjYWBgYH7JwMDCgBsDAB8LAQ0AAAAAAHYA2AEYAT4BWAF8AYoB2nicY2BkYGDgZAhkYGUAASYg5gJCBob/YD4DABGZAXYAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbccxDoAgDAXQfkQEbsOR6gLVpAykCeH0xrj6tkeOPpn+JThs8NgRcCAiIRNmqMZ6ShjdhvU4hbUu6/4SLnE11pulvFM/RSvRA98yEWMA") format("woff")}.xzKVLbs_{font-family:xzKVLbsa;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.xzKVLbsa{margin-top:5px}.xzKVLbsb{margin-top:30px}.xzKVLbsc{margin-right:5px}.xzKVLbsd{margin-right:10px}.xzKVLbse{margin-right:20px}.xzKVLbsf{margin-right:30px}.xzKVLbsg{margin-left:5px}.xzKVLbsh{margin-left:10px}.xzKVLbsi{padding-top:10px}.xzKVLbsj{padding-right:5px}.xzKVLbsk{padding-left:5px}.xzKVLbsl{padding-left:10px}.xzKVLbsm{width:100%}.xzKVLbsn{height:100%}.xzKVLbso{text-align:center}.xzKVLbsp{float:left}.xzKVLbsq{float:right}html .xzKVLbsr{display:inline-block}.xzKVLbss{cursor:pointer}.xzKVLbst{position:absolute}.xzKVLbsu{position:relative}html .xzKVLbsv{display:none}.xzKVLbsw:after,.xzKVLbsw:before{content:" ";display:table}.xzKVLbsw:after{clear:both}.xzKVLbsx{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xzKVLbsy{white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.xzKVLbsz{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;white-space:nowrap;padding:5.5px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xzKVLbsz:focus,.xzKVLbsz:hover{background-color:#a0a0a0;color:#333}.xzKVLbsA{background-color:#06f;color:#fff}.xzKVLbsA:focus,.xzKVLbsA:hover{background-color:#0e63e2;color:#fff}.xzKVLbsz[disabled]{background-color:#fbfbfb}.xzKVLbsz[disabled]:hover{border-color:#e6e6e6}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:#a0a0a0}::selection{background-color:#a0a0a0}.xzKVLbsB,.xzKVLbsC{caret-color:#06f;display:inline-block;height:25px;padding:3px 4px;border-radius:4px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none}.xzKVLbsB:hover,.xzKVLbsC:hover{border-color:#ccc}.xzKVLbsB:focus,.xzKVLbsC:focus,.xzKVLbsD,.xzKVLbsD:hover{border-color:#06f!important}.xzKVLbsC{height:auto}.xzKVLbsB[disabled],.xzKVLbsC[disabled]{background-color:#fbfbfb}.xzKVLbsB[disabled]:hover,.xzKVLbsC[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}.xzKVLbsE{width:32px;height:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;border-radius:8px;background-color:#ccc;margin-right:8px;cursor:pointer;position:relative;transition:all .25s}.xzKVLbsE:after{content:"";display:block;position:absolute;height:12px;width:12px;background:#fff;margin:2px;transition:all .25s;border-radius:50%;left:0}.xzKVLbsE:disabled,.xzKVLbsE:disabled:checked{background-color:#d8d8d8}.xzKVLbsE:checked:after{margin-left:-15px;left:100%}.xzKVLbsE:checked{background-color:#06f}.xzKVLbsF{margin-bottom:8px}.xzKVLbsG{height:25px;line-height:25px;text-align:right;width:98px;vertical-align:top;white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.xzKVLbsH{display:inline-block;position:relative;min-height:25px;line-height:25px}.xzKVLbsI{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.xzKVLbsI:after,.xzKVLbsI:before{content:""}.xzKVLbsI:after,.xzKVLbsI:before,.xzKVLbsJ{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:xzKVLbs_ 1s ease-in-out infinite both;animation:xzKVLbs_ 1s ease-in-out infinite both}.xzKVLbsI:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.xzKVLbsJ{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes xzKVLbs_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes xzKVLbs_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.xzKVLbsK{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143}.xzKVLbsL{padding:18px 25px}.xzKVLbsM{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6}#app,body,html{height:100%;overflow:hidden}@font-face{font-family:xzKVLbsb;src:url(//at.alicdn.com/t/font_550514_i9xewk87fqd.eot);src:url(//at.alicdn.com/t/font_550514_i9xewk87fqd.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_550514_i9xewk87fqd.woff) format("woff"),url(//at.alicdn.com/t/font_550514_i9xewk87fqd.ttf) format("truetype"),url(//at.alicdn.com/t/font_550514_i9xewk87fqd.svg#iconfont) format("svg")}.xzKVLbsN{font-family:xzKVLbsb;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.xzKVLbsO{width:140px;text-align:left;height:25px;line-height:20px;padding:3px 4px}'),e.View.merge({ctor:function(){this.updater.set({i18n:r})}}),document.title=r("_en"),e.State.on("__s",function(e){document.title=r("_en"),i&&i.setItem("l.lang",e.lang)}),e.boot({defaultPath:"/index",defaultView:"editor/index",rootId:"app",error:function(e){setTimeout(function(){throw e},0)}})})}};define("gallery/mx-cell/focus",["magix","$","../../util/table"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("$"),o=e("../../util/table");n.default.applyStyle("xzKVLbsn",".xzKVLbsc_{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.xzKVLbsca{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.xzKVLbsca:hover{background:#ccc}.xzKVLbscb{width:16px;margin:2px}.xzKVLbscc,.xzKVLbscc:hover{background:#06f;color:#fff}.xzKVLbscd,.xzKVLbscd .xzKVLbsca{cursor:not-allowed;opacity:.7}.xzKVLbscd .xzKVLbsca,.xzKVLbscd .xzKVLbsca:hover{background:#e9e9e9}.xzKVLbscd .xzKVLbscc,.xzKVLbscd .xzKVLbscc:hover{background:#6aa5ff}.xzKVLbsce{transform:rotate(180deg)}.xzKVLbscf{transform:rotate(90deg)}.xzKVLbscg{transform:rotate(270deg)}"),t.default=n.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.disabled,e=e.i18n;return l+='<ul class="xzKVLbsx xzKVLbsc_',c&&(l+=" xzKVLbscd"),l+='"><li title="'+n(e("_fR"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN" mx-click="'+t+"\x1e__bB({key:'left'})\">&#xe616;</li><li title=\""+n(e("_fS"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN xzKVLbsce" mx-click="'+t+"\x1e__bB({key:'right'})\">&#xe616;</li><li title=\""+n(e("_fT"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN xzKVLbscf" mx-click="'+t+"\x1e__bB({key:'top'})\">&#xe616;</li><li title=\""+n(e("_fU"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN xzKVLbscg" mx-click="'+t+"\x1e__bB({key:'bottom'})\">&#xe616;</li></ul>"},init:function(e){this.assign(e),this.__t=r.default("#"+this.id)},assign:function(e){return this.__fQ=e.props,this.updater.set({disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bB<click>":function(e){var t=e.params.key,e=this.__fQ;o.default.__fF(e,t)&&this.__t.trigger("change")}})}),define("gallery/mx-cell/index",["magix","$","../../util/table"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("$"),o=e("../../util/table");n.default.applyStyle("xzKVLbsn",".xzKVLbsc_{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.xzKVLbsca{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.xzKVLbsca:hover{background:#ccc}.xzKVLbscb{width:16px;margin:2px}.xzKVLbscc,.xzKVLbscc:hover{background:#06f;color:#fff}.xzKVLbscd,.xzKVLbscd .xzKVLbsca{cursor:not-allowed;opacity:.7}.xzKVLbscd .xzKVLbsca,.xzKVLbscd .xzKVLbsca:hover{background:#e9e9e9}.xzKVLbscd .xzKVLbscc,.xzKVLbscd .xzKVLbscc:hover{background:#6aa5ff}.xzKVLbsce{transform:rotate(180deg)}.xzKVLbscf{transform:rotate(90deg)}.xzKVLbscg{transform:rotate(270deg)}"),t.default=n.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.disabled,d=e.i18n;l+='<ul class="xzKVLbsx xzKVLbsc_',c&&(l+=" xzKVLbscd"),l+='">';e="//img.alicdn.com/tfs/";return l+='<li class="xzKVLbsp xzKVLbsca" title="'+n(d("__ag"))+'" mx-click="'+t+'\x1e__bB({type:\'rt\'})"><img class="xzKVLbscb" src="'+n(e)+'TB1CxUfuTqWBKNjSZFAXXanSpXa-200-200.svg"/></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("__ah"))+'" mx-click="'+t+'\x1e__bB({type:\'rb\'})"><img class="xzKVLbscb" src="'+n(e)+'TB1w9NvuP7nBKNjSZLeXXbxCFXa-200-200.svg"/></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("__aj"))+'" mx-click="'+t+'\x1e__bB({type:\'cb\'})"><img class="xzKVLbscb" src="'+n(e)+'TB1ylQtuRsmBKNjSZFsXXaXSVXa-200-200.svg"/></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("__ak"))+'" mx-click="'+t+'\x1e__bB({type:\'ca\'})"><img class="xzKVLbscb" src="'+n(e)+'TB1efU6uOMnBKNjSZFCXXX0KFXa-200-200.svg"/></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("__ai"))+'" mx-click="'+t+'\x1e__bB({type:\'r\'})"><img class="xzKVLbscb" src="'+n(e)+'TB16QchuRsmBKNjSZFFXXcT9VXa-200-200.svg"/></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("__al"))+'" mx-click="'+t+'\x1e__bB({type:\'c\'})"><img class="xzKVLbscb" src="'+n(e)+'TB13fs.uHArBKNjSZFLXXc_dVXa-200-200.svg"/></li></ul><ul class="xzKVLbsx xzKVLbsc_',c&&(l+=" xzKVLbscd"),l+='" style="display:block"><li class="xzKVLbsp xzKVLbsca" title="'+n(d("_fX"))+'" mx-click="'+t+'\x1e__fW({type:\'ml\'})"><i mxs="xzKVLbsx:_" class="xzKVLbsN xzKVLbsce">&#xe603;</i></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("_fY"))+'" mx-click="'+t+'\x1e__fW({type:\'mr\'})"><i mxs="xzKVLbsx:a" class="xzKVLbsN">&#xe603;</i></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("_fZ"))+'" mx-click="'+t+'\x1e__fW({type:\'mu\'})"><i mxs="xzKVLbsx:b" class="xzKVLbsN xzKVLbscg">&#xe603;</i></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("_g_"))+'" mx-click="'+t+'\x1e__fW({type:\'md\'})"><i mxs="xzKVLbsx:c" class="xzKVLbsN xzKVLbscf">&#xe603;</i></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("_ga"))+'" mx-click="'+t+'\x1e__fW({type:\'sh\'})"><i mxs="xzKVLbsx:d" class="xzKVLbsN">&#xe672;</i></li><li class="xzKVLbsp xzKVLbsca" title="'+n(d("_gb"))+'" mx-click="'+t+'\x1e__fW({type:\'sv\'})"><i mxs="xzKVLbsx:e" class="xzKVLbsN xzKVLbscf">&#xe672;</i></li></ul>'},init:function(e){this.assign(e),this.__t=r.default("#"+this.id)},assign:function(e){return this.updater.set({props:e.props,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bB<click>":function(e){var t=this.updater.get();this.updater.get("disabled")||o.default.__fJ(t.props,e.params.type)&&this.__t.trigger("change")},"__fW<click>":function(e){var t=this.updater.get();this.updater.get("disabled")||o.default.__fV(t.props,e.params.type)&&this.__t.trigger("change")}})}),define("gallery/mx-cell/size",["$","magix","../../util/converter","../../util/table","../../cainiao/const","../mx-number/index"],function(e,t,i){e("../mx-number/index"),t.__esModule=!0;var n=e("$"),r=e("magix"),o=e("../../util/converter"),a=e("../../util/table"),s=e("../../cainiao/const");r.default.applyStyle("xzKVLbso",".xzKVLbsch{display:block;margin:4px 0}.xzKVLbsci{display:inline-flex;align-items:center}"),t.default=r.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.read,d=e.mSize,u=e.col,f=e.disabled,h=e.i18n;return l+='<div class="xzKVLbsch xzKVLbsB xzKVLbsu" ',(e=f)&&(l+='readonly="'+n(e)+'" '),l+=' mx-input="'+t+"\x1e__bB({type:'col'})\" mx-view=\"gallery/mx-number/index?fixed=2&min="+o(c(d))+"&value="+o(c(u.width)),(e=f)&&(l+="&disabled="+o(e)),l+='"></div><div class="xzKVLbsch xzKVLbsB xzKVLbsu" style="',u.autoHeight&&(l+="display:none"),l+='" ',(e=f)&&(l+='readonly="'+n(e)+'" '),l+=' mx-input="'+t+"\x1e__bB({type:'row'})\" mx-view=\"gallery/mx-number/index?fixed=2&min="+o(c(d))+"&value="+o(c(u.height)),(e=f)&&(l+="&disabled="+o(e)),l+='"></div><div mxv mxa="xzKVLbsy:_" class="xzKVLbsci">'+n(h("__eH"))+':<input type="checkbox" ',(e=u.autoHeight)&&(l+="checked"),l+=' class="xzKVLbsE xzKVLbsg" mx-change="'+t+'\x1e__gc()"/></div>'},init:function(e){this.assign(e),this.__t=n.default("#"+this.id)},assign:function(e){var t=e.props,i=t.rows,n=t.rowIndex,t=t.colIndex,n=i[n],t=(t=(n=n||i[0]).cells[t])||n.cells[0];return this.updater.set({col:t,props:e.props,mSize:s.default.TABLE_MIN_SIZE,read:o.default.__i,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__gc<change>":function(e){var t=this.updater.get(),i=t.props,t=t.col,e=e.eventTarget.checked;(t.autoHeight=e)&&(t.height=s.default.TABLE_ROWS_HEIGHT),a.default.__l(i),this.__t.trigger("change")},"__bB<input,change>":function(e){var t=e.params.type,i=this.updater.get(),n=i.props,i=i.col,e=o.default.__h(e.value);"row"==t?i.height=e:"col"==t&&(i.width=e),i.id||(i.id=r.default.guid("td_")),a.default.__l(n,{col:i}),this.__t.trigger("change")}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";var e=navigator.userAgent,t=navigator.platform,f=/gecko\/\d/i.test(e),i=/MSIE \d/.test(e),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),r=/Edge\/(\d+)/.exec(e),x=i||n||r,m=x&&(i?document.documentMode||6:+(r||n)[1]),h=!r&&/WebKit\//.test(e),n=h&&/Qt\/\d+\.\d+/.test(e),o=!r&&/Chrome\//.test(e),p=/Opera\//.test(e),l=/Apple Computer/.test(navigator.vendor),a=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),c=/PhantomJS/.test(e),s=!r&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),d=/Android/.test(e),u=s||d||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),g=s||/Mac/.test(t),_=/\bCrOS\b/.test(e),v=/win/i.test(t),e=p&&e.match(/Version\/(\d*\.\d*)/);(e=e&&Number(e[1]))&&15<=e&&(h=!(p=!1));var b=g&&(n||p&&(null==e||e<12.11)),y=f||x&&9<=m;function w(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var L,z=function(e,t){var i=e.className,n=w(t).exec(i);n&&(t=i.slice(n.index+n[0].length),e.className=i.slice(0,n.index)+(t?n[1]+t:""))};function k(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function S(e,t){return k(e).appendChild(t)}function V(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function K(e,t,i,n){n=V(e,t,i,n);return n.setAttribute("role","presentation"),n}function C(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function T(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function A(e,t){var i=e.className;w(t).test(i)||(e.className+=(i?" ":"")+t)}function E(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!w(i[n]).test(t)&&(t+=" "+i[n]);return t}L=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var M=function(e){e.select()};function N(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function I(e,t,i){for(var n in t=t||{},e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function D(e,t,i,n,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=r||0;;){var s=e.indexOf("\t",o);if(s<0||t<=s)return a+(t-o);a+=s-o,a+=i-a%i,o=s+1}}s?M=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:x&&(M=function(e){try{e.select()}catch(e){}});var O=function(){this.id=null};function B(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}O.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var P=30,R={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},j={origin:"*mouse"},W={origin:"+move"};function F(e,t,i){for(var n=0,r=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||t<=r+a)return n+Math.min(a,t-r);if(r+=o-n,n=o+1,t<=(r+=i-r%i))return n}}var X=[""];function $(e){for(;X.length<=e;)X.push(U(X)+" ");return X[e]}function U(e){return e[e.length-1]}function q(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function G(){}function Y(e,t){e=Object.create?Object.create(e):(G.prototype=e,new G);return t&&I(t,e),e}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(e){return/\w/.test(e)||"\x80"<e&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function J(e,t){return t?!!(-1<t.source.indexOf("\\w")&&Q(e))||t.test(e):Q(e)}function ee(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}var te=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return 768<=e.charCodeAt(0)&&te.test(e)}function ne(e,t,i){for(;(i<0?0<t:t<e.length)&&ie(e.charAt(t));)t+=i;return t}function re(e,t,i){for(var n=i<t?-1:1;;){if(t==i)return t;var r=(t+i)/2,r=n<0?Math.ceil(r):Math.floor(r);if(r==t)return e(r)?t:i;e(r)?i=r:t=r+n}}function oe(e,t,i){var n=this;this.input=i,n.scrollbarFiller=V("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=V("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=K("div",null,"CodeMirror-code"),n.selectionDiv=V("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=V("div",null,"CodeMirror-cursors"),n.measure=V("div",null,"CodeMirror-measure"),n.lineMeasure=V("div",null,"CodeMirror-measure"),n.lineSpace=K("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none");var r=K("div",[n.lineSpace],"CodeMirror-lines");n.mover=V("div",[r],null,"position: relative"),n.sizer=V("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=V("div",null,null,"position: absolute; height: "+P+"px; width: 1px;"),n.gutters=V("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=V("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=V("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),x&&m<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),h||f&&u||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function ae(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(t<o){i=r;break}t-=o}return i.lines[t]}function se(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,function(e){e=e.text;r==i.line&&(e=e.slice(0,i.ch)),r==t.line&&(e=e.slice(t.ch)),n.push(e),++r}),n}function le(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function ce(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function de(e){if(null==e.parent)return null;for(var t=e.parent,i=B(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function ue(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],o=r.height;if(t<o){e=r;continue e}t-=o,i+=r.chunkSize()}return i}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return i+a}function fe(e,t){return t>=e.first&&t<e.first+e.size}function he(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function pe(e,t,i){if(void 0===i&&(i=null),!(this instanceof pe))return new pe(e,t,i);this.line=e,this.ch=t,this.sticky=i}function ge(e,t){return e.line-t.line||e.ch-t.ch}function _e(e,t){return e.sticky==t.sticky&&0==ge(e,t)}function xe(e){return pe(e.line,e.ch)}function me(e,t){return ge(e,t)<0?t:e}function ve(e,t){return ge(e,t)<0?e:t}function be(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ye(e,t){if(t.line<e.first)return pe(e.first,0);var i=e.first+e.size-1;return t.line>i?pe(i,ae(e,i).text.length):(e=ae(e,(i=t).line).text.length,null==(t=i.ch)||e<t?pe(i.line,e):t<0?pe(i.line,0):i)}function we(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=ye(e,t[n]);return i}var Le=!1,ze=!1;function ke(e,t,i){this.marker=e,this.from=t,this.to=i}function Se(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function Ve(e,t){if(t.full)return null;var i=fe(e,t.from.line)&&ae(e,t.from.line).markedSpans,n=fe(e,t.to.line)&&ae(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,o=t.to.ch,e=0==ge(t.from,t.to),a=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o,a=e[r],s=a.marker;!(null==a.from||(s.inclusiveLeft?a.from<=t:a.from<t))&&(a.from!=t||"bookmark"!=s.type||i&&a.marker.insertLeft)||(o=null==a.to||(s.inclusiveRight?a.to>=t:a.to>t),(n=n||[]).push(new ke(s,a.from,o?null:a.to)))}return n}(i,r,e),s=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o,a=e[r],s=a.marker;!(null==a.to||(s.inclusiveRight?a.to>=t:a.to>t))&&(a.from!=t||"bookmark"!=s.type||i&&!a.marker.insertLeft)||(o=null==a.from||(s.inclusiveLeft?a.from<=t:a.from<t),(n=n||[]).push(new ke(s,o?null:a.from-t,null==a.to?null:a.to-t)))}return n}(n,o,e),l=1==t.text.length,c=U(t.text).length+(l?r:0);if(a)for(var d=0;d<a.length;++d){var u,f=a[d];null==f.to&&((u=Se(s,f.marker))?l&&(f.to=null==u.to?null:u.to+c):f.to=r)}if(s)for(var h=0;h<s.length;++h){var p=s[h];null!=p.to&&(p.to+=c),null==p.from?Se(a,p.marker)||(p.from=c,l&&(a=a||[]).push(p)):(p.from+=c,l&&(a=a||[]).push(p))}a=a&&Ke(a),s&&s!=a&&(s=Ke(s));var g=[a];if(!l){var _,x=t.text.length-2;if(0<x&&a)for(var m=0;m<a.length;++m)null==a[m].to&&(_=_||[]).push(new ke(a[m].marker,null,null));for(var v=0;v<x;++v)g.push(_);g.push(s)}return g}function Ke(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ce(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Te(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Ae(e){return e.inclusiveLeft?-1:0}function Ee(e){return e.inclusiveRight?1:0}function Me(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),i=ge(n.from,r.from)||Ae(e)-Ae(t);if(i)return-i;r=ge(n.to,r.to)||Ee(e)-Ee(t);return r||t.id-e.id}function Ne(e,t){var i,n=ze&&e.markedSpans;if(n)for(var r,o=0;o<n.length;++o)(r=n[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!i||Me(i,r.marker)<0)&&(i=r.marker);return i}function Ie(e){return Ne(e,!0)}function De(e){return Ne(e,!1)}function Oe(e,t,i,n,r){var t=ae(e,t),o=ze&&t.markedSpans;if(o)for(var a=0;a<o.length;++a){var s=o[a];if(s.marker.collapsed){var l=s.marker.find(0),c=ge(l.from,i)||Ae(s.marker)-Ae(r),d=ge(l.to,n)||Ee(s.marker)-Ee(r);if(!(0<=c&&d<=0||c<=0&&0<=d)&&(c<=0&&(s.marker.inclusiveRight&&r.inclusiveLeft?0<=ge(l.to,i):0<ge(l.to,i))||0<=c&&(s.marker.inclusiveRight&&r.inclusiveLeft?ge(l.from,n)<=0:ge(l.from,n)<0)))return 1}}}function Be(e){for(var t;t=Ie(e);)e=t.find(-1,!0).line;return e}function Pe(e,t){var i=ae(e,t),e=Be(i);return i==e?t:de(e)}function Re(e,t){if(t>e.lastLine())return t;var i,n=ae(e,t);if(!He(e,n))return t;for(;i=De(n);)n=i.find(1,!0).line;return de(n)+1}function He(e,t){var i=ze&&t.markedSpans;if(i)for(var n,r=0;r<i.length;++r)if((n=i[r]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&function e(t,i,n){if(null==n.to){var r=n.marker.find(1,!0);return e(t,r.line,Se(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==i.text.length)return!0;for(var o=void 0,a=0;a<i.markedSpans.length;++a)if((o=i.markedSpans[a]).marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&e(t,i,o))return!0}(e,t,n))return!0}}function je(e){for(var t=0,i=(e=Be(e)).parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var o=i.parent;o;o=(i=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==i)break;t+=s.height}return t}function We(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=Ie(n);){var r=t.find(0,!0),n=r.from.line;i+=r.from.ch-r.to.ch}for(n=e;t=De(n);){var o=t.find(0,!0);i-=n.text.length-o.from.ch,i+=(n=o.to.line).text.length-o.to.ch}return i}function Fe(e){var i=e.display,e=e.doc;i.maxLine=ae(e,e.first),i.maxLineLength=We(i.maxLine),i.maxLineChanged=!0,e.iter(function(e){var t=We(e);t>i.maxLineLength&&(i.maxLineLength=t,i.maxLine=e)})}var Xe=null;function $e(e,t,i){var n;Xe=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==i?n=r:Xe=r),o.from==t&&(o.from!=o.to&&"before"!=i?n=r:Xe=r)}return null!=n?n:Xe}var Ue,qe,Ge,Ye,Ze,Qe,Je,et=(Ue="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",qe="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",Ge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Ye=/[stwN]/,Ze=/[LRr]/,Qe=/[Lb1n]/,Je=/[1n]/,function(e,t){var i="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!Ge.test(e))return!1;for(var n,r=e.length,o=[],a=0;a<r;++a)o.push((n=e.charCodeAt(a))<=247?Ue.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?qe.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L");for(var s=0,l=i;s<r;++s){var c=o[s];"m"==c?o[s]=l:l=c}for(var d=0,u=i;d<r;++d){var f=o[d];"1"==f&&"r"==u?o[d]="n":Ze.test(f)&&"r"==(u=f)&&(o[d]="R")}for(var h=1,p=o[0];h<r-1;++h){var g=o[h];"+"==g&&"1"==p&&"1"==o[h+1]?o[h]="1":","!=g||p!=o[h+1]||"1"!=p&&"n"!=p||(o[h]=p),p=g}for(var _=0;_<r;++_){var x=o[_];if(","==x)o[_]="N";else if("%"==x){for(var m=void 0,m=_+1;m<r&&"%"==o[m];++m);for(var v=_&&"!"==o[_-1]||m<r&&"1"==o[m]?"1":"N",b=_;b<m;++b)o[b]=v;_=m-1}}for(var y=0,w=i;y<r;++y){var L=o[y];"L"==w&&"1"==L?o[y]="L":Ze.test(L)&&(w=L)}for(var z=0;z<r;++z)if(Ye.test(o[z])){for(var k=void 0,k=z+1;k<r&&Ye.test(o[k]);++k);for(var S="L"==(z?o[z-1]:i),V=S==("L"==(k<r?o[k]:i))?S?"L":"R":i,K=z;K<k;++K)o[K]=V;z=k-1}for(var C,T=[],A=0;A<r;)if(Qe.test(o[A])){var E=A;for(++A;A<r&&Qe.test(o[A]);++A);T.push(new tt(0,E,A))}else{var M=A,N=T.length;for(++A;A<r&&"L"!=o[A];++A);for(var I=M;I<A;)if(Je.test(o[I])){M<I&&T.splice(N,0,new tt(1,M,I));var D=I;for(++I;I<A&&Je.test(o[I]);++I);T.splice(N,0,new tt(2,D,I)),M=I}else++I;M<A&&T.splice(N,0,new tt(1,M,A))}return"ltr"==t&&(1==T[0].level&&(C=e.match(/^\s+/))&&(T[0].from=C[0].length,T.unshift(new tt(0,0,C[0].length))),1==U(T).level&&(C=e.match(/\s+$/))&&(U(T).to-=C[0].length,T.push(new tt(0,r-C[0].length,r)))),"rtl"==t?T.reverse():T});function tt(e,t,i){this.level=e,this.from=t,this.to=i}function it(e,t){var i=e.order;return null==i&&(i=e.order=et(e.text,t)),i}var nt=[],rt=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):(e=e._handlers||(e._handlers={}))[t]=(e[t]||nt).concat(i)};function ot(e,t){return e._handlers&&e._handlers[t]||nt}function at(e,t,i){var n;e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):!(e=(n=e._handlers)&&n[t])||-1<(i=B(e,i))&&(n[t]=e.slice(0,i).concat(e.slice(i+1)))}function st(e,t){var i=ot(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function lt(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),st(e,i||t.type,e,t),pt(t)||t.codemirrorIgnore}function ct(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==B(i,t[n])&&i.push(t[n])}function dt(e,t){return 0<ot(e,t).length}function ut(e){e.prototype.on=function(e,t){rt(this,e,t)},e.prototype.off=function(e,t){at(this,e,t)}}function ft(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ht(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function pt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function gt(e){ft(e),ht(e)}function _t(e){return e.target||e.srcElement}function xt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),g&&e.ctrlKey&&1==t&&(t=3),t}var mt,vt,bt=function(){if(x&&m<9)return!1;var e=V("div");return"draggable"in e||"dragDrop"in e}();var yt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(i.push(o.slice(0,a)),t+=a+1):(i.push(o),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},wt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Lt="oncopy"in(n=V("div"))||(n.setAttribute("oncopy","return;"),"function"==typeof n.oncopy),zt=null;var kt={},St={};function Vt(e){if("string"==typeof e&&St.hasOwnProperty(e))e=St[e];else if(e&&"string"==typeof e.name&&St.hasOwnProperty(e.name)){var t=St[e.name];"string"==typeof t&&(t={name:t}),(e=Y(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Vt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Vt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Kt(e,t){t=Vt(t);var i=kt[t.name];if(!i)return Kt(e,"text/plain");var n=i(e,t);if(Ct.hasOwnProperty(t.name)){var r,o=Ct[t.name];for(r in o)o.hasOwnProperty(r)&&(n.hasOwnProperty(r)&&(n["_"+r]=n[r]),n[r]=o[r])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var Ct={};function Tt(e,t){I(t,Ct.hasOwnProperty(e)?Ct[e]:Ct[e]={})}function At(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i,n={};for(i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Et(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function Mt(e,t,i){return!e.startState||e.startState(t,i)}var Nt=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};Nt.prototype.eol=function(){return this.pos>=this.string.length},Nt.prototype.sol=function(){return this.pos==this.lineStart},Nt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Nt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Nt.prototype.eat=function(e){var t=this.string.charAt(this.pos),e="string"==typeof e?t==e:t&&(e.test?e.test(t):e(t));if(e)return++this.pos,t},Nt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Nt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Nt.prototype.skipToEnd=function(){this.pos=this.string.length},Nt.prototype.skipTo=function(e){e=this.string.indexOf(e,this.pos);if(-1<e)return this.pos=e,!0},Nt.prototype.backUp=function(e){this.pos-=e},Nt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=D(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?D(this.string,this.lineStart,this.tabSize):0)},Nt.prototype.indentation=function(){return D(this.string,null,this.tabSize)-(this.lineStart?D(this.string,this.lineStart,this.tabSize):0)},Nt.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}n=function(e){return i?e.toLowerCase():e};if(n(this.string.substr(this.pos,e.length))==n(e))return!1!==t&&(this.pos+=e.length),!0},Nt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Nt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Nt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Nt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var It=function(e,t){this.state=e,this.lookAhead=t},Dt=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Ot(t,i,n,e){var l=[t.state.modeGen],r={};$t(t,i.text,t.doc.mode,n,function(e,t){return l.push(e,t)},r,e);for(var c=n.state,o=0;o<t.state.overlays.length;++o)!function(e){n.baseTokens=l;var o=t.state.overlays[e],a=1,s=0;n.state=!0,$t(t,i.text,o.mode,n,function(e,t){for(var i=a;s<e;){var n=l[a];e<n&&l.splice(a,1,e,l[a+1],n),a+=2,s=Math.min(e,n)}if(t)if(o.opaque)l.splice(i,a-i,e,"overlay "+t),a=i+2;else for(;i<a;i+=2){var r=l[i+1];l[i+1]=(r?r+" ":"")+"overlay "+t}},r),n.state=c,n.baseTokens=null,n.baseTokenPos=1}(o);return{styles:l,classes:r.bgClass||r.textClass?r:null}}function Bt(e,t,i){var n,r,o;return t.styles&&t.styles[0]==e.state.modeGen||(n=Pt(e,de(t)),r=t.text.length>e.options.maxHighlightLength&&At(e.doc.mode,n.state),o=Ot(e,t,n),r&&(n.state=r),t.stateAfter=n.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))),t.styles}function Pt(i,n,e){var t=i.doc,r=i.display;if(!t.mode.startState)return new Dt(t,!0,n);var o=function(e,t,i){for(var n,r,o=e.doc,a=i?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;a<s;--s){if(s<=o.first)return o.first;var l=ae(o,s-1),c=l.stateAfter;if(c&&(!i||s+(c instanceof It?c.lookAhead:0)<=o.modeFrontier))return s;l=D(l.text,null,e.options.tabSize);(null==r||l<n)&&(r=s-1,n=l)}return r}(i,n,e),a=o>t.first&&ae(t,o-1).stateAfter,s=a?Dt.fromSaved(t,a,o):new Dt(t,Mt(t.mode),o);return t.iter(o,n,function(e){Rt(i,e.text,s);var t=s.line;e.stateAfter=t==n-1||t%5==0||t>=r.viewFrom&&t<r.viewTo?s.save():null,s.nextLine()}),e&&(t.modeFrontier=s.line),s}function Rt(e,t,i,n){var r=e.doc.mode,o=new Nt(t,e.options.tabSize,i);for(o.start=o.pos=n||0,""==t&&Ht(r,i.state);!o.eol();)jt(r,o,i.state),o.start=o.pos}function Ht(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){t=Et(e,t);return t.mode.blankLine?t.mode.blankLine(t.state):void 0}}function jt(e,t,i,n){for(var r=0;r<10;r++){n&&(n[0]=Et(e,i).mode);var o=e.token(t,i);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Dt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Dt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Dt.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Dt.fromSaved=function(e,t,i){return t instanceof It?new Dt(e,At(e.mode,t.state),i,t.lookAhead):new Dt(e,At(e.mode,t),i)},Dt.prototype.save=function(e){e=!1!==e?At(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new It(e,this.maxLookAhead):e};var Wt=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function Ft(e,t,i,n){var r,o,a=e.doc,s=a.mode,l=ae(a,(t=ye(a,t)).line),c=Pt(e,t.line,i),d=new Nt(l.text,e.options.tabSize,c);for(n&&(o=[]);(n||d.pos<t.ch)&&!d.eol();)d.start=d.pos,r=jt(s,d,c.state),n&&o.push(new Wt(d,r,At(a.mode,c.state)));return n?o:new Wt(d,r,c.state)}function Xt(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function $t(e,t,i,n,r,o,a){var s=i.flattenSpans;null==s&&(s=e.options.flattenSpans);var l=0,c=null,d=new Nt(t,e.options.tabSize,n),u=e.options.addModeClass&&[null];for(""==t&&Xt(Ht(i,n.state),o);!d.eol();){var f,h=d.pos>e.options.maxHighlightLength?(s=!1,a&&Rt(e,t,n,d.pos),d.pos=t.length,null):Xt(jt(i,d,n.state,u),o);if(!u||(f=u[0].name)&&(h="m-"+(h?f+" "+h:f)),!s||c!=h){for(;l<d.start;)r(l=Math.min(d.start,l+5e3),c);c=h}d.start=d.pos}for(;l<d.pos;){var p=Math.min(d.pos,l+5e3);r(p,c),l=p}}var Ut=function(e,t,i){this.text=e,Te(this,t),this.height=i?i(this):1};Ut.prototype.lineNo=function(){return de(this)},ut(Ut);var qt={},Gt={};function Yt(e,t){if(!e||/^\s*$/.test(e))return null;t=t.addModeClass?Gt:qt;return t[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function Zt(e,t){var i=K("span",null,null,h?"padding-right: .1px":null),n={pre:K("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(x||h)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,a=void 0;n.pos=0,n.addToken=Jt,function(e){if(null!=vt)return vt;var t=S(e,document.createTextNode("A\u062eA")),i=L(t,0,1).getBoundingClientRect(),t=L(t,1,2).getBoundingClientRect();return k(e),i&&i.left!=i.right&&(vt=t.right-i.right<3)}(e.display.measure)&&(a=it(o,e.doc.direction))&&(n.addToken=function(u,f){return function(e,t,i,n,r,o,a){i=i?i+" cm-force-border":"cm-force-border";for(var s=e.pos,l=s+t.length;;){for(var c=void 0,d=0;d<f.length&&!((c=f[d]).to>s&&c.from<=s);d++);if(c.to>=l)return u(e,t,i,n,r,o,a);u(e,t.slice(0,c.to-s),i,n,null,o,a),n=null,t=t.slice(c.to-s),s=c.to}}}(n.addToken,a)),n.map=[],function(e,t,i){var n=e.markedSpans,r=e.text,o=0;if(n)for(var a,s,l,c,d,u,f,h=r.length,p=0,g=1,_="",x=0;;){if(x==p){l=c=d=u=s="",f=null,x=1/0;for(var m=[],v=void 0,b=0;b<n.length;++b){var y=n[b],w=y.marker;"bookmark"==w.type&&y.from==p&&w.widgetNode?m.push(w):y.from<=p&&(null==y.to||y.to>p||w.collapsed&&y.to==p&&y.from==p)?(null!=y.to&&y.to!=p&&x>y.to&&(x=y.to,c=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&y.from==p&&(d+=" "+w.startStyle),w.endStyle&&y.to==x&&(v=v||[]).push(w.endStyle,y.to),w.title&&!u&&(u=w.title),w.collapsed&&(!f||Me(f.marker,w)<0)&&(f=y)):y.from>p&&x>y.from&&(x=y.from)}if(v)for(var L=0;L<v.length;L+=2)v[L+1]==x&&(c+=" "+v[L]);if(!f||f.from==p)for(var z=0;z<m.length;++z)ei(t,0,m[z]);if(f&&(f.from||0)==p){if(ei(t,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(h<=p)break;for(var k=Math.min(h,x);;){if(_){var S,V=p+_.length;if(f||(S=k<V?_.slice(0,k-p):_,t.addToken(t,S,a?a+l:l,d,p+S.length==x?c:"",u,s)),k<=V){_=_.slice(k-p),p=k;break}p=V,d=""}_=r.slice(o,o=i[g++]),a=Yt(i[g++],t.cm.options)}}else for(var K=1;K<i.length;K+=2)t.addToken(t,r.slice(o,o=i[K]),Yt(i[K+1],t.cm.options))}(o,n,Bt(e,o,t!=e.display.externalMeasured&&de(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=E(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=E(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(function(e){null==mt&&(t=V("span","\u200b"),S(e,V("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(mt=t.offsetWidth<=1&&2<t.offsetHeight&&!(x&&m<8)));var t=mt?V("span","\u200b"):V("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return t.setAttribute("cm-text",""),t}(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return h&&(i=n.content.lastChild,(/\bcm-tab\b/.test(i.className)||i.querySelector&&i.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")),st(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=E(n.pre.className,n.textClass||"")),n}function Qt(e){var t=V("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jt(e,t,i,n,r,o,a){if(t){var s,l=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var i=t,n="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!i||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o="\xa0"),n+=o,i=" "==o}return n}(t,e.trailingSpace):t,c=e.cm.state.specialChars,d=!1;if(c.test(t)){s=document.createDocumentFragment();for(var u=0;;){c.lastIndex=u;var f=c.exec(t),h=f?f.index-u:t.length-u;if(h&&(p=document.createTextNode(l.slice(u,u+h)),x&&m<9?s.appendChild(V("span",[p])):s.appendChild(p),e.map.push(e.pos,e.pos+h,p),e.col+=h,e.pos+=h),!f)break;u+=1+h;var p=void 0;"\t"==f[0]?(h=(h=e.cm.options.tabSize)-e.col%h,(p=s.appendChild(V("span",$(h),"cm-tab"))).setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=h):("\r"==f[0]||"\n"==f[0]?(p=s.appendChild(V("span","\r"==f[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",f[0]):((p=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),x&&m<9?s.appendChild(V("span",[p])):s.appendChild(p)),e.col+=1),e.map.push(e.pos,e.pos+1,p),e.pos++}}else e.col+=t.length,s=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,s),x&&m<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),i||n||r||d||a){i=i||"";n&&(i+=n),r&&(i+=r);a=V("span",[s],i,a);return o&&(a.title=o),e.content.appendChild(a)}e.content.appendChild(s)}}function ei(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r=r||e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker",i.id),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function ti(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=De(e);)e=t.find(1,!0).line,(i=i||[]).push(e);return i}(t),this.size=this.rest?de(U(this.rest))-i+1:1,this.node=this.text=null,this.hidden=He(e,t)}function ii(e,t,i){for(var n=[],r=t;r<i;r=a){var o=new ti(e.doc,ae(e.doc,r),r),a=r+o.size;n.push(o)}return n}var ni=null;function ri(e,t){var i=e.ownsGroup;if(i)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}(i)}finally{ni=null,t(i)}}var oi=null;function ai(e,t){var i=ot(e,t);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);ni?n=ni.delayedCallbacks:oi?n=oi:(n=oi=[],setTimeout(si,0));for(var o=0;o<i.length;++o)!function(e){n.push(function(){return i[e].apply(null,r)})}(o)}}function si(){var e=oi;oi=null;for(var t=0;t<e.length;++t)e[t]()}function li(e,t,i,n){for(var r,o,a,s,l=0;l<t.changes.length;l++){var c=t.changes[l];"text"==c?(r=e,s=a=void 0,a=(o=t).text.className,s=di(r,o),o.text==o.node&&(o.node=s.pre),o.text.parentNode.replaceChild(s.pre,o.text),o.text=s.pre,s.bgClass!=o.bgClass||s.textClass!=o.textClass?(o.bgClass=s.bgClass,o.textClass=s.textClass,ui(r,o)):a&&(o.text.className=a)):"gutter"==c?fi(e,t,i,n):"class"==c?ui(e,t):"widget"==c&&function(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,r=void 0;n;n=r)r=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);hi(e,t,i)}(e,t,n)}t.changes=null}function ci(e){return e.node==e.text&&(e.node=V("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),x&&m<8&&(e.node.style.zIndex=2)),e.node}function di(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Zt(e,t)}function ui(e,t){var i,n;i=e,(n=(r=t).bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass)&&(n+=" CodeMirror-linebackground"),r.background?n?r.background.className=n:(r.background.parentNode.removeChild(r.background),r.background=null):n&&(e=ci(r),r.background=e.insertBefore(V("div",null,n),e.firstChild),i.display.input.setUneditable(r.background)),t.line.wrapClass?ci(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function fi(e,t,i,n){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass&&(o=ci(t),t.gutterBackground=V("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text));var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var o=ci(t),a=t.gutter=V("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),o.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(V("div",he(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=r.hasOwnProperty(l)&&r[l];c&&a.appendChild(V("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function hi(e,t,i){if(pi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)pi(e,t.rest[n],t,i,!1)}function pi(e,t,i,n,r){if(t.widgets)for(var o,a,s,l,c=ci(i),d=0,u=t.widgets;d<u.length;++d){var f=u[d],h=V("div",[f.node],"CodeMirror-linewidget");f.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),a=h,s=i,l=n,(o=f).noHScroll&&((s.alignable||(s.alignable=[])).push(a),s=l.wrapperWidth,a.style.left=l.fixedPos+"px",o.coverGutter||(s-=l.gutterTotalWidth,a.style.paddingLeft=l.gutterTotalWidth+"px"),a.style.width=s+"px"),o.coverGutter&&(a.style.zIndex=5,a.style.position="relative",o.noHScroll||(a.style.marginLeft=-l.gutterTotalWidth+"px")),e.display.input.setUneditable(h),r&&f.above?c.insertBefore(h,i.gutter||i.text):c.appendChild(h),ai(f,"redraw")}}function gi(e){if(null!=e.height)return e.height;var t,i=e.doc.cm;return i?(C(document.body,e.node)||(t="position: relative;",e.coverGutter&&(t+="margin-left: -"+i.display.gutters.offsetWidth+"px;"),e.noHScroll&&(t+="width: "+i.display.wrapper.clientWidth+"px;"),S(i.display.measure,V("div",[e.node],null,t))),e.height=e.node.parentNode.offsetHeight):0}function _i(e,t){for(var i=_t(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return 1}function xi(e){return e.lineSpace.offsetTop}function mi(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function vi(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=S(e.measure,V("pre","x")),t=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,t={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)};return isNaN(t.left)||isNaN(t.right)||(e.cachedPaddingH=t),t}function bi(e){return P-e.display.nativeBarWidth}function yi(e){return e.display.scroller.clientWidth-bi(e)-e.display.barWidth}function wi(e){return e.display.scroller.clientHeight-bi(e)-e.display.barHeight}function Li(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var r=0;r<e.rest.length;r++)if(de(e.rest[r])>i)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function zi(e,t,i,n){return Vi(e,Si(e,t),i,n)}function ki(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[en(e,t)];e=e.display.externalMeasured;return e&&t>=e.lineN&&t<e.lineN+e.size?e:void 0}function Si(e,t){var i,n,r=de(t),o=ki(e,r);o&&!o.text?o=null:o&&o.changes&&(li(e,o,r,Gi(e)),e.curOp.forceUpdate=!0),o||(i=e,e=de(n=Be(n=t)),(n=i.display.externalMeasured=new ti(i.doc,n,e)).lineN=e,e=n.built=Zt(i,n),n.text=e.pre,S(i.display.lineMeasure,e.pre),o=n);r=Li(o,t,r);return{line:t,view:o,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Vi(e,t,i,n,r){t.before&&(i=-1);var o,a=i+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,i){var n=e.options.lineWrapping,e=n&&yi(e);if(!t.measure.heights||n&&t.measure.width!=e){var r=t.measure.heights=[];if(n){t.measure.width=e;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var s=o[a],l=o[a+1];2<Math.abs(s.bottom-l.bottom)&&r.push((s.bottom+l.top)/2-i.top)}}r.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,i,n){var r,o=Ti(t.map,i,n),a=o.node,s=o.start,l=o.end,c=o.collapse;if(3==a.nodeType){for(var d=0;d<4;d++){for(;s&&ie(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+l));)++l;if((r=x&&m<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():function(e,t){var i=Ci;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var r=e.length-1;0<=r&&(i=e[r]).left==i.right;r--);return i}(L(a,s,l).getClientRects(),n)).left||r.right||0==s)break;l=s,--s,c="right"}x&&m<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=zt)return zt;var e=(t=S(e,V("span","x"))).getBoundingClientRect(),t=L(t,0,1).getBoundingClientRect();return zt=1<Math.abs(e.left-t.left)}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,e=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*e,bottom:t.bottom*e}}(e.display.measure,r))}else 0<s&&(c=n="right"),r=e.options.lineWrapping&&1<(g=a.getClientRects()).length?g["right"==n?g.length-1:0]:a.getBoundingClientRect();!(x&&m<9)||s||r&&(r.left||r.right)||(_=a.parentNode.getClientRects()[0],r=_?{left:_.left,right:_.left+qi(e.display),top:_.top,bottom:_.bottom}:Ci);for(var u=r.top-t.rect.top,i=r.bottom-t.rect.top,f=(u+i)/2,h=t.view.measure.heights,p=0;p<h.length-1&&!(f<h[p]);p++);var g=p?h[p-1]:0,_=h[p],_={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:g,bottom:_};r.left||r.right||(_.bogus=!0);e.options.singleCursorHeightPerLine||(_.rtop=u,_.rbottom=i);return _}(e,t,i,n)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Ki,Ci={left:0,right:0,top:0,bottom:0};function Ti(e,t,i){for(var n,r,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,a="left"):t<l?o=(r=t-s)+1:(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-s)-1,l<=t&&(a="right")),null!=r){if(n=e[c+2],s==l&&i==(n.insertLeft?"left":"right")&&(a=i),"left"==i&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],a="left";if("right"==i&&r==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],a="right";break}return{node:n,start:r,end:o,collapse:a,coverStart:s,coverEnd:l}}function Ai(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ei(e){e.display.externalMeasure=null,k(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ai(e.display.view[t])}function Mi(e){Ei(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ni(){return o&&d?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ii(){return o&&d?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Di(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=gi(e.widgets[i]));return t}function Oi(e,t,i,n,r){if(r||(r=Di(t),i.top+=r,i.bottom+=r),"line"==n)return i;n=n||"local";t=je(t);return"local"==n?t+=xi(e.display):t-=e.display.viewOffset,"page"!=n&&"window"!=n||(t+=(e=e.display.lineSpace.getBoundingClientRect()).top+("window"==n?0:Ii()),n=e.left+("window"==n?0:Ni()),i.left+=n,i.right+=n),i.top+=t,i.bottom+=t,i}function Bi(e,t,i){if("div"==i)return t;var n=t.left,t=t.top;"page"==i?(n-=Ni(),t-=Ii()):"local"!=i&&i||(n+=(i=e.display.sizer.getBoundingClientRect()).left,t+=i.top);e=e.display.lineSpace.getBoundingClientRect();return{left:n-e.left,top:t-e.top}}function Pi(e,t,i,n,r){return Oi(e,n=n||ae(e.doc,t.line),zi(e,n,t.ch,r),i)}function Ri(i,e,n,r,o,a){function s(e,t){e=Vi(i,o,e,t?"right":"left",a);return t?e.left=e.right:e.right=e.left,Oi(i,r,e,n)}r=r||ae(i.doc,e.line),o=o||Si(i,r);var l=it(r,i.doc.direction),t=e.ch,c=e.sticky;if(t>=r.text.length?(t=r.text.length,c="before"):t<=0&&(t=0,c="after"),!l)return s("before"==c?t-1:t,"before"==c);function d(e,t,i){return s(i?e-1:e,1==l[t].level!=i)}var u=$e(l,t,c),e=Xe,u=d(t,u,"before"==c);return null!=e&&(u.other=d(t,e,"before"!=c)),u}function Hi(e,t){var i=0;t=ye(e.doc,t),e.options.lineWrapping||(i=qi(e.display)*t.ch);t=ae(e.doc,t.line),e=je(t)+xi(e.display);return{left:i,right:i,top:e,bottom:e+t.height}}function ji(e,t,i,n,r){i=pe(e,t,i);return i.xRel=r,n&&(i.outside=!0),i}function Wi(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return ji(n.first,0,null,!0,-1);var r=ue(n,i),o=n.first+n.size-1;if(o<r)return ji(n.first+n.size-1,ae(n,o).text.length,null,!0,1);t<0&&(t=0);for(var a=ae(n,r);;){var s=function(i,e,t,n,r){r-=je(e);var o=Si(i,e),a=Di(e),s=0,l=e.text.length,c=!0,d=it(e,i.doc.direction);d&&(h=(i.options.lineWrapping?function(e,t,i,n,r,o,a){var a=Fi(e,t,n,a),s=a.begin,l=a.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,d=null,u=0;u<r.length;u++){var f,h=r[u];h.from>=l||h.to<=s||(f=1!=h.level,f=Vi(e,n,f?Math.min(l,h.to)-1:Math.max(s,h.from)).right,f=f<o?o-f+1e9:f-o,(!c||f<d)&&(c=h,d=f))}c=c||r[r.length-1];c.from<s&&(c={from:s,to:c.to,level:c.level});c.to>l&&(c={from:c.from,to:l,level:c.level});return c}:function(i,n,r,o,a,s,l){var e=re(function(e){var t=a[e],e=1!=t.level;return $i(Ri(i,pe(r,e?t.to:t.from,e?"before":"after"),"line",n,o),s,l,!0)},0,a.length-1),t=a[e];{var c;0<e&&(c=1!=t.level,$i(c=Ri(i,pe(r,c?t.from:t.to,c?"after":"before"),"line",n,o),s,l,!0)&&c.top>l&&(t=a[e-1]))}return t})(i,e,t,o,d,n,r),c=1!=h.level,s=c?h.from:h.to-1,l=c?h.to:h.from-1);var u=null,f=null,d=re(function(e){var t=Vi(i,o,e);return t.top+=a,t.bottom+=a,$i(t,n,r,!1)&&(t.top<=r&&t.left<=n&&(u=e,f=t),1)},s,l),h=!1;{var p,g;f?(p=n-f.left<f.right-n,d=u+((g=p==c)?0:1),g=g?"after":"before",p=p?f.left:f.right):(c||d!=l&&d!=s||d++,g=0==d||d!=e.text.length&&Vi(i,o,d-(c?1:0)).bottom+a<=r==c?"after":"before",c=Ri(i,pe(t,d,g),"line",e,o),p=c.left,h=r<c.top||r>=c.bottom)}return d=ne(e.text,d,1),ji(t,d,g,h,n-p)}(e,a,r,t,i),l=function(e,t){var i,n=ze&&e.markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!i||Me(i,o.marker)<0)&&(i=o.marker)}return i}(a,s.ch+(0<s.xRel?1:0));if(!l)return s;l=l.find(1);if(l.line==r)return l;a=ae(n,r=l.line)}}function Fi(t,e,i,n){n-=Di(e);var r=e.text.length,e=re(function(e){return Vi(t,i,e-1).bottom<=n},r,0);return{begin:e,end:r=re(function(e){return Vi(t,i,e).top>n},e,r)}}function Xi(e,t,i,n){return Fi(e,t,i=i||Si(e,t),Oi(e,t,Vi(e,i,n),"line").top)}function $i(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function Ui(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ki){Ki=V("pre");for(var t=0;t<49;++t)Ki.appendChild(document.createTextNode("x")),Ki.appendChild(V("br"));Ki.appendChild(document.createTextNode("x"))}S(e.measure,Ki);var i=Ki.offsetHeight/50;return 3<i&&(e.cachedTextHeight=i),k(e.measure),i||1}function qi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=V("span","xxxxxxxxxx"),i=V("pre",[t]);S(e.measure,i);t=t.getBoundingClientRect(),t=(t.right-t.left)/10;return 2<t&&(e.cachedCharWidth=t),t||10}function Gi(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)i[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+r,n[e.options.gutters[a]]=o.clientWidth;return{fixedPos:Yi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Yi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Zi(n){var r=Ui(n.display),o=n.options.lineWrapping,a=o&&Math.max(5,n.display.scroller.clientWidth/qi(n.display)-3);return function(e){if(He(n.doc,e))return 0;var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;i++)e.widgets[i].height&&(t+=e.widgets[i].height);return o?t+(Math.ceil(e.text.length/a)||1)*r:t+r}}function Qi(e){var t=e.doc,i=Zi(e);t.iter(function(e){var t=i(e);t!=e.height&&ce(e,t)})}function Ji(e,t,i,n){var r=e.display;if(!i&&"true"==_t(t).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,r=Wi(e,o,a);return n&&1==r.xRel&&(l=ae(e.doc,r.line).text).length==r.ch&&(l=D(l,l.length,e.options.tabSize)-l.length,r=pe(r.line,Math.max(0,Math.round((o-vi(e.display).left)/qi(e.display))-l))),r}function en(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function tn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function nn(e,t){void 0===t&&(t=!0);for(var i,n,r=e.doc,o={},a=o.cursors=document.createDocumentFragment(),s=o.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)!t&&l==r.sel.primIndex||((i=r.sel.ranges[l]).from().line>=e.display.viewTo||i.to().line<e.display.viewFrom||(((n=i.empty())||e.options.showCursorWhenSelecting)&&rn(e,i.head,a),n||function(r,e,t){var i=r.display,o=r.doc,a=document.createDocumentFragment(),n=vi(r.display),L=n.left,z=Math.max(i.sizerWidth,yi(r)-i.sizer.offsetLeft)-n.right,k="ltr"==o.direction;function S(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),a.appendChild(V("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?z-e:i)+"px;\n                             height: "+(n-t)+"px"))}function s(i,g,_){var x,m,n=ae(o,i),v=n.text.length;function b(e,t){return Pi(r,pe(i,e),"div",n,t)}function y(e,t,i){e=Xi(r,n,null,e),t="ltr"==t==("after"==i)?"left":"right";return b("after"==i?e.begin:e.end-(/\s/.test(n.text.charAt(e.end-1))?2:1),t)[t]}var w=it(n,o.direction);return function(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var a=e[o];(a.from<i&&a.to>t||t==i&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,i),1==a.level?"rtl":"ltr",o),r=!0)}r||n(t,i,"ltr")}(w,g||0,null==_?v:_,function(e,t,i,n){var r,o,a,s,l="ltr"==i,c=b(e,l?"left":"right"),d=b(t-1,l?"right":"left"),u=null==g&&0==e,f=null==_&&t==v,h=0==n,p=!w||n==w.length-1;d.top-c.top<=3?(r=(k?f:u)&&p,n=(k?u:f)&&h?L:(l?c:d).left,r=r?z:(l?d:c).right,S(n,c.top,r-n,c.bottom)):(i=l?(o=k&&u&&h?L:c.left,a=k?z:y(e,i,"before"),s=k?L:y(t,i,"after"),k&&f&&p?z:d.right):(o=k?y(e,i,"before"):L,a=!k&&u&&h?z:c.right,s=!k&&f&&p?L:d.left,k?y(t,i,"after"):z),S(o,c.top,a-o,c.bottom),c.bottom<d.top&&S(L,c.bottom,null,d.top),S(s,d.top,i-s,d.bottom)),(!x||on(c,x)<0)&&(x=c),on(d,x)<0&&(x=d),(!m||on(c,m)<0)&&(m=c),on(d,m)<0&&(m=d)}),{start:x,end:m}}var l=e.from(),i=e.to();l.line==i.line?s(l.line,l.ch,i.ch):(n=ae(o,l.line),e=ae(o,i.line),e=Be(n)==Be(e),n=s(l.line,l.ch,e?n.text.length+1:null).end,i=s(i.line,e?0:null,i.ch).start,e&&(n.top<i.top-2?(S(n.right,n.top,null,n.bottom),S(L,i.top,i.left,i.bottom)):S(n.right,n.top,i.left-n.right,n.bottom)),n.bottom<i.top&&S(L,n.bottom,null,i.top)),t.appendChild(a)}(e,i,s)));return o}function rn(e,t,i){var n=Ri(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),t=i.appendChild(V("div","\xa0","CodeMirror-cursor"));t.style.left=n.left+"px",t.style.top=n.top+"px",t.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other&&((i=i.appendChild(V("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"))).style.display="",i.style.left=n.other.left+"px",i.style.top=n.other.top+"px",i.style.height=.85*(n.other.bottom-n.other.top)+"px")}function on(e,t){return e.top-t.top||e.left-t.left}function an(e){var t,i;e.state.focused&&(t=e.display,clearInterval(t.blinker),i=!0,t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden"))}function sn(e){e.state.focused||(e.display.input.focus(),cn(e))}function ln(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,dn(e))},100)}function cn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(st(e,"focus",e,t),e.state.focused=!0,A(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),h&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),an(e))}function dn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(st(e,"blur",e,t),e.state.focused=!1,z(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function un(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r,o=t.view[n],a=void 0;if(!o.hidden){x&&m<8?(a=(r=o.node.offsetTop+o.node.offsetHeight)-i,i=r):a=(s=o.node.getBoundingClientRect()).bottom-s.top;var s=o.line.height-a;if(a<2&&(a=Ui(t)),(.005<s||s<-.005)&&(ce(o.line,a),fn(o.line),o.rest))for(var l=0;l<o.rest.length;l++)fn(o.rest[l])}}}function fn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function hn(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop,n=Math.floor(n-xi(e)),r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,o=ue(t,n),n=ue(t,r);return i&&i.ensure&&(r=i.ensure.from.line,i=i.ensure.to.line,r<o?n=ue(t,je(ae(t,o=r))+e.wrapper.clientHeight):Math.min(i,t.lastLine())>=n&&(o=ue(t,je(ae(t,i))-e.wrapper.clientHeight),n=i)),{from:o,to:Math.max(n,o+1)}}function pn(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Yi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=n+"px",a=0;a<i.length;a++)if(!i[a].hidden){e.options.fixedGutter&&(i[a].gutter&&(i[a].gutter.style.left=o),i[a].gutterBackground&&(i[a].gutterBackground.style.left=o));var s=i[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function gn(e){if(e.options.lineNumbers){var t=e.doc,i=he(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(V("div",[V("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),t=r.firstChild.offsetWidth,r=r.offsetWidth-t;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(t,n.lineGutter.offsetWidth-r)+1,n.lineNumWidth=n.lineNumInnerWidth+r,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",qn(e),1}}}function _n(e,t){var i=e.display,n=Ui(e.display);t.top<0&&(t.top=0);var r=(e.curOp&&null!=e.curOp.scrollTop?e.curOp:i.scroller).scrollTop,o=wi(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+mi(i),l=t.top<n,n=t.bottom>s-n;t.top<r?a.scrollTop=l?0:t.top:t.bottom>r+o&&((c=Math.min(t.top,(n?s:t.bottom)-o))!=r&&(a.scrollTop=c));var c=(e.curOp&&null!=e.curOp.scrollLeft?e.curOp:i.scroller).scrollLeft,e=yi(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),i=t.right-t.left>e;return i&&(t.right=t.left+e),t.left<10?a.scrollLeft=0:t.left<c?a.scrollLeft=Math.max(0,t.left-(i?0:10)):t.right>e+c-3&&(a.scrollLeft=t.right+(i?0:10)-e),a}function xn(e,t){null!=t&&(bn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc:e.curOp).scrollTop+t)}function mn(e){bn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function vn(e,t,i){null==t&&null==i||bn(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function bn(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,yn(e,Hi(e,t.from),Hi(e,t.to),t.margin))}function yn(e,t,i,n){n=_n(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});vn(e,n.scrollLeft,n.scrollTop)}function wn(e,t){Math.abs(e.doc.scrollTop-t)<2||(f||Un(e,{top:t}),Ln(e,t,!0),f&&Un(e),jn(e,100))}function Ln(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),e.display.scroller.scrollTop==t&&!i||(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function zn(e,t,i,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,pn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function kn(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+mi(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+bi(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}e=function(e,t,i){this.cm=i;var n=this.vert=V("div",[V("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=V("div",[V("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,e(n),e(r),rt(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),rt(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,x&&m<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};e.prototype.update=function(e){var t,i=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;return n?(this.vert.style.display="block",this.vert.style.bottom=i?r+"px":"0",t=e.viewHeight-(i?r:0),this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+t)+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),i?(this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px",t=e.viewWidth-e.barLeft-(n?r:0),this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+t)+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&0<e.clientHeight&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:i?r:0}},e.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},e.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},e.prototype.zeroWidthHack=function(){var e=g&&!a?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new O,this.disableVert=new O},e.prototype.enableZeroWidthBar=function(i,n,r){i.style.pointerEvents="auto",n.set(1e3,function e(){var t=i.getBoundingClientRect();("vert"==r?document.elementFromPoint(t.right-1,(t.top+t.bottom)/2):document.elementFromPoint((t.right+t.left)/2,t.bottom-1))!=i?i.style.pointerEvents="none":n.set(1e3,e)})},e.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};n=function(){};function Sn(e,t){t=t||kn(e);var i=e.display.barWidth,n=e.display.barHeight;Vn(e,t);for(var r=0;r<4&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&un(e),Vn(e,kn(e)),i=e.display.barWidth,n=e.display.barHeight}function Vn(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}n.prototype.update=function(){return{bottom:0,right:0}},n.prototype.setScrollLeft=function(){},n.prototype.setScrollTop=function(){},n.prototype.clear=function(){};var Kn={native:e,null:n};function Cn(i){i.display.scrollbars&&(i.display.scrollbars.clear(),i.display.scrollbars.addClass&&z(i.display.wrapper,i.display.scrollbars.addClass)),i.display.scrollbars=new Kn[i.options.scrollbarStyle](function(e){i.display.wrapper.insertBefore(e,i.display.scrollbarFiller),rt(e,"mousedown",function(){i.state.focused&&setTimeout(function(){return i.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){("horizontal"==t?zn:wn)(i,e)},i),i.display.scrollbars.addClass&&A(i.display.wrapper,i.display.scrollbars.addClass)}var Tn=0;function An(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Tn},e=e.curOp,ni?ni.ops.push(e):e.ownsGroup=ni={ops:[e],delayedCallbacks:[]}}function En(e){ri(e.curOp,function(a){for(var e=0;e<a.ops.length;e++)a.ops[e].cm.curOp=null;!function(){for(var e=a.ops,t=0;t<e.length;t++)!function(e){var t=e.cm,i=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=bi(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=bi(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&Fe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Fn(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}(e[t]);for(var i=0;i<e.length;i++)!function(e){e.updatedDisplay=e.mustUpdate&&Xn(e.cm,e.update)}(e[i]);for(var n=0;n<e.length;n++)!function(e){var t=e.cm,i=t.display;e.updatedDisplay&&un(t),e.barMeasure=kn(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=zi(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+bi(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-yi(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}(e[n]);for(var r=0;r<e.length;r++)!function(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&zn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==T();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),!e.updatedDisplay&&e.startHeight==t.doc.height||Sn(t,e.barMeasure),e.updatedDisplay&&Gn(t,e.barMeasure),e.selectionChanged&&an(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&sn(e.cm)}(e[r]);for(var o=0;o<e.length;o++)!function(e){var t,i=e.cm,n=i.display,r=i.doc;e.updatedDisplay&&$n(i,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Ln(i,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&zn(i,e.scrollLeft,!0,!0),e.scrollToPos&&(t=function(e,t,i,n){null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?pe(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?pe(t.line,t.ch+1,"before"):t);for(var r=0;r<5;r++){var o,a=!1,s=Ri(e,t),l=i&&i!=t?Ri(e,i):s,c=_n(e,o={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),s=e.doc.scrollTop,l=e.doc.scrollLeft;if(null!=c.scrollTop&&(wn(e,c.scrollTop),1<Math.abs(e.doc.scrollTop-s)&&(a=!0)),null!=c.scrollLeft&&(zn(e,c.scrollLeft),1<Math.abs(e.doc.scrollLeft-l)&&(a=!0)),!a)break}return o}(i,ye(r,e.scrollToPos.from),ye(r,e.scrollToPos.to),e.scrollToPos.margin),function(e,t){var i,n,r;lt(e,"scrollCursorIntoView")||(n=(i=e.display).sizer.getBoundingClientRect(),r=null,t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null==r||c||(t=V("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-xi(e.display))+"px;\n                         height: "+(t.bottom-t.top+bi(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;"),e.display.lineSpace.appendChild(t),t.scrollIntoView(r),e.display.lineSpace.removeChild(t)))}(i,t));var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||st(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&st(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=i.display.scroller.scrollTop),e.changeObjs&&st(i,"changes",i,e.changeObjs),e.update&&e.update.finish()}(e[o])}()})}function Mn(e,t){if(e.curOp)return t();An(e);try{return t()}finally{En(e)}}function Nn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);An(e);try{return t.apply(e,arguments)}finally{En(e)}}}function In(e){return function(){if(this.curOp)return e.apply(this,arguments);An(this);try{return e.apply(this,arguments)}finally{En(this)}}}function Dn(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);An(e);try{return t.apply(this,arguments)}finally{En(e)}}}function On(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n=n||0;var r,o,a=e.display;n&&i<a.viewTo&&(null==a.updateLineNumbers||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo?ze&&Pe(e.doc,t)<a.viewTo&&Pn(e):i<=a.viewFrom?ze&&Re(e.doc,i+n)>a.viewFrom?Pn(e):(a.viewFrom+=n,a.viewTo+=n):t<=a.viewFrom&&i>=a.viewTo?Pn(e):t<=a.viewFrom?(r=Rn(e,i,i+n,1))?(a.view=a.view.slice(r.index),a.viewFrom=r.lineN,a.viewTo+=n):Pn(e):i>=a.viewTo?(o=Rn(e,t,t,-1))?(a.view=a.view.slice(0,o.index),a.viewTo=o.lineN):Pn(e):(r=Rn(e,t,t,-1),o=Rn(e,i,i+n,1),r&&o?(a.view=a.view.slice(0,r.index).concat(ii(e,r.lineN,o.lineN)).concat(a.view.slice(o.index)),a.viewTo+=n):Pn(e));e=a.externalMeasured;e&&(i<e.lineN?e.lineN+=n:t<e.lineN+e.size&&(a.externalMeasured=null))}function Bn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),t<n.viewFrom||t>=n.viewTo||(null==(t=n.view[en(e,t)]).node||-1==B(t=t.changes||(t.changes=[]),i)&&t.push(i))}function Pn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Rn(e,t,i,n){var r,o=en(e,t),a=e.display.view;if(!ze||i==e.doc.first+e.doc.size)return{index:o,lineN:i};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(0<n){if(o==a.length-1)return null;r=s+a[o].size-t,o++}else r=s-t;t+=r,i+=r}for(;Pe(e.doc,i)!=i;){if(o==(n<0?0:a.length-1))return null;i+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function Hn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function jn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,N(Wn,e))}function Wn(a){var s,l,c,d=a.doc;d.highlightFrontier>=a.display.viewTo||(s=+new Date+a.options.workTime,l=Pt(a,d.highlightFrontier),c=[],d.iter(l.line,Math.min(d.first+d.size,a.display.viewTo+500),function(e){if(l.line>=a.display.viewFrom){var t=e.styles,i=e.text.length>a.options.maxHighlightLength?At(d.mode,l.state):null,n=Ot(a,e,l,!0);i&&(l.state=i),e.styles=n.styles;i=e.styleClasses,n=n.classes;n?e.styleClasses=n:i&&(e.styleClasses=null);for(var r=!t||t.length!=e.styles.length||i!=n&&(!i||!n||i.bgClass!=n.bgClass||i.textClass!=n.textClass),o=0;!r&&o<t.length;++o)r=t[o]!=e.styles[o];r&&c.push(l.line),e.stateAfter=l.save(),l.nextLine()}else e.text.length<=a.options.maxHighlightLength&&Rt(a,e.text,l),e.stateAfter=l.line%5==0?l.save():null,l.nextLine();if(+new Date>s)return jn(a,a.options.workDelay),!0}),d.highlightFrontier=l.line,d.modeFrontier=Math.max(d.modeFrontier,l.line),c.length&&Mn(a,function(){for(var e=0;e<c.length;e++)Bn(a,c[e],"text")}))}var Fn=function(e,t,i){var n=e.display;this.viewport=t,this.visible=hn(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=yi(e),this.force=i,this.dims=Gi(e),this.events=[]};function Xn(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return Pn(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Hn(e))return!1;gn(e)&&(Pn(e),t.dims=Gi(e));var r=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>a&&i.viewTo-a<20&&(a=Math.min(r,i.viewTo)),ze&&(o=Pe(e.doc,o),a=Re(e.doc,a));var s=o!=i.viewFrom||a!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;n=o,r=a,0==(a=(o=e).display).view.length||n>=a.viewTo||r<=a.viewFrom?(a.view=ii(o,n,r),a.viewFrom=n):(a.viewFrom>n?a.view=ii(o,n,a.viewFrom).concat(a.view):a.viewFrom<n&&(a.view=a.view.slice(en(o,n))),a.viewFrom=n,a.viewTo<r?a.view=a.view.concat(ii(o,a.viewTo,r)):a.viewTo>r&&(a.view=a.view.slice(0,en(o,r)))),a.viewTo=r,i.viewOffset=je(ae(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";o=Hn(e);if(!s&&0==o&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;a=function(e){if(e.hasFocus())return null;var t=T();if(!t||!C(e.display.lineDiv,t))return null;var i={activeElt:t};return!window.getSelection||(t=window.getSelection()).anchorNode&&t.extend&&C(e.display.lineDiv,t.anchorNode)&&(i.anchorNode=t.anchorNode,i.anchorOffset=t.anchorOffset,i.focusNode=t.focusNode,i.focusOffset=t.focusOffset),i}(e);return 4<o&&(i.lineDiv.style.display="none"),function(i,e,t){var n=i.display,r=i.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(e){var t=e.nextSibling;return h&&g&&i.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var l=n.view,c=n.viewFrom,d=0;d<l.length;d++){var u=l[d];if(!u.hidden)if(u.node&&u.node.parentNode==o){for(;a!=u.node;)a=s(a);var f=r&&null!=e&&e<=c&&u.lineNumber;u.changes&&(-1<B(u.changes,"gutter")&&(f=!1),li(i,u,c,t)),f&&(k(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(he(i.options,c)))),a=u.node.nextSibling}else{f=function(e,t,i,n){var r=di(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),ui(e,t),fi(e,t,i,n),hi(e,t,n),t.node}(i,u,c,t);o.insertBefore(f,a)}c+=u.size}for(;a;)a=s(a)}(e,i.updateLineNumbers,t.dims),4<o&&(i.lineDiv.style.display=""),i.renderedView=i.view,(r=a)&&r.activeElt&&r.activeElt!=T()&&(r.activeElt.focus(),r.anchorNode&&C(document.body,r.anchorNode)&&C(document.body,r.focusNode)&&(o=window.getSelection(),(a=document.createRange()).setEnd(r.anchorNode,r.anchorOffset),a.collapse(!1),o.removeAllRanges(),o.addRange(a),o.extend(r.focusNode,r.focusOffset))),k(i.cursorDiv),k(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,s&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,jn(e,400)),!(i.updateLineNumbers=null)}function $n(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=yi(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+mi(e.display)-wi(e),i.top)}),t.visible=hn(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Xn(e,t);n=!1){un(e);var r=kn(e);tn(e),Sn(e,r),Gn(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Un(e,t){var i=new Fn(e,t);Xn(e,i)&&(un(e),$n(e,i),t=kn(e),tn(e),Sn(e,t),Gn(e,t),i.finish())}function qn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Gn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+bi(e)+"px"}function Yn(e){var t=e.display.gutters,i=e.options.gutters;k(t);for(var n=0;n<i.length;++n){var r=i[n],o=t.appendChild(V("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",qn(e)}function Zn(e){var t=B(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}Fn.prototype.signal=function(e,t){dt(e,t)&&this.events.push(arguments)},Fn.prototype.finish=function(){for(var e=0;e<this.events.length;e++)st.apply(null,this.events[e])};var Qn=0,Jn=null;function er(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function tr(e){e=er(e);return e.x*=Jn,e.y*=Jn,e}function ir(e,t){var i=er(t),n=i.x,r=i.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(n&&s||r&&l){if(r&&g&&h)e:for(var c=t.target,d=o.view;c!=a;c=c.parentNode)for(var u=0;u<d.length;u++)if(d[u].node==c){e.display.currentWheelTarget=c;break e}if(n&&!f&&!p&&null!=Jn)return r&&l&&wn(e,Math.max(0,a.scrollTop+r*Jn)),zn(e,Math.max(0,a.scrollLeft+n*Jn)),(!r||r&&l)&&ft(t),void(o.wheelStartX=null);r&&null!=Jn&&(i=r*Jn,l=(s=e.doc.scrollTop)+o.wrapper.clientHeight,i<0?s=Math.max(0,s+i-50):l=Math.min(e.doc.height,l+i+50),Un(e,{top:s,bottom:l})),Qn<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){var e,t;null!=o.wheelStartX&&(t=a.scrollLeft-o.wheelStartX,t=(e=a.scrollTop-o.wheelStartY)&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX,o.wheelStartX=o.wheelStartY=null,t&&(Jn=(Jn*Qn+t)/(Qn+1),++Qn))},200)):(o.wheelDX+=n,o.wheelDY+=r))}}x?Jn=-.53:f?Jn=15:o?Jn=-.7:l&&(Jn=-1/3);var nr=function(e,t){this.ranges=e,this.primIndex=t};nr.prototype.primary=function(){return this.ranges[this.primIndex]},nr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!_e(i.anchor,n.anchor)||!_e(i.head,n.head))return!1}return!0},nr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new rr(xe(this.ranges[t].anchor),xe(this.ranges[t].head));return new nr(e,this.primIndex)},nr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},nr.prototype.contains=function(e,t){t=t||e;for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(0<=ge(t,n.from())&&ge(e,n.to())<=0)return i}return-1};var rr=function(e,t){this.anchor=e,this.head=t};function or(e,t){var i=e[t];e.sort(function(e,t){return ge(e.from(),t.from())}),t=B(e,i);for(var n=1;n<e.length;n++){var r,o,a=e[n],s=e[n-1];0<=ge(s.to(),a.from())&&(r=ve(s.from(),a.from()),o=me(s.to(),a.to()),s=s.empty()?a.from()==a.head:s.from()==s.head,n<=t&&--t,e.splice(--n,2,new rr(s?o:r,s?r:o)))}return new nr(e,t)}function ar(e,t){return new nr([new rr(e,t||e)],0)}function sr(e){return e.text?pe(e.from.line+e.text.length-1,U(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function lr(e,t){if(ge(e,t.from)<0)return e;if(ge(e,t.to)<=0)return sr(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=sr(t).ch-t.to.ch),pe(i,n)}function cr(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new rr(lr(r.anchor,t),lr(r.head,t)))}return or(i,e.sel.primIndex)}function dr(e,t,i){return e.line==t.line?pe(i.line,e.ch-t.ch+i.ch):pe(i.line+(e.line-t.line),e.ch)}function ur(e){e.doc.mode=Kt(e.options,e.doc.modeOption),fr(e)}function fr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,jn(e,100),e.state.modeGen++,e.curOp&&On(e)}function hr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==U(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function pr(e,o,t,a){function r(e){return t?t[e]:null}function i(e,t,i){var n,r;n=t,r=i,t=a,(i=e).text=n,i.stateAfter&&(i.stateAfter=null),i.styles&&(i.styles=null),null!=i.order&&(i.order=null),Ce(i),Te(i,r),(t=t?t(i):1)!=i.height&&ce(i,t),ai(e,"change",e,o)}function n(e,t){for(var i=[],n=e;n<t;++n)i.push(new Ut(d[n],r(n),a));return i}var s,l=o.from,c=o.to,d=o.text,u=ae(e,l.line),f=ae(e,c.line),h=U(d),p=r(d.length-1),g=c.line-l.line;o.full?(e.insert(0,n(0,d.length)),e.remove(d.length,e.size-d.length)):hr(e,o)?(s=n(0,d.length-1),i(f,f.text,p),g&&e.remove(l.line,g),s.length&&e.insert(l.line,s)):u==f?1==d.length?i(u,u.text.slice(0,l.ch)+h+u.text.slice(c.ch),p):((s=n(1,d.length-1)).push(new Ut(h+u.text.slice(c.ch),p,a)),i(u,u.text.slice(0,l.ch)+d[0],r(0)),e.insert(l.line+1,s)):1==d.length?(i(u,u.text.slice(0,l.ch)+d[0]+f.text.slice(c.ch),r(0)),e.remove(l.line+1,g)):(i(u,u.text.slice(0,l.ch)+d[0],r(0)),i(f,h+f.text.slice(c.ch),p),p=n(1,d.length-1),1<g&&e.remove(l.line+1,g-1),e.insert(l.line+1,p)),ai(e,"change",e,o)}function gr(e,s,l){!function e(t,i,n){if(t.linked)for(var r=0;r<t.linked.length;++r){var o,a=t.linked[r];a.doc!=i&&(o=n&&a.sharedHist,l&&!o||(s(a.doc,o),e(a.doc,t,o)))}}(e,null,!0)}function _r(e,t){if(t.cm)throw new Error("This document is already in use.");Qi((e.doc=t).cm=e),ur(e),xr(e),e.options.lineWrapping||Fe(e),e.options.mode=t.modeOption,On(e)}function xr(e){("rtl"==e.doc.direction?A:z)(e.display.lineDiv,"CodeMirror-rtl")}function mr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function vr(e,t){var i={from:xe(t.from),to:sr(t),text:se(e,t.from,t.to)};return zr(e,i,t.from.line,t.to.line+1),gr(e,function(e){return zr(e,i,t.from.line,t.to.line+1),0},!0),i}function br(e){for(;e.length;){if(!U(e).ranges)break;e.pop()}}function yr(e,t,i,n){var r=e.history;r.undone.length=0;var o,a,s=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=(l=r).lastOp==n?(br(l.done),U(l.done)):l.done.length&&!U(l.done).ranges?U(l.done):1<l.done.length&&!l.done[l.done.length-2].ranges?(l.done.pop(),U(l.done)):void 0))a=U(o.changes),0==ge(t.from,t.to)&&0==ge(t.from,a.to)?a.to=sr(t):o.changes.push(vr(e,t));else{var l=U(r.done);for(l&&l.ranges||Lr(e.sel,r.done),o={changes:[vr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,a||st(e,"historyAdded")}function wr(e,t,i,n){var r,o,a,s=e.history,l=n&&n.origin;i==s.lastSelOp||l&&s.lastSelOrigin==l&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==l||(r=e,o=l,a=U(s.done),e=t,"*"==(o=o.charAt(0))||"+"==o&&a.ranges.length==e.ranges.length&&a.somethingSelected()==e.somethingSelected()&&new Date-r.history.lastSelTime<=(r.cm?r.cm.options.historyEventDelay:500)))?s.done[s.done.length-1]=t:Lr(t,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=l,s.lastSelOp=i,n&&!1!==n.clearRedo&&br(s.undone)}function Lr(e,t){var i=U(t);i&&i.ranges&&i.equals(e)||t.push(e)}function zr(t,i,e,n){var r=i["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,n),function(e){e.markedSpans&&((r=r||(i["spans_"+t.id]={}))[o]=e.markedSpans),++o})}function kr(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],r=0;r<t.text.length;++r)n.push(function(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t=t||e.slice(0,i):t&&t.push(e[i]);return t?t.length?t:null:e}(i[r]));return n}function Sr(e,t){var i=kr(e,t),n=Ve(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],a=n[r];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(i[r]=a)}return i}function Vr(e,t,i){for(var n=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)n.push(i?nr.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var c,d=a[l];if(s.push({from:d.from,to:d.to,text:d.text}),t)for(var u in d)(c=u.match(/^spans_(\d+)$/))&&-1<B(t,Number(c[1]))&&(U(s)[u]=d[u],delete d[u])}}}return n}function Kr(e,t,i,n){if(n){n=e.anchor;return i&&((e=ge(t,n)<0)!=ge(i,n)<0?(n=t,t=i):e!=ge(t,i)<0&&(t=i)),new rr(n,t)}return new rr(i||t,t)}function Cr(e,t,i,n,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Nr(e,new nr([Kr(e.sel.primary(),t,i,r)],0),n)}function Tr(e,t,i){for(var n=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Kr(e.sel.ranges[o],t[o],null,r);Nr(e,or(n,e.sel.primIndex),i)}function Ar(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,Nr(e,or(r,e.sel.primIndex),n)}function Er(e,t,i,n){Nr(e,ar(t,i),n)}function Mr(e,t,i){var n=e.history.done,r=U(n);r&&r.ranges?Ir(e,n[n.length-1]=t,i):Nr(e,t,i)}function Nr(e,t,i){Ir(e,t,i),wr(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Ir(e,t,i){var n,r;(dt(e,"beforeSelectionChange")||e.cm&&dt(e.cm,"beforeSelectionChange"))&&(n=e,r=i,r={ranges:(o=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new rr(ye(n,e[t].anchor),ye(n,e[t].head))},origin:r&&r.origin},st(n,"beforeSelectionChange",n,r),n.cm&&st(n.cm,"beforeSelectionChange",n.cm,r),t=r.ranges!=o.ranges?or(r.ranges,r.ranges.length-1):o);var o=i&&i.bias||(ge(t.primary().head,e.sel.primary().head)<0?-1:1);Dr(e,Br(e,t,o,!0)),i&&!1===i.scroll||!e.cm||mn(e.cm)}function Dr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ct(e.cm)),ai(e,"cursorActivity",e))}function Or(e){Dr(e,Br(e,e.sel,null,!1))}function Br(e,t,i,n){for(var r,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Rr(e,a.anchor,s&&s.anchor,i,n),s=Rr(e,a.head,s&&s.head,i,n);!r&&l==a.anchor&&s==a.head||((r=r||t.ranges.slice(0,o))[o]=new rr(l,s))}return r?or(r,t.primIndex):t}function Pr(e,t,i,n,r){var o=ae(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(r&&(st(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(l.atomic){if(i){var c=l.find(n<0?1:-1),s=void 0;if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(c=Hr(e,c,-n,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(s=ge(c,i))&&(n<0?s<0:0<s))return Pr(e,c,t,n,r)}c=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(c=Hr(e,c,n,c.line==t.line?o:null)),c?Pr(e,c,t,n,r):null}}}return t}function Rr(e,t,i,n,r){n=n||1,n=Pr(e,t,i,n,r)||!r&&Pr(e,t,i,n,!0)||Pr(e,t,i,-n,r)||!r&&Pr(e,t,i,-n,!0);return n||(e.cantEdit=!0,pe(e.first,0))}function Hr(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?ye(e,pe(t.line-1)):null:0<i&&t.ch==(n||ae(e,t.line)).text.length?t.line<e.first+e.size-1?pe(t.line+1,0):null:new pe(t.line,t.ch+i)}function jr(e){e.setSelection(pe(e.firstLine(),0),pe(e.lastLine()),H)}function Wr(r,e,t){var o={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return o.canceled=!0}};return t&&(o.update=function(e,t,i,n){e&&(o.from=ye(r,e)),t&&(o.to=ye(r,t)),i&&(o.text=i),void 0!==n&&(o.origin=n)}),st(r,"beforeChange",r,o),r.cm&&st(r.cm,"beforeChange",r.cm,o),o.canceled?null:{from:o.from,to:o.to,text:o.text,origin:o.origin}}function Fr(e,t,i){if(e.cm){if(!e.cm.curOp)return Nn(e.cm,Fr)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(dt(e,"beforeChange")||e.cm&&dt(e.cm,"beforeChange"))||(t=Wr(e,t,!0))){var n=Le&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=B(n,i)||(n=n||[]).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),l=0;l<r.length;++l){var c,d,u,f=r[l];ge(f.to,s.from)<0||0<ge(f.from,s.to)||(c=[l,1],d=ge(f.from,s.from),u=ge(f.to,s.to),(d<0||!a.inclusiveLeft&&!d)&&c.push({from:f.from,to:s.from}),(0<u||!a.inclusiveRight&&!u)&&c.push({from:s.to,to:f.to}),r.splice.apply(r,c),l+=c.length-3)}return r}(e,t.from,t.to);if(n)for(var r=n.length-1;0<=r;--r)Xr(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text,origin:t.origin});else Xr(e,t)}}function Xr(e,i){var t,n;1==i.text.length&&""==i.text[0]&&0==ge(i.from,i.to)||(t=cr(e,i),yr(e,i,t,e.cm?e.cm.curOp.id:NaN),qr(e,i,t,Ve(e,i)),n=[],gr(e,function(e,t){t||-1!=B(n,e.history)||(Qr(e.history,i),n.push(e.history)),qr(e,i,null,Ve(e,i))}))}function $r(r,o,e){var t=r.cm&&r.cm.state.suppressEdits;if(!t||e){for(var a,i=r.history,n=r.sel,s="undo"==o?i.done:i.undone,l="undo"==o?i.undone:i.done,c=0;c<s.length&&(a=s[c],e?!a.ranges||a.equals(r.sel):a.ranges);c++);if(c!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(a=s.pop()).ranges){if(t)return void s.push(a);break}if(Lr(a,l),e&&!a.equals(r.sel))return void Nr(r,a,{clearRedo:!1});n=a}var d=[];Lr(n,l),l.push({changes:d,generation:i.generation}),i.generation=a.generation||++i.maxGeneration;for(var u=dt(r,"beforeChange")||r.cm&&dt(r.cm,"beforeChange"),f=a.changes.length-1;0<=f;--f){var h=function(e){var i=a.changes[e];if(i.origin=o,u&&!Wr(r,i,!1))return s.length=0,{};d.push(vr(r,i));var t=e?cr(r,i):U(s);qr(r,i,t,Sr(r,i)),!e&&r.cm&&r.cm.scrollIntoView({from:i.from,to:sr(i)});var n=[];gr(r,function(e,t){t||-1!=B(n,e.history)||(Qr(e.history,i),n.push(e.history)),qr(e,i,null,Sr(e,i))})}(f);if(h)return h.v}}}}function Ur(e,t){if(0!=t&&(e.first+=t,e.sel=new nr(q(e.sel.ranges,function(e){return new rr(pe(e.anchor.line+t,e.anchor.ch),pe(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){On(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)Bn(e.cm,n,"gutter")}}function qr(e,t,i,n){if(e.cm&&!e.cm.curOp)return Nn(e.cm,qr)(e,t,i,n);var r,o,a,s,l,c,d,u,f;t.to.line<e.first?Ur(e,t.text.length-1-(t.to.line-t.from.line)):t.from.line>e.lastLine()||(t.from.line<e.first&&(Ur(e,d=t.text.length-1-(e.first-t.from.line)),t={from:pe(e.first,0),to:pe(t.to.line+d,t.to.ch),text:[U(t.text)],origin:t.origin}),f=e.lastLine(),t.to.line>f&&(t={from:t.from,to:pe(f,ae(e,f).text.length),text:[t.text[0]],origin:t.origin}),t.removed=se(e,t.from,t.to),i=i||cr(e,t),e.cm?(r=e.cm,o=t,a=n,s=r.doc,l=r.display,c=o.from,d=o.to,u=!1,f=c.line,r.options.lineWrapping||(f=de(Be(ae(s,c.line))),s.iter(f,d.line+1,function(e){if(e==l.maxLine)return u=!0})),-1<s.sel.contains(o.from,o.to)&&ct(r),pr(s,o,a,Zi(r)),r.options.lineWrapping||(s.iter(f,c.line+o.text.length,function(e){var t=We(e);t>l.maxLineLength&&(l.maxLine=e,l.maxLineLength=t,l.maxLineChanged=!0,u=!1)}),u&&(r.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;i<n;n--){var r=ae(e,n).stateAfter;if(r&&(!(r instanceof It)||n+r.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}(s,c.line),jn(r,400),f=o.text.length-(d.line-c.line)-1,o.full?On(r):c.line!=d.line||1!=o.text.length||hr(r.doc,o)?On(r,c.line,d.line+1,f):Bn(r,c.line,"text"),s=dt(r,"changes"),((f=dt(r,"change"))||s)&&(o={from:c,to:d,text:o.text,removed:o.removed,origin:o.origin},f&&ai(r,"change",r,o),s&&(r.curOp.changeObjs||(r.curOp.changeObjs=[])).push(o)),r.display.selForContextMenu=null):pr(e,t,n),Ir(e,i,H))}function Gr(e,t,i,n,r){var o;ge(n=n||i,i)<0&&(i=(o=[n,i])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Fr(e,{from:i,to:n,text:t,origin:r})}function Yr(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Zr(e,t,i,n){for(var r=0;r<e.length;++r){var o=e[r],a=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Yr(o.ranges[s].anchor,t,i,n),Yr(o.ranges[s].head,t,i,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(i<c.from.line)c.from=pe(c.from.line+n,c.from.ch),c.to=pe(c.to.line+n,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function Qr(e,t){var i=t.from.line,n=t.to.line,t=t.text.length-(n-i)-1;Zr(e.done,i,n,t),Zr(e.undone,i,n,t)}function Jr(e,t,i,n){var r=t,o=t;return"number"==typeof t?o=ae(e,be(e,t)):r=de(t),null==r?null:(n(o,r)&&e.cm&&Bn(e.cm,r,i),o)}function eo(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function to(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}rr.prototype.from=function(){return ve(this.anchor,this.head)},rr.prototype.to=function(){return me(this.anchor,this.head)},rr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},eo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i,n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,(i=o).parent=null,Ce(i),ai(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},to.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i,n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e),s=r.height;if(r.removeInner(e,a),this.height-=s-r.height,o==a&&(this.children.splice(n--,1),r.parent=null),0==(t-=a))break;e=0}else e-=o}this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof eo))&&(i=[],this.collapse(i),this.children=[new eo(i)],this.children[0].parent=this)},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,i),r.lines&&50<r.lines.length){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new eo(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,i=new to(e.children.splice(e.children.length-5,5))}while(e.parent?(e.size-=i.size,e.height-=i.height,t=B(e.parent.children,e),e.parent.children.splice(t+1,0,i)):(((t=new to(e.children)).parent=e).children=[t,i],e=t),i.parent=e.parent,10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e);if(r.iterN(e,a,i))return!0;if(0==(t-=a))break;e=0}else e-=o}}};function io(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t}function no(e,t,i){je(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&xn(e,i)}io.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=de(i);if(null!=n&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);var o=gi(this);ce(i,Math.max(0,i.height-o)),e&&(Mn(e,function(){no(e,i,-o),Bn(e,n,"widget")}),ai(e,"lineWidgetCleared",e,this,n))}},io.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=gi(this)-t;r&&(He(this.doc,n)||ce(n,n.height+r),i&&Mn(i,function(){i.curOp.forceUpdate=!0,no(i,n,r),ai(i,"lineWidgetChanged",i,e,de(n))}))},ut(io);var ro=0,oo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ro};function ao(t,i,n,e,r){if(e&&e.shared)return function(e,i,n,r,o){(r=I(r)).shared=!1;var a=[ao(e,i,n,r,o)],s=a[0],l=r.widgetNode;return gr(e,function(e){l&&(r.widgetNode=l.cloneNode(!0)),a.push(ao(e,ye(e,i),ye(e,n),r,o));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;s=U(a)}),new so(a,s)}(t,i,n,e,r);if(t.cm&&!t.cm.curOp)return Nn(t.cm,ao)(t,i,n,e,r);var o=new oo(t,r),r=ge(i,n);if(e&&I(e,o,!1),0<r||0==r&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=K("span",[o.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Oe(t,i.line,i,n,o)||i.line!=n.line&&Oe(t,n.line,i,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");ze=!0}o.addToHistory&&yr(t,{from:i,to:n,origin:"markText"},t.sel,NaN);var a,s=i.line,l=t.cm;if(t.iter(s,n.line+1,function(e){var t;l&&o.collapsed&&!l.options.lineWrapping&&Be(e)==l.display.maxLine&&(a=!0),o.collapsed&&s!=i.line&&ce(e,0),t=e,e=new ke(o,s==i.line?i.ch:null,s==n.line?n.ch:null),t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t),++s}),o.collapsed&&t.iter(i.line,n.line+1,function(e){He(t,e)&&ce(e,0)}),o.clearOnEnter&&rt(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Le=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ro,o.atomic=!0),l){if(a&&(l.curOp.updateMaxLine=!0),o.collapsed)On(l,i.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=i.line;c<=n.line;c++)Bn(l,c,"text");o.atomic&&Or(l.doc),ai(l,"markerAdded",l,o)}return o}oo.prototype.clear=function(){if(!this.explicitlyCleared){var e,t=this.doc.cm,i=t&&!t.curOp;i&&An(t),!dt(this,"clear")||(e=this.find())&&ai(this,"clear",e.from,e.to);for(var n=null,r=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Se(a.markedSpans,this);t&&!this.collapsed?Bn(t,de(a),"text"):t&&(null!=s.to&&(r=de(a)),null!=s.from&&(n=de(a))),a.markedSpans=function(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i=i||[]).push(e[n]);return i}(a.markedSpans,s),null==s.from&&this.collapsed&&!He(this.doc,a)&&t&&ce(a,Ui(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Be(this.lines[l]),d=We(c);d>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&On(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Or(t.doc)),t&&ai(t,"markerCleared",t,this,n,r),i&&En(t),this.parent&&this.parent.clear()}},oo.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],a=Se(o.markedSpans,this);if(null!=a.from&&(i=pe(t?o:de(o),a.from),-1==e))return i;if(null!=a.to&&(n=pe(t?o:de(o),a.to),1==e))return n}return i&&{from:i,to:n}},oo.prototype.changed=function(){var i=this,n=this.find(-1,!0),r=this,o=this.doc.cm;n&&o&&Mn(o,function(){var e=n.line,t=de(n.line),t=ki(o,t);t&&(Ai(t),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,He(r.doc,e)||null==r.height||(t=r.height,r.height=null,(t=gi(r)-t)&&ce(e,e.height+t)),ai(o,"markerChanged",o,i)})},oo.prototype.attachLine=function(e){var t;!this.lines.length&&this.doc.cm&&((t=this.doc.cm.curOp).maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)),this.lines.push(e)},oo.prototype.detachLine=function(e){this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm&&((e=this.doc.cm.curOp).maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)},ut(oo);var so=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function lo(e){return e.findMarks(pe(e.first,0),e.clipPos(pe(e.lastLine())),function(e){return e.parent})}function co(r){for(var o=0;o<r.length;o++)!function(){var e=r[o],t=[e.primary.doc];gr(e.primary.doc,function(e){return t.push(e)});for(var i=0;i<e.markers.length;i++){var n=e.markers[i];-1==B(t,n.doc)&&(n.parent=null,e.markers.splice(i--,1))}}()}so.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ai(this,"clear")}},so.prototype.find=function(e,t){return this.primary.find(e,t)},ut(so);var uo=0,fo=function(e,t,i,n,r){if(!(this instanceof fo))return new fo(e,t,i,n,r);null==i&&(i=0),to.call(this,[new eo([new Ut("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1;i=pe(this.modeFrontier=this.highlightFrontier=i,0);this.sel=ar(i),this.history=new mr(null),this.id=++uo,this.modeOption=t,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),pr(this,{from:i,to:i,text:e}),Nr(this,ar(i),H)};fo.prototype=Y(to.prototype,{constructor:fo,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=le(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Dn(function(e){var t=pe(this.first,0),i=this.first+this.size-1;Fr(this,{from:t,to:pe(i,ae(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&vn(this.cm,0,0),Nr(this,ar(t),H)}),replaceRange:function(e,t,i,n){Gr(this,e,t=ye(this,t),i=i?ye(this,i):t,n)},getRange:function(e,t,i){t=se(this,ye(this,e),ye(this,t));return!1===i?t:t.join(i||this.lineSeparator())},getLine:function(e){e=this.getLineHandle(e);return e&&e.text},getLineHandle:function(e){if(fe(this,e))return ae(this,e)},getLineNumber:de,getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=ae(this,e)),Be(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ye(this,e)},getCursor:function(e){var t=this.sel.primary(),t=null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from();return t},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dn(function(e,t,i){Er(this,ye(this,"number"==typeof e?pe(e,t||0):e),null,i)}),setSelection:Dn(function(e,t,i){Er(this,ye(this,e),ye(this,t||e),i)}),extendSelection:Dn(function(e,t,i){Cr(this,ye(this,e),t&&ye(this,t),i)}),extendSelections:Dn(function(e,t){Tr(this,we(this,e),t)}),extendSelectionsBy:Dn(function(e,t){Tr(this,we(this,q(this.sel.ranges,e)),t)}),setSelections:Dn(function(e,t,i){if(e.length){for(var n=[],r=0;r<e.length;r++)n[r]=new rr(ye(this,e[r].anchor),ye(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Nr(this,or(n,t),i)}}),addSelection:Dn(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new rr(ye(this,e),ye(this,t||e))),Nr(this,or(n,n.length-1),i)}),getSelection:function(e){for(var t=this.sel.ranges,i=0;i<t.length;i++)var n=se(this,t[i].from(),t[i].to()),r=r?r.concat(n):n;return!1===e?r:r.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=se(this,i[n].from(),i[n].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[n]=r}return t},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Dn(function(e,t,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var a=r.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:i}}for(var t=t&&"end"!=t&&function(e,t,i){for(var n=[],r=c=pe(e.first,0),o=0;o<t.length;o++){var a=t[o],s=dr(a.from,c,r),l=dr(sr(a),c,r),c=a.to,r=l;"around"==i?(a=ge((a=e.sel.ranges[o]).head,a.anchor)<0,n[o]=new rr(a?l:s,a?s:l)):n[o]=new rr(s,s)}return new nr(n,e.sel.primIndex)}(this,n,t),s=n.length-1;0<=s;s--)Fr(this,n[s]);t?Mr(this,t):this.cm&&mn(this.cm)}),undo:Dn(function(){$r(this,"undo")}),redo:Dn(function(){$r(this,"redo")}),undoSelection:Dn(function(){$r(this,"undo",!0)}),redoSelection:Dn(function(){$r(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new mr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Vr(this.history.done),undone:Vr(this.history.undone)}},setHistory:function(e){var t=this.history=new mr(this.history.maxGeneration);t.done=Vr(e.done.slice(0),null,!0),t.undone=Vr(e.undone.slice(0),null,!0)},setGutterMarker:Dn(function(e,i,n){return Jr(this,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[i]=n)&&ee(t)&&(e.gutterMarkers=null),1})}),clearGutter:Dn(function(t){var i=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&Jr(i,e,"gutter",function(){return e.gutterMarkers[t]=null,ee(e.gutterMarkers)&&(e.gutterMarkers=null),1})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!fe(this,e))return null;if(!(e=ae(this,t=e)))return null}else if(null==(t=de(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Dn(function(e,i,n){return Jr(this,e,"gutter"==i?"gutter":"class",function(e){var t="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(e[t]){if(w(n).test(e[t]))return;e[t]+=" "+n}else e[t]=n;return 1})}),removeLineClass:Dn(function(e,o,a){return Jr(this,e,"gutter"==o?"gutter":"class",function(e){var t="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",i=e[t];if(i){if(null==a)e[t]=null;else{var n=i.match(w(a));if(!n)return;var r=n.index+n[0].length;e[t]=i.slice(0,n.index)+(n.index&&r!=i.length?" ":"")+i.slice(r)||null}return 1}})}),addLineWidget:Dn(function(e,t,i){return e=e,r=new io(n=this,t,i),(o=n.cm)&&r.noHScroll&&(o.display.alignWidgets=!0),Jr(n,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);return null==r.insertAt?t.push(r):t.splice(Math.min(t.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!He(n,e)&&(t=je(e)<n.scrollTop,ce(e,e.height+gi(r)),t&&xn(o,r.height),o.curOp.forceUpdate=!0),1}),o&&ai(o,"lineWidgetAdded",o,r,"number"==typeof e?e:de(e)),r;var n,r,o}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return ao(this,ye(this,e),ye(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){t={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ao(this,e=ye(this,e),e,t,"bookmark")},findMarksAt:function(e){var t=[],i=ae(this,(e=ye(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(r,o,a){r=ye(this,r),o=ye(this,o);var s=[],l=r.line;return this.iter(r.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;i++){var n=t[i];null!=n.to&&l==r.line&&r.ch>=n.to||null==n.from&&l!=r.line||null!=n.from&&l==o.line&&n.from>=o.ch||a&&!a(n.marker)||s.push(n.marker.parent||n.marker)}++l}),s},getAllMarks:function(){var n=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var i=0;i<t.length;++i)null!=t[i].from&&n.push(t[i].marker)}),n},posFromIndex:function(t){var i,n=this.first,r=this.lineSeparator().length;return this.iter(function(e){e=e.text.length+r;if(t<e)return i=t,!0;t-=e,++n}),ye(this,pe(n,i))},indexFromPos:function(e){var t=(e=ye(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new fo(le(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e=e||{};var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);t=new fo(le(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(t.history=this.history),(this.linked||(this.linked=[])).push({doc:t,sharedHist:e.sharedHist}),t.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),o=e.clipPos(r.from),r=e.clipPos(r.to);ge(o,r)&&(r=ao(e,o,r,n.primary,n.primary.type),n.markers.push(r),r.parent=n)}}(t,lo(this)),t},unlinkDoc:function(e){var t;if(e instanceof da&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i)if(this.linked[i].doc==e){this.linked.splice(i,1),e.unlinkDoc(this),co(lo(this));break}e.history==this.history&&(t=[e.id],gr(e,function(e){return t.push(e.id)},!0),e.history=new mr(null),e.history.done=Vr(this.history.done,t),e.history.undone=Vr(this.history.undone,t))},iterLinkedDocs:function(e){gr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):yt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Dn(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Mn(t=this.cm,function(){xr(t),On(t)}))})}),fo.prototype.eachLine=fo.prototype.iter;var ho=0;function po(e){var n=this;if(go(n),!lt(n,e)&&!_i(n.display,e)){ft(e),x&&(ho=+new Date);var r=Ji(n,e,!0),t=e.dataTransfer.files;if(r&&!n.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var o=t.length,a=Array(o),s=0,i=0;i<o;++i)!function(e,t){var i;n.options.allowDropFileTypes&&-1==B(n.options.allowDropFileTypes,e.type)||((i=new FileReader).onload=Nn(n,function(){var e=i.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[t]=e,++s==o&&(e={from:r=ye(n.doc,r),to:r,text:n.doc.splitLines(a.join(n.doc.lineSeparator())),origin:"paste"},Fr(n.doc,e),Mr(n.doc,ar(r,sr(e))))}),i.readAsText(e))}(t[i],i);else{if(n.state.draggingText&&-1<n.doc.sel.contains(r))return n.state.draggingText(e),void setTimeout(function(){return n.display.input.focus()},20);try{var l,c=e.dataTransfer.getData("Text");if(c){if(n.state.draggingText&&!n.state.draggingText.copy&&(l=n.listSelections()),Ir(n.doc,ar(r,r)),l)for(var d=0;d<l.length;++d)Gr(n.doc,"",l[d].anchor,l[d].head,"drag");n.replaceSelection(c,"around","paste"),n.display.input.focus()}}catch(e){}}}}function go(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function _o(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}var xo=!1;function mo(){var e;xo||(rt(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,_o(vo)},100))}),rt(window,"blur",function(){return _o(dn)}),xo=!0)}function vo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var bo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},yo=0;yo<10;yo++)bo[yo+48]=bo[yo+96]=String(yo);for(var wo=65;wo<=90;wo++)bo[wo]=String.fromCharCode(wo);for(var Lo=1;Lo<=12;Lo++)bo[Lo+111]=bo[Lo+63235]="F"+Lo;var zo={};function ko(e){var t,i,n,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function So(e){var t,i,n={};for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!/^(name|fallthrough|(de|at)tach)$/.test(t))if("..."!=r){for(var o=q(t.split(" "),ko),a=0;a<o.length;a++){var s=void 0,l=void 0,s=a==o.length-1?(l=o.join(" "),r):(l=o.slice(0,a+1).join(" "),"..."),c=n[l];if(c){if(c!=s)throw new Error("Inconsistent bindings for "+l)}else n[l]=s}delete e[t]}else delete e[t]}for(i in n)e[i]=n[i];return e}function Vo(e,t,i,n){var r=(t=Ao(t)).call?t.call(e,n):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Vo(e,t.fallthrough,i,n);for(var o=0;o<t.fallthrough.length;o++){var a=Vo(e,t.fallthrough[o],i,n);if(a)return a}}}function Ko(e){e="string"==typeof e?e:bo[e.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Co(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(b?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(b?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function To(e,t){if(p&&34==e.keyCode&&e.char)return!1;var i=bo[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),Co(i,e,t))}function Ao(e){return"string"==typeof e?zo[e]:e}function Eo(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=e(i[r]);n.length&&ge(o.from,U(n).to)<=0;){var a=n.pop();if(ge(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Mn(t,function(){for(var e=n.length-1;0<=e;e--)Gr(t.doc,"",n[e].from,n[e].to,"+delete");mn(t)})}function Mo(e,t,i){i=ne(e.text,t+i,i);return i<0||i>e.text.length?null:i}function No(e,t,i){e=Mo(e,t.ch,i);return null==e?null:new pe(t.line,e,i<0?"after":"before")}function Io(e,t,i,n,r){if(e){var o=it(i,t.doc.direction);if(o){var a,s,l,e=r<0?U(o):o[0],o=r<0==(1==e.level)?"after":"before";return 0<e.level||"rtl"==t.doc.direction?(a=Si(t,i),s=r<0?i.text.length-1:0,l=Vi(t,a,s).top,s=re(function(e){return Vi(t,a,e).top==l},r<0==(1==e.level)?e.from:e.to-1,s),"before"==o&&(s=Mo(i,s,1))):s=r<0?e.to:e.from,new pe(n,s,o)}}return new pe(n,r<0?i.text.length:0,r<0?"before":"after")}function Do(t,i,s,e){var l=it(i,t.doc.direction);if(!l)return No(i,s,e);s.ch>=i.text.length?(s.ch=i.text.length,s.sticky="before"):s.ch<=0&&(s.ch=0,s.sticky="after");var n=$e(l,s.ch,s.sticky),r=l[n];if("ltr"==t.doc.direction&&r.level%2==0&&(0<e?r.to>s.ch:r.from<s.ch))return No(i,s,e);function c(e,t){return Mo(i,e instanceof pe?e.ch:e,t)}function o(e){return t.options.lineWrapping?(a=a||Si(t,i),Xi(t,i,a,e)):{begin:0,end:i.text.length}}var a,d=o("before"==s.sticky?c(s,-1):s.ch);if("rtl"==t.doc.direction||1==r.level){var u=1==r.level==e<0,f=c(s,u?1:-1);if(null!=f&&(u?f<=r.to&&f<=d.end:f>=r.from&&f>=d.begin)){var h=u?"before":"after";return new pe(s.line,f,h)}}h=function(e,t,i){for(var n=function(e,t){return t?new pe(s.line,c(e,1),"before"):new pe(s.line,e,"after")};0<=e&&e<l.length;e+=t){var r=l[e],o=0<t==(1!=r.level),a=o?i.begin:c(i.end,-1);if(r.from<=a&&a<r.to)return n(a,o);if(a=o?r.from:c(r.to,-1),i.begin<=a&&a<i.end)return n(a,o)}},n=h(n+e,e,d);if(n)return n;d=0<e?d.end:c(d.begin,-1);return null==d||0<e&&d==i.text.length||!(n=h(0<e?0:l.length-1,e,o(d)))?null:n}zo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zo.default=g?zo.macDefault:zo.pcDefault;var Oo={selectAll:jr,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(i){return Eo(i,function(e){if(e.empty()){var t=ae(i.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line<i.lastLine()?{from:e.head,to:pe(e.head.line+1,0)}:{from:e.head,to:pe(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Eo(t,function(e){return{from:pe(e.from().line,0),to:ye(t.doc,pe(e.to().line+1,0))}})},delLineLeft:function(e){return Eo(e,function(e){return{from:pe(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(i){return Eo(i,function(e){var t=i.charCoords(e.head,"div").top+5;return{from:i.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(i){return Eo(i,function(e){var t=i.charCoords(e.head,"div").top+5,t=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:t}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(pe(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(pe(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Bo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Po(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(e,t){var i=ae(e.doc,t),n=function(e){for(var t;t=De(e);)e=t.find(1,!0).line;return e}(i);n!=i&&(t=de(n));return Io(!0,e,i,t,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){e=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div")},W)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){e=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:e},"div")},W)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(e){var t=i.cursorCoords(e.head,"div").top+5,t=i.coordsChar({left:0,top:t},"div");return t.ch<i.getLine(t.line).search(/\S/)?Po(i,e.head):t},W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),o=D(e.getLine(o.line),o.ch,n);t.push($(n-o%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(a){return Mn(a,function(){for(var e,t,i,n=a.listSelections(),r=[],o=0;o<n.length;o++)n[o].empty()&&(e=n[o].head,(t=ae(a.doc,e.line).text)&&(e.ch==t.length&&(e=new pe(e.line,e.ch-1)),0<e.ch?(e=new pe(e.line,e.ch+1),a.replaceRange(t.charAt(e.ch-1)+t.charAt(e.ch-2),pe(e.line,e.ch-2),e,"+transpose")):e.line>a.doc.first&&((i=ae(a.doc,e.line-1).text)&&(e=new pe(e.line,1),a.replaceRange(t.charAt(0)+a.doc.lineSeparator()+i.charAt(i.length-1),pe(e.line-1,i.length-1),e,"+transpose")))),r.push(new rr(e,e)));a.setSelections(r)})},newlineAndIndent:function(n){return Mn(n,function(){for(var e=n.listSelections(),t=e.length-1;0<=t;t--)n.replaceRange(n.doc.lineSeparator(),e[t].anchor,e[t].head,"+input");e=n.listSelections();for(var i=0;i<e.length;i++)n.indentLine(e[i].from().line,null,!0);mn(n)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Bo(e,t){var i=ae(e.doc,t),n=Be(i);return n!=i&&(t=de(n)),Io(!0,e,n,t,1)}function Po(e,t){var i=Bo(e,t.line),n=ae(e.doc,i.line),e=it(n,e.doc.direction);if(e&&0!=e[0].level)return i;n=Math.max(0,n.text.search(/\S/)),t=t.line==i.line&&t.ch<=n&&t.ch;return pe(i.line,t?0:n,i.sticky)}function Ro(e,t,i){if("string"==typeof t&&!(t=Oo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=R}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}var Ho=new O;function jo(e,t,i,n){var r=e.state.keySeq;if(r){if(Ko(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Ho.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),Wo(e,r+" "+t,i,n))return!0}return Wo(e,t,i,n)}function Wo(e,t,i,n){n=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=Vo(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&Vo(t,e.options.extraKeys,i,e)||Vo(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==n&&(e.state.keySeq=t),"handled"==n&&ai(e,"keyHandled",e,t,i),"handled"!=n&&"multi"!=n||(ft(i),an(e)),!!n}function Fo(t,e){var i=To(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?jo(t,"Shift-"+i,e,function(e){return Ro(t,e,!0)})||jo(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return Ro(t,e)}):jo(t,i,e,function(e){return Ro(t,e)}))}var Xo=null;function $o(e){var t,i,n;function r(e){18!=e.keyCode&&e.altKey||(z(n,"CodeMirror-crosshair"),at(document,"keyup",r),at(document,"mouseover",r))}this.curOp.focus=T(),lt(this,e)||(x&&m<11&&27==e.keyCode&&(e.returnValue=!1),t=e.keyCode,this.display.shift=16==t||e.shiftKey,i=Fo(this,e),p&&(Xo=i?t:null,!i&&88==t&&!Lt&&(g?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||(A(n=this.display.lineDiv,"CodeMirror-crosshair"),rt(document,"keyup",r),rt(document,"mouseover",r)))}function Uo(e){16==e.keyCode&&(this.doc.sel.shift=!1),lt(this,e)}function qo(e){if(!(_i(this.display,e)||lt(this,e)||e.ctrlKey&&!e.altKey||g&&e.metaKey)){var t,i=e.keyCode,n=e.charCode;if(p&&i==Xo)return Xo=null,void ft(e);p&&(!e.which||e.which<10)&&Fo(this,e)||"\b"!=(n=String.fromCharCode(null==n?i:n))&&(jo(t=this,"'"+n+"'",e,function(e){return Ro(t,e,!0)})||this.display.input.onKeyPress(e))}}var Go,Yo,Zo=function(e,t,i){this.time=e,this.pos=t,this.button=i};function Qo(e){var t,i,n,r,o,a=this,s=a.display;lt(a,e)||s.activeTouch&&s.input.supportsTouch()||(s.input.ensurePolled(),s.shift=e.shiftKey,_i(s,e)?h||(s.scroller.draggable=!1,setTimeout(function(){return s.scroller.draggable=!0},100)):ta(a,e)||(t=Ji(a,e),i=xt(e),r=t?(n=t,r=i,o=+new Date,Yo&&Yo.compare(o,n,r)?(Go=Yo=null,"triple"):Go&&Go.compare(o,n,r)?(Yo=new Zo(o,n,r),Go=null,"double"):(Go=new Zo(o,n,r),Yo=null,"single")):"single",window.focus(),1==i&&a.state.selectingText&&a.state.selectingText(e),t&&function(i,e,n,t,r){var o="Click";"double"==t?o="Double"+o:"triple"==t&&(o="Triple"+o);return jo(i,Co(o=(1==e?"Left":2==e?"Middle":"Right")+o,r),r,function(e){if("string"==typeof e&&(e=Oo[e]),!e)return!1;var t=!1;try{i.isReadOnly()&&(i.state.suppressEdits=!0),t=e(i,n)!=R}finally{i.state.suppressEdits=!1}return t})}(a,i,t,r,e)||(1==i?t?function(e,t,i,n){x?setTimeout(N(sn,e),0):e.curOp.focus=T();var r,o=function(e,t,i){var n=e.getOption("configureMouse"),r=n?n(e,t,i):{};null==r.unit&&(n=_?i.shiftKey&&i.metaKey:i.altKey,r.unit=n?"rectangle":"single"==t?"char":"double"==t?"word":"line");null!=r.extend&&!e.doc.extend||(r.extend=e.doc.extend||i.shiftKey);null==r.addNew&&(r.addNew=g?i.metaKey:i.ctrlKey);null==r.moveOnDrag&&(r.moveOnDrag=!(g?i.altKey:i.ctrlKey));return r}(e,i,n),a=e.doc.sel;(e.options.dragDrop&&bt&&!e.isReadOnly()&&"single"==i&&-1<(r=a.contains(t))&&(ge((r=a.ranges[r]).from(),t)<0||0<t.xRel)&&(0<ge(r.to(),t)||t.xRel<0)?function(t,i,n,r){var o=t.display,a=!1,s=Nn(t,function(e){h&&(o.scroller.draggable=!1),t.state.draggingText=!1,at(o.wrapper.ownerDocument,"mouseup",s),at(o.wrapper.ownerDocument,"mousemove",l),at(o.scroller,"dragstart",c),at(o.scroller,"drop",s),a||(ft(e),r.addNew||Cr(t.doc,n,null,null,r.extend),h||x&&9==m?setTimeout(function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()},20):o.input.focus())}),l=function(e){a=a||10<=Math.abs(i.clientX-e.clientX)+Math.abs(i.clientY-e.clientY)},c=function(){return a=!0};h&&(o.scroller.draggable=!0),(t.state.draggingText=s).copy=!r.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),rt(o.wrapper.ownerDocument,"mouseup",s),rt(o.wrapper.ownerDocument,"mousemove",l),rt(o.scroller,"dragstart",c),rt(o.scroller,"drop",s),ln(t),setTimeout(function(){return o.input.focus()},20)}:function(f,e,h,p){var a=f.display,g=f.doc;ft(e);var _,x,m=g.sel,t=m.ranges;p.addNew&&!p.extend?(x=g.sel.contains(h),_=-1<x?t[x]:new rr(h,h)):(_=g.sel.primary(),x=g.sel.primIndex),"rectangle"==p.unit?(p.addNew||(_=new rr(h,h)),h=Ji(f,e,!0,!0),x=-1):(e=Jo(f,h,p.unit),_=p.extend?Kr(_,e.anchor,e.head,p.extend):e),p.addNew?-1==x?(x=t.length,Nr(g,or(t.concat([_]),x),{scroll:!1,origin:"*mouse"})):1<t.length&&t[x].empty()&&"char"==p.unit&&!p.extend?(Nr(g,or(t.slice(0,x).concat(t.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),m=g.sel):Ar(g,x,_,j):(Nr(g,new nr([_],x=0),j),m=g.sel);var v=h;function s(e){if(0!=ge(v,e))if(v=e,"rectangle"==p.unit){for(var t=[],i=f.options.tabSize,n=D(ae(g,h.line).text,h.ch,i),r=D(ae(g,e.line).text,e.ch,i),o=Math.min(n,r),a=Math.max(n,r),s=Math.min(h.line,e.line),l=Math.min(f.lastLine(),Math.max(h.line,e.line));s<=l;s++){var c=ae(g,s).text,d=F(c,o,i);o==a?t.push(new rr(pe(s,d),pe(s,d))):c.length>d&&t.push(new rr(pe(s,d),pe(s,F(c,a,i))))}t.length||t.push(new rr(h,h)),Nr(g,or(m.ranges.slice(0,x).concat(t),x),{origin:"*mouse",scroll:!1}),f.scrollIntoView(e)}else{var u,n=_,r=Jo(f,e,p.unit),e=n.anchor,e=0<ge(r.anchor,e)?(u=r.head,ve(n.from(),r.anchor)):(u=r.anchor,me(n.to(),r.head)),r=m.ranges.slice(0);r[x]=function(e,t){var i=t.anchor,n=t.head,r=ae(e.doc,i.line);if(0==ge(i,n)&&i.sticky==n.sticky)return t;var o=it(r);if(!o)return t;var a=$e(o,i.ch,i.sticky),s=o[a];if(s.from!=i.ch&&s.to!=i.ch)return t;r=a+(s.from==i.ch==(1!=s.level)?0:1);if(0==r||r==o.length)return t;l=n.line!=i.line?0<(n.line-i.line)*("ltr"==e.doc.direction?1:-1):(e=$e(o,n.ch,n.sticky),l=e-a||(n.ch-i.ch)*(1==s.level?-1:1),e==r-1||e==r?l<0:0<l);var r=o[r+(l?-1:0)],l=l==(1==r.level),r=l?r.from:r.to,l=l?"after":"before";return i.ch==r&&i.sticky==l?t:new rr(new pe(i.line,r,l),n)}(f,new rr(ye(g,e),u)),Nr(g,or(r,x),j)}}var l=a.wrapper.getBoundingClientRect(),c=0;function i(e){f.state.selectingText=!1,c=1/0,ft(e),a.input.focus(),at(a.wrapper.ownerDocument,"mousemove",n),at(a.wrapper.ownerDocument,"mouseup",r),g.history.lastSelOrigin=null}var n=Nn(f,function(e){(0!==e.buttons&&xt(e)?function e(t){var i,n,r=++c,o=Ji(f,t,!0,"rectangle"==p.unit);o&&(0!=ge(o,v)?(f.curOp.focus=T(),s(o),i=hn(a,g),(o.line>=i.to||o.line<i.from)&&setTimeout(Nn(f,function(){c==r&&e(t)}),150)):(n=t.clientY<l.top?-20:t.clientY>l.bottom?20:0)&&setTimeout(Nn(f,function(){c==r&&(a.scroller.scrollTop+=n,e(t))}),50))}:i)(e)}),r=Nn(f,i);f.state.selectingText=r,rt(a.wrapper.ownerDocument,"mousemove",n),rt(a.wrapper.ownerDocument,"mouseup",r)})(e,n,t,o)}(a,t,r,e):_t(e)==s.scroller&&ft(e):2==i?(t&&Cr(a.doc,t),setTimeout(function(){return s.input.focus()},20)):3==i&&(y?ia(a,e):ln(a)))))}function Jo(e,t,i){if("char"==i)return new rr(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new rr(pe(t.line,0),ye(e.doc,pe(t.line+1,0)));t=i(e,t);return new rr(t.from,t.to)}function ea(e,t,i,n){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ft(t);var a=e.display,n=a.lineDiv.getBoundingClientRect();if(o>n.bottom||!dt(e,i))return pt(t);o-=n.top-a.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var l=a.gutters.childNodes[s];if(l&&l.getBoundingClientRect().right>=r)return st(e,i,e,ue(e.doc,o),e.options.gutters[s],t),pt(t)}}function ta(e,t){return ea(e,t,"gutterClick",!0)}function ia(e,t){var i,n;_i(e.display,t)||(n=t,dt(i=e,"gutterContextMenu")&&ea(i,n,"gutterContextMenu",!1))||lt(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function na(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Mi(e)}Zo.prototype.compare=function(e,t,i){return this.time+400>e&&0==ge(t,this.pos)&&i==this.button};var ra={toString:function(){return"CodeMirror.Init"}},oa={},aa={};function sa(e){Yn(e),On(e),pn(e)}function la(e,t,i){!t!=!(i&&i!=ra)&&(i=e.display.dragFunctions,(t=t?rt:at)(e.display.scroller,"dragstart",i.start),t(e.display.scroller,"dragenter",i.enter),t(e.display.scroller,"dragover",i.over),t(e.display.scroller,"dragleave",i.leave),t(e.display.scroller,"drop",i.drop))}function ca(e){e.options.lineWrapping?(A(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(z(e.display.wrapper,"CodeMirror-wrap"),Fe(e)),Qi(e),On(e),Mi(e),setTimeout(function(){return Sn(e)},100)}function da(e,t){var i=this;if(!(this instanceof da))return new da(e,t);this.options=t=t?I(t):{},I(oa,t,!1),Zn(t);var n=t.value;"string"==typeof n?n=new fo(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var r,o=new da.inputStyles[t.inputStyle](this),o=this.display=new oe(e,n,o);for(r in Yn(o.wrapper.CodeMirror=this),na(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Cn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new O,keySeq:null,specialChars:null},t.autofocus&&!u&&o.input.focus(),x&&m<11&&setTimeout(function(){return i.display.input.reset(!0)},20),function(n){var r=n.display;rt(r.scroller,"mousedown",Nn(n,Qo)),rt(r.scroller,"dblclick",x&&m<11?Nn(n,function(e){var t;lt(n,e)||(!(t=Ji(n,e))||ta(n,e)||_i(n.display,e)||(ft(e),t=n.findWordAt(t),Cr(n.doc,t.anchor,t.head)))}):function(e){return lt(n,e)||ft(e)}),y||rt(r.scroller,"contextmenu",function(e){return ia(n,e)});var i,o={end:0};function a(){r.activeTouch&&(i=setTimeout(function(){return r.activeTouch=null},1e3),(o=r.activeTouch).end=+new Date)}function s(e,t){if(null==t.left)return 1;var i=t.left-e.left,e=t.top-e.top;return 400<i*i+e*e}rt(r.scroller,"touchstart",function(e){var t;lt(n,e)||function(e){if(1==e.touches.length){e=e.touches[0];return e.radiusX<=1&&e.radiusY<=1}}(e)||ta(n,e)||(r.input.ensurePolled(),clearTimeout(i),t=+new Date,r.activeTouch={start:t,moved:!1,prev:t-o.end<=300?o:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY))}),rt(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),rt(r.scroller,"touchend",function(e){var t,i=r.activeTouch;i&&!_i(r,e)&&null!=i.left&&!i.moved&&new Date-i.start<300&&(t=n.coordsChar(r.activeTouch,"page"),t=!i.prev||s(i,i.prev)?new rr(t,t):!i.prev.prev||s(i,i.prev.prev)?n.findWordAt(t):new rr(pe(t.line,0),ye(n.doc,pe(t.line+1,0))),n.setSelection(t.anchor,t.head),n.focus(),ft(e)),a()}),rt(r.scroller,"touchcancel",a),rt(r.scroller,"scroll",function(){r.scroller.clientHeight&&(wn(n,r.scroller.scrollTop),zn(n,r.scroller.scrollLeft,!0),st(n,"scroll",n))}),rt(r.scroller,"mousewheel",function(e){return ir(n,e)}),rt(r.scroller,"DOMMouseScroll",function(e){return ir(n,e)}),rt(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(e){lt(n,e)||gt(e)},over:function(e){var t,i;lt(n,e)||((i=Ji(t=n,i=e))&&(rn(t,i,i=document.createDocumentFragment()),t.display.dragCursor||(t.display.dragCursor=V("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),S(t.display.dragCursor,i)),gt(e))},start:function(e){return t=n,i=e,void(x&&(!t.state.draggingText||+new Date-ho<100)?gt(i):lt(t,i)||_i(t.display,i)||(i.dataTransfer.setData("Text",t.getSelection()),i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setDragImage&&!l&&((e=V("img",null,null,"position: fixed; left: 0; top: 0;")).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(e.width=e.height=1,t.display.wrapper.appendChild(e),e._top=e.offsetTop),i.dataTransfer.setDragImage(e,0,0),p&&e.parentNode.removeChild(e))));var t,i},drop:Nn(n,po),leave:function(e){lt(n,e)||go(n)}};var e=r.input.getField();rt(e,"keyup",function(e){return Uo.call(n,e)}),rt(e,"keydown",Nn(n,$o)),rt(e,"keypress",Nn(n,qo)),rt(e,"focus",function(e){return cn(n,e)}),rt(e,"blur",function(e){return dn(n,e)})}(this),mo(),An(this),this.curOp.forceUpdate=!0,_r(this,n),t.autofocus&&!u||this.hasFocus()?setTimeout(N(cn,this),20):dn(this),aa)aa.hasOwnProperty(r)&&aa[r](i,t[r],ra);gn(this),t.finishInit&&t.finishInit(this);for(var a=0;a<ua.length;++a)ua[a](i);En(this),h&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}da.defaults=oa,da.optionHandlers=aa;var ua=[];function fa(e,t,i,n){var r,o=e.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=Pt(e,t).state:i="prev");var a=e.options.tabSize,s=ae(o,t),l=D(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,d=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==i&&((c=o.mode.indent(r,s.text.slice(d.length),s.text))==R||150<c)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>o.first?D(ae(o,t-1).text,null,a):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var u="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)f+=a,u+="\t";if(f<c&&(u+=$(c-f)),u!=d)return Gr(o,u,pe(t,0),pe(t,d.length),"+input"),!(s.stateAfter=null);for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<d.length){g=pe(t,d.length);Ar(o,p,new rr(g,g));break}}}da.defineInitHook=function(e){return ua.push(e)};var ha=null;function pa(e){ha=e}function ga(e,t,i,n,r){var o=e.doc;e.display.shift=!1,n=n||o.sel;var a,s=e.state.pasteIncoming||"paste"==r,l=yt(t),c=null;if(s&&1<n.ranges.length)if(ha&&ha.text.join("\n")==t){if(n.ranges.length%ha.text.length==0){c=[];for(var d=0;d<ha.text.length;d++)c.push(o.splitLines(ha.text[d]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=q(l,function(e){return[e]}));for(var u=n.ranges.length-1;0<=u;u--){var f=n.ranges[u],h=f.from(),p=f.to();f.empty()&&(i&&0<i?h=pe(h.line,h.ch-i):e.state.overwrite&&!s?p=pe(p.line,Math.min(ae(o,p.line).text.length,p.ch+U(l).length)):ha&&ha.lineWise&&ha.text.join("\n")==t&&(h=p=pe(h.line,0))),a=e.curOp.updateInput;p={from:h,to:p,text:c?c[u%c.length]:l,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};Fr(e.doc,p),ai(e,"inputRead",e,p)}t&&!s&&xa(e,t),mn(e),e.curOp.updateInput=a,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function _a(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");return i&&(e.preventDefault(),t.isReadOnly()||t.options.disableInput||Mn(t,function(){return ga(t,i,0,null,"paste")}),1)}function xa(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;0<=n;n--){var r=i.ranges[n];if(!(100<r.head.ch||n&&i.ranges[n-1].head.line==r.head.line)){var o=e.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(-1<t.indexOf(o.electricChars.charAt(s))){a=fa(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ae(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=fa(e,r.head.line,"smart"));a&&ai(e,"electricInput",e,r.head.line)}}}function ma(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,r={anchor:pe(r,0),head:pe(r+1,0)};i.push(r),t.push(e.getRange(r.anchor,r.head))}return{text:t,ranges:i}}function va(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function ba(){var e=V("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=V("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?e.style.width="1000px":e.setAttribute("wrap","off"),s&&(e.style.border="1px solid black"),va(e),t}function ya(n,r,o,e,a){var t=r,i=o,s=ae(n,r.line);function l(e){var t,i=a?Do(n.cm,s,r,o):No(s,r,o);if(null==i){if(e||(t=r.line+o)<n.first||t>=n.first+n.size||(r=new pe(t,r.ch,r.sticky),!(s=ae(n,t))))return;r=Io(a,n.cm,s,r.line,o)}else r=i;return 1}if("char"==e)l();else if("column"==e)l(!0);else if("word"==e||"group"==e)for(var c=null,d="group"==e,u=n.cm&&n.cm.getHelper(r,"wordChars"),f=!0;!(o<0)||l(!f);f=!1){var h=s.text.charAt(r.ch)||"\n",h=J(h,u)?"w":d&&"\n"==h?"n":!d||/\s/.test(h)?null:"p";if(!d||f||h||(h="s"),c&&c!=h){o<0&&(o=1,l(),r.sticky="after");break}if(h&&(c=h),0<o&&!l(!f))break}i=Rr(n,r,t,i,!0);return _e(t,i)&&(i.hitSide=!0),i}function wa(e,t,i,n){var r,o,a,s=e.doc,l=t.left;for("page"==n?(r=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),r=Math.max(r-.5*Ui(e.display),3),o=(0<i?t.bottom:t.top)+i*r):"line"==n&&(o=0<i?t.bottom+3:t.top-3);(a=Wi(e,l,o)).outside;){if(i<0?o<=0:o>=s.height){a.hitSide=!0;break}o+=5*i}return a}e=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new O,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function La(e,t){var i=ki(e,t.line);if(!i||i.hidden)return null;var n=ae(e.doc,t.line),i=Li(i,n,t.line),n=it(n,e.doc.direction),e="left";n&&(e=$e(n,t.ch)%2?"right":"left");e=Ti(i.map,t.ch,e);return e.offset="right"==e.collapse?e.end:e.start,e}function za(e,t){return t&&(e.bad=!0),e}function ka(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return za(e.clipPos(pe(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==n)return function(c,e,t){var i=c.text.firstChild,n=!1;if(!e||!C(i,e))return za(pe(de(c.line),0),!0);if(e==i&&(n=!0,e=i.childNodes[t],t=0,!e)){var r=c.rest?U(c.rest):c.line;return za(pe(de(r),r.text.length),n)}var r=3==e.nodeType?e:null,o=e;r||1!=e.childNodes.length||3!=e.firstChild.nodeType||(r=e.firstChild,t=t&&r.nodeValue.length);for(;o.parentNode!=i;)o=o.parentNode;var d=c.measure,u=d.maps;function a(e,t,i){for(var n=-1;n<(u?u.length:0);n++)for(var r=n<0?d.map:u[n],o=0;o<r.length;o+=3){var a=r[o+2];if(a==e||a==t){var s=de(n<0?c.line:c.rest[n]),l=r[o]+i;return(i<0||a!=e)&&(l=r[o+(i?1:0)]),pe(s,l)}}}var s=a(r,o,t);if(s)return za(s,n);for(var l=o.nextSibling,f=r?r.nodeValue.length-t:0;l;l=l.nextSibling){if(s=a(l,l.firstChild,0))return za(pe(s.line,s.ch-f),n);f+=l.textContent.length}for(var h=o.previousSibling,p=t;h;h=h.previousSibling){if(s=a(h,h.firstChild,-1))return za(pe(s.line,s.ch+p),n);p+=h.textContent.length}}(o,t,i)}}e.prototype.init=function(e){var t=this,o=this,a=o.cm,s=o.div=e.lineDiv;function i(e){if(!lt(a,e)){if(a.somethingSelected())pa({lineWise:!1,text:a.getSelections()}),"cut"==e.type&&a.replaceSelection("",null,"cut");else{if(!a.options.lineWiseCopyCut)return;var t=ma(a);pa({lineWise:!0,text:t.text}),"cut"==e.type&&a.operation(function(){a.setSelections(t.ranges,0,H),a.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var i=ha.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var n=ba(),e=n.firstChild;a.display.lineSpace.insertBefore(n,a.display.lineSpace.firstChild),e.value=ha.text.join("\n");var r=document.activeElement;M(e),setTimeout(function(){a.display.lineSpace.removeChild(n),r.focus(),r==s&&o.showPrimarySelection()},50)}}va(s,a.options.spellcheck),rt(s,"paste",function(e){lt(a,e)||_a(e,a)||m<=11&&setTimeout(Nn(a,function(){return t.updateFromDOM()}),20)}),rt(s,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),rt(s,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),rt(s,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),rt(s,"touchstart",function(){return o.forceCompositionEnd()}),rt(s,"input",function(){t.composing||t.readFromDOMSoon()}),rt(s,"copy",i),rt(s,"cut",i)},e.prototype.prepareSelection=function(){var e=nn(this.cm,!1);return e.focus=this.cm.state.focused,e},e.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},e.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},e.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||r.line<t.display.viewFrom)e.removeAllRanges();else{var o=ka(t,e.anchorNode,e.anchorOffset),i=ka(t,e.focusNode,e.focusOffset);if(!o||o.bad||!i||i.bad||0!=ge(ve(o,i),n)||0!=ge(me(o,i),r)){var i=t.display.view,a=n.line>=t.display.viewFrom&&La(t,n)||{node:i[0].measure.map[2],offset:0},s=r.line<t.display.viewTo&&La(t,r);if(s||(s={node:(c=(c=i[i.length-1].measure).maps?c.maps[c.maps.length-1]:c.map)[c.length-1],offset:c[c.length-2]-c[c.length-3]}),a&&s){var l,c=e.rangeCount&&e.getRangeAt(0);try{l=L(a.node,a.offset,s.offset,s.node)}catch(e){}l&&(!f&&t.state.focused?(e.collapse(a.node,a.offset),l.collapsed||(e.removeAllRanges(),e.addRange(l))):(e.removeAllRanges(),e.addRange(l)),c&&null==e.anchorNode?e.addRange(c):f&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},e.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},e.prototype.showMultipleSelections=function(e){S(this.cm.display.cursorDiv,e.cursors),S(this.cm.display.selectionDiv,e.selection)},e.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},e.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;e=e.getRangeAt(0).commonAncestorContainer;return C(this.div,e)},e.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},e.prototype.blur=function(){this.div.blur()},e.prototype.getField=function(){return this.div},e.prototype.supportsTouch=function(){return!0},e.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Mn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},e.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},e.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e,t,i=this.getSelection(),n=this.cm;if(d&&o&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(i.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();this.composing||(this.rememberSelection(),e=ka(n,i.anchorNode,i.anchorOffset),t=ka(n,i.focusNode,i.focusOffset),e&&t&&Mn(n,function(){Nr(n.doc,ar(e,t),H),(e.bad||t.bad)&&(n.curOp.selectionChanged=!0)}))}},e.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t=this.cm,i=t.display,n=t.doc.sel.primary(),r=n.from(),n=n.to();if(0==r.ch&&r.line>t.firstLine()&&(r=pe(r.line-1,ae(t.doc,r.line-1).length)),n.ch==ae(t.doc,n.line).text.length&&n.line<t.lastLine()&&(n=pe(n.line+1,0)),r.line<i.viewFrom||n.line>i.viewTo-1)return!1;_=r.line==i.viewFrom||0==(_=en(t,r.line))?(e=de(i.view[0].line),i.view[0].node):(e=de(i.view[_].line),i.view[_-1].node.nextSibling);var o,n=en(t,n.line),n=n==i.view.length-1?(o=i.viewTo-1,i.lineDiv.lastChild):(o=de(i.view[n+1].line)-1,i.view[n+1].node.previousSibling);if(!_)return!1;for(var a=t.doc.splitLines(function(a,e,t,s,l){var i="",c=!1,d=a.doc.lineSeparator(),u=!1;function f(){c&&(i+=d,u&&(i+=d),c=u=!1)}function h(e){e&&(f(),i+=e)}for(;!function e(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)h(i);else if(i=t.getAttribute("cm-marker"))(i=a.findMarks(pe(s,0),pe(l+1,0),(o=+i,function(e){return e.id==o}))).length&&(n=i[0].find(0))&&h(se(a.doc,n.from,n.to).join(d));else if("false"!=t.getAttribute("contenteditable")){var n=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(/^br$/i.test(t.nodeName)||0!=t.textContent.length){n&&f();for(var r=0;r<t.childNodes.length;r++)e(t.childNodes[r]);/^(pre|p)$/i.test(t.nodeName)&&(u=!0),n&&(c=!0)}}}else 3==t.nodeType&&h(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var o}(e),e!=t;)e=e.nextSibling,u=!1;return i}(t,_,n,e,o)),s=se(t.doc,pe(e,0),pe(o,ae(t.doc,o).text.length));1<a.length&&1<s.length;)if(U(a)==U(s))a.pop(),s.pop(),o--;else{if(a[0]!=s[0])break;a.shift(),s.shift(),e++}for(var l=0,c=0,d=a[0],u=s[0],f=Math.min(d.length,u.length);l<f&&d.charCodeAt(l)==u.charCodeAt(l);)++l;for(var h=U(a),p=U(s),g=Math.min(h.length-(1==a.length?l:0),p.length-(1==s.length?l:0));c<g&&h.charCodeAt(h.length-c-1)==p.charCodeAt(p.length-c-1);)++c;if(1==a.length&&1==s.length&&e==r.line)for(;l&&l>r.ch&&h.charCodeAt(h.length-c-1)==p.charCodeAt(p.length-c-1);)l--,c++;a[a.length-1]=h.slice(0,h.length-c).replace(/^\u200b+/,""),a[0]=a[0].slice(l).replace(/\u200b+$/,"");var _=pe(e,l),n=pe(o,s.length?U(s).length-c:0);return 1<a.length||a[0]||ge(_,n)?(Gr(t.doc,a,_,n,"+input"),!0):void 0},e.prototype.ensurePolled=function(){this.forceCompositionEnd()},e.prototype.reset=function(){this.forceCompositionEnd()},e.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},e.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},e.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Mn(this.cm,function(){return On(e.cm)})},e.prototype.setUneditable=function(e){e.contentEditable="false"},e.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Nn(this.cm,ga)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},e.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},e.prototype.onContextMenu=function(){},e.prototype.resetPosition=function(){},e.prototype.needsContentAttribute=!0;var Sa,Va,Ka,Ca,Ta,n=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new O,this.hasSelection=!1,this.composing=null};function Aa(e,t,n,i){Sa.defaults[e]=t,n&&(Va[e]=i?function(e,t,i){i!=ra&&n(e,t,i)}:n)}n.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var r=this.textarea;function o(e){if(!lt(n,e)){if(n.somethingSelected())pa({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=ma(n);pa({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,H):(i.prevInput="",r.value=t.text.join("\n"),M(r))}"cut"==e.type&&(n.state.cutIncoming=!0)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),s&&(r.style.width="0px"),rt(r,"input",function(){x&&9<=m&&e.hasSelection&&(e.hasSelection=null),i.poll()}),rt(r,"paste",function(e){lt(n,e)||_a(e,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),rt(r,"cut",o),rt(r,"copy",o),rt(t.scroller,"paste",function(e){_i(t,e)||lt(n,e)||(n.state.pasteIncoming=!0,i.focus())}),rt(t.lineSpace,"selectstart",function(e){_i(t,e)||ft(e)}),rt(r,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),rt(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},n.prototype.createField=function(e){this.wrapper=ba(),this.textarea=this.wrapper.firstChild},n.prototype.prepareSelection=function(){var e,t=this.cm,i=t.display,n=t.doc,r=nn(t);return t.options.moveInputWithCursor&&(e=Ri(t,n.sel.primary().head,"div"),t=i.wrapper.getBoundingClientRect(),n=i.lineDiv.getBoundingClientRect(),r.teTop=Math.max(0,Math.min(i.wrapper.clientHeight-10,e.top+n.top-t.top)),r.teLeft=Math.max(0,Math.min(i.wrapper.clientWidth-10,e.left+n.left-t.left))),r},n.prototype.showSelection=function(e){var t=this.cm.display;S(t.cursorDiv,e.cursors),S(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},n.prototype.reset=function(e){var t,i;this.contextMenuPending||this.composing||((t=this.cm).somethingSelected()?(this.prevInput="",i=t.getSelection(),this.textarea.value=i,t.state.focused&&M(this.textarea),x&&9<=m&&(this.hasSelection=i)):e||(this.prevInput=this.textarea.value="",x&&9<=m&&(this.hasSelection=null)))},n.prototype.getField=function(){return this.textarea},n.prototype.supportsTouch=function(){return!1},n.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!u||T()!=this.textarea))try{this.textarea.focus()}catch(e){}},n.prototype.blur=function(){this.textarea.blur()},n.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},n.prototype.receivedFocus=function(){this.slowPoll()},n.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},n.prototype.fastPoll=function(){var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,function e(){i.poll()||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))})},n.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||wt(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=i.value;if(r==n&&!t.somethingSelected())return!1;if(x&&9<=m&&this.hasSelection===r||g&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(n.length,r.length);a<s&&n.charCodeAt(a)==r.charCodeAt(a);)++a;return Mn(t,function(){ga(t,r.slice(a),n.length-a,null,e.composing?"*compose":null),1e3<r.length||-1<r.indexOf("\n")?i.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},n.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},n.prototype.onKeyPress=function(){x&&9<=m&&(this.hasSelection=null),this.fastPoll()},n.prototype.onContextMenu=function(e){var i,n,t,r,o=this,a=o.cm,s=a.display,l=o.textarea,c=Ji(a,e),d=s.scroller.scrollTop;function u(){var e,t;null!=l.selectionStart&&(t="\u200b"+((e=a.somethingSelected())?l.value:""),l.value="\u21da",l.value=t,o.prevInput=e?"":"\u200b",l.selectionStart=1,l.selectionEnd=t.length,s.selForContextMenu=a.doc.sel)}function f(){var e,t;o.contextMenuPending=!1,o.wrapper.style.cssText=n,l.style.cssText=i,x&&m<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=d),null!=l.selectionStart&&((!x||x&&m<9)&&u(),e=0,t=function(){s.selForContextMenu==a.doc.sel&&0==l.selectionStart&&0<l.selectionEnd&&"\u200b"==o.prevInput?Nn(a,jr)(a):e++<10?s.detectingSelectAll=setTimeout(t,500):(s.selForContextMenu=null,s.input.reset())},s.detectingSelectAll=setTimeout(t,200))}c&&!p&&(a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(c)&&Nn(a,Nr)(a.doc,ar(c),H),i=l.style.cssText,n=o.wrapper.style.cssText,o.wrapper.style.cssText="position: absolute",c=o.wrapper.getBoundingClientRect(),l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-c.top-5)+"px; left: "+(e.clientX-c.left-5)+"px;\n      z-index: 1000; background: "+(x?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",h&&(t=window.scrollY),s.input.focus(),h&&window.scrollTo(null,t),s.input.reset(),a.somethingSelected()||(l.value=o.prevInput=" "),o.contextMenuPending=!0,s.selForContextMenu=a.doc.sel,clearTimeout(s.detectingSelectAll),x&&9<=m&&u(),y?(gt(e),r=function(){at(window,"mouseup",r),setTimeout(f,20)},rt(window,"mouseup",r)):setTimeout(f,50))},n.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},n.prototype.setUneditable=function(){},n.prototype.needsContentAttribute=!1,Va=(Sa=da).optionHandlers,Sa.defineOption=Aa,Sa.Init=ra,Aa("value","",function(e,t){return e.setValue(t)},!0),Aa("mode",null,function(e,t){e.doc.modeOption=t,ur(e)},!0),Aa("indentUnit",2,ur,!0),Aa("indentWithTabs",!1),Aa("smartIndent",!0),Aa("tabSize",4,function(e){fr(e),Mi(e),On(e)},!0),Aa("lineSeparator",null,function(e,n){if(e.doc.lineSep=n){var r=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var i=e.text.indexOf(n,t);if(-1==i)break;t=i+n.length,r.push(pe(o,i))}o++});for(var t=r.length-1;0<=t;t--)Gr(e.doc,n,r[t],pe(r[t].line,r[t].ch+n.length))}}),Aa("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=ra&&e.refresh()}),Aa("specialCharPlaceholder",Qt,function(e){return e.refresh()},!0),Aa("electricChars",!0),Aa("inputStyle",u?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Aa("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),Aa("rtlMoveVisually",!v),Aa("wholeLineUpdateBefore",!0),Aa("theme","default",function(e){na(e),sa(e)},!0),Aa("keyMap","default",function(e,t,i){t=Ao(t),i=i!=ra&&Ao(i);i&&i.detach&&i.detach(e,t),t.attach&&t.attach(e,i||null)}),Aa("extraKeys",null),Aa("configureMouse",null),Aa("lineWrapping",!1,ca,!0),Aa("gutters",[],function(e){Zn(e.options),sa(e)},!0),Aa("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Yi(e.display)+"px":"0",e.refresh()},!0),Aa("coverGutterNextToScrollbar",!1,function(e){return Sn(e)},!0),Aa("scrollbarStyle","native",function(e){Cn(e),Sn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Aa("lineNumbers",!1,function(e){Zn(e.options),sa(e)},!0),Aa("firstLineNumber",1,sa,!0),Aa("lineNumberFormatter",function(e){return e},sa,!0),Aa("showCursorWhenSelecting",!1,tn,!0),Aa("resetSelectionOnContextMenu",!0),Aa("lineWiseCopyCut",!0),Aa("pasteLinesPerSelection",!0),Aa("readOnly",!1,function(e,t){"nocursor"==t&&(dn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),Aa("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Aa("dragDrop",!0,la),Aa("allowDropFileTypes",null),Aa("cursorBlinkRate",530),Aa("cursorScrollMargin",0),Aa("cursorHeight",1,tn,!0),Aa("singleCursorHeightPerLine",!0,tn,!0),Aa("workTime",100),Aa("workDelay",100),Aa("flattenSpans",!0,fr,!0),Aa("addModeClass",!1,fr,!0),Aa("pollInterval",100),Aa("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),Aa("historyEventDelay",1250),Aa("viewportMargin",10,function(e){return e.refresh()},!0),Aa("maxHighlightLength",1e4,fr,!0),Aa("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Aa("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),Aa("autofocus",null),Aa("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),Ca=(Ka=da).optionHandlers,Ta=Ka.helpers={},Ka.prototype={constructor:Ka,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,n=i[e];i[e]==t&&"mode"!=e||(i[e]=t,Ca.hasOwnProperty(e)&&Nn(this,Ca[e])(this,t,n),st(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ao(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:In(function(e,t){var i=e.token?e:Ka.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,i){for(var n=0,r=i(t);n<e.length&&i(e[n])<=r;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:i,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,On(this)}),removeOverlay:In(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void On(this)}}),indentLine:In(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),fe(this.doc,e)&&fa(this,e,t,i)}),indentSelection:In(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&(fa(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&mn(this));else{for(var o=r.from(),a=r.to(),r=Math.max(i,o.line),i=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1,s=r;s<i;++s)fa(this,s,e);r=this.doc.sel.ranges;0==o.ch&&t.length==r.length&&0<r[n].from().ch&&Ar(this.doc,n,new rr(o,r[n].to()),H)}}}),getTokenAt:function(e,t){return Ft(this,e,t)},getLineTokens:function(e,t){return Ft(this,pe(e),t,!0)},getTokenTypeAt:function(e){e=ye(this.doc,e);var t,i=Bt(this,ae(this.doc,e.line)),n=0,r=(i.length-1)/2,o=e.ch;if(0==o)t=i[2];else for(;;){var a=n+r>>1;if((a?i[2*a-1]:0)>=o)r=a;else{if(!(i[2*a+1]<o)){t=i[2*a+2];break}n=1+a}}e=t?t.indexOf("overlay "):-1;return e<0?t:0==e?null:t.slice(0,e-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?Ka.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!Ta.hasOwnProperty(t))return i;var n=Ta[t],r=this.getModeAt(e);if("string"==typeof r[t])n[r[t]]&&i.push(n[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var a=n[r[t][o]];a&&i.push(a)}else r.helperType&&n[r.helperType]?i.push(n[r.helperType]):n[r.name]&&i.push(n[r.name]);for(var s=0;s<n._global.length;s++){var l=n._global[s];l.pred(r,this)&&-1==B(i,l.val)&&i.push(l.val)}return i},getStateAfter:function(e,t){var i=this.doc;return Pt(this,(e=be(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary(),i=null==e?i.head:"object"==typeof e?ye(this.doc,e):e?i.from():i.to();return Ri(this,i,t||"page")},charCoords:function(e,t){return Pi(this,ye(this.doc,e),t||"page")},coordsChar:function(e,t){return Wi(this,(e=Bi(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Bi(this,{top:e,left:0},t||"page").top,ue(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,r=!1,e="number"==typeof e?(n=this.doc.first+this.doc.size-1,e<this.doc.first?e=this.doc.first:n<e&&(e=n,r=!0),ae(this.doc,e)):e;return Oi(this,e,{top:0,left:0},t||"page",i||r).top+(r?this.doc.height-je(e):0)},defaultTextHeight:function(){return Ui(this.display)},defaultCharWidth:function(){return qi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var o,a,s=this.display,l=(e=Ri(this,ye(this.doc,e))).bottom,c=e.left;t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),s.sizer.appendChild(t),"over"==n?l=e.top:"above"!=n&&"near"!=n||(o=Math.max(s.wrapper.clientHeight,this.doc.height),a=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth),("above"==n||e.bottom+t.offsetHeight>o)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=o&&(l=e.bottom),c+t.offsetWidth>a&&(c=a-t.offsetWidth)),t.style.top=l+"px",t.style.left=t.style.right="","right"==r?(c=s.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?c=0:"middle"==r&&(c=(s.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),i&&(i=this,t={left:c,top:l,right:c+t.offsetWidth,bottom:l+t.offsetHeight},null!=(t=_n(i,t)).scrollTop&&wn(i,t.scrollTop),null!=t.scrollLeft&&zn(i,t.scrollLeft))},triggerOnKeyDown:In($o),triggerOnKeyPress:In(qo),triggerOnKeyUp:Uo,triggerOnMouseDown:In(Qo),execCommand:function(e){if(Oo.hasOwnProperty(e))return Oo[e].call(null,this)},triggerElectric:In(function(e){xa(this,e)}),findPosH:function(e,t,i,n){var r=1;t<0&&(r=-1,t=-t);for(var o=ye(this.doc,e),a=0;a<t&&!(o=ya(this.doc,o,r,i,n)).hitSide;++a);return o},moveH:In(function(t,i){var n=this;this.extendSelectionsBy(function(e){return n.display.shift||n.doc.extend||e.empty()?ya(n.doc,e.head,t,i,n.options.rtlMoveVisually):t<0?e.from():e.to()},W)}),deleteH:In(function(i,n){var e=this.doc.sel,r=this.doc;e.somethingSelected()?r.replaceSelection("",null,"+delete"):Eo(this,function(e){var t=ya(r,e.head,i,n,!1);return i<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,i,n){var r=1,o=n;t<0&&(r=-1,t=-t);for(var a=ye(this.doc,e),s=0;s<t;++s){var l=Ri(this,a,"div");if(null==o?o=l.left:l.left=o,(a=wa(this,l,r,i)).hitSide)break}return a},moveV:In(function(n,r){var o=this,a=this.doc,s=[],l=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy(function(e){if(l)return n<0?e.from():e.to();var t=Ri(o,e.head,"div");null!=e.goalColumn&&(t.left=e.goalColumn),s.push(t.left);var i=wa(o,t,n,r);return"page"==r&&e==a.sel.primary()&&xn(o,Pi(o,i,"div").top-t.top),i},W),s.length)for(var e=0;e<a.sel.ranges.length;e++)a.sel.ranges[e].goalColumn=s[e]}),findWordAt:function(e){var t=ae(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var o=t.charAt(i),a=J(o,r)?function(e){return J(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!J(e)};0<i&&a(t.charAt(i-1));)--i;for(;n<t.length&&a(t.charAt(n));)++n}return new rr(pe(e.line,i),pe(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?A:z)(this.display.cursorDiv,"CodeMirror-overwrite"),st(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==T()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:In(function(e,t){vn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-bi(this)-this.display.barHeight,width:e.scrollWidth-bi(this)-this.display.barWidth,clientHeight:wi(this),clientWidth:yi(this)}},scrollIntoView:In(function(e,t){var i;null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:pe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(i=e,bn(t=this),t.curOp.scrollToPos=i):yn(this,e.from,e.to,e.margin)}),setSize:In(function(e,t){function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&Ei(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Bn(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,st(this,"refresh",this)}),operation:function(e){return Mn(this,e)},startOperation:function(){return An(this)},endOperation:function(){return En(this)},refresh:In(function(){var e=this.display.cachedTextHeight;On(this),this.curOp.forceUpdate=!0,Mi(this),vn(this,this.doc.scrollLeft,this.doc.scrollTop),qn(this),(null==e||.5<Math.abs(e-Ui(this.display)))&&Qi(this),st(this,"refresh",this)}),swapDoc:In(function(e){var t=this.doc;return t.cm=null,_r(this,e),Mi(this),this.display.input.reset(),vn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ai(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ut(Ka),Ka.registerHelper=function(e,t,i){Ta.hasOwnProperty(e)||(Ta[e]=Ka[e]={_global:[]}),Ta[e][t]=i},Ka.registerGlobalHelper=function(e,t,i,n){Ka.registerHelper(e,t,n),Ta[e]._global.push({pred:i,val:n})};var Ea,Ma,Na="iter insert remove copy getEditor constructor".split(" ");for(Ea in fo.prototype)fo.prototype.hasOwnProperty(Ea)&&B(Na,Ea)<0&&(da.prototype[Ea]=function(e){return function(){return e.apply(this.doc,arguments)}}(fo.prototype[Ea]));return ut(fo),da.inputStyles={textarea:n,contenteditable:e},da.defineMode=function(e){da.defaults.mode||"null"==e||(da.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),kt[e]=t}.apply(this,arguments)},da.defineMIME=function(e,t){St[e]=t},da.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),da.defineMIME("text/plain","null"),da.defineExtension=function(e,t){da.prototype[e]=t},da.defineDocExtension=function(e,t){fo.prototype[e]=t},da.fromTextArea=function(t,e){var i;function n(){t.value=s.getValue()}if(e=e?I(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus&&(i=T(),e.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body),t.form&&(rt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var r=t.form,o=r.submit;try{var a=r.submit=function(){n(),r.submit=o,r.submit(),r.submit=a}}catch(e){}}e.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(at(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var s=da(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return s},(Ma=da).off=at,Ma.on=rt,Ma.wheelEventPixels=tr,Ma.Doc=fo,Ma.splitLines=yt,Ma.countColumn=D,Ma.findColumn=F,Ma.isWordChar=Q,Ma.Pass=R,Ma.signal=st,Ma.Line=Ut,Ma.changeEnd=sr,Ma.scrollbarModel=Kn,Ma.Pos=pe,Ma.cmpPos=ge,Ma.modes=kt,Ma.mimeModes=St,Ma.resolveMode=Vt,Ma.getMode=Kt,Ma.modeExtensions=Ct,Ma.extendMode=Tt,Ma.copyState=At,Ma.startState=Mt,Ma.innerMode=Et,Ma.commands=Oo,Ma.keyMap=zo,Ma.keyName=To,Ma.isModifierKey=Ko,Ma.lookupKey=Vo,Ma.normalizeKeyMap=So,Ma.StringStream=Nt,Ma.SharedTextMarker=so,Ma.TextMarker=oo,Ma.LineWidget=io,Ma.e_preventDefault=ft,Ma.e_stopPropagation=ht,Ma.e_stop=gt,Ma.addClass=A,Ma.contains=C,Ma.rmClass=z,Ma.keyNames=bo,da.version="5.39.2",da}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(p){"use strict";p.multiplexingMode=function(u){var f=Array.prototype.slice.call(arguments,1);function h(e,t,i,n){if("string"==typeof t){var r=e.indexOf(t,i);return n&&-1<r?r+t.length:r}e=t.exec(i?e.slice(i):e);return e?e.index+i+(n?e[0].length:0):-1}return{startState:function(){return{outer:p.startState(u),innerActive:null,inner:null}},copyState:function(e){return{outer:p.copyState(u,e.outer),innerActive:e.innerActive,inner:e.innerActive&&p.copyState(e.innerActive.mode,e.inner)}},token:function(e,t){if(t.innerActive){var i=t.innerActive,n=e.string;if(!i.close&&e.sol())return t.innerActive=t.inner=null,this.token(e,t);if((s=i.close?h(n,i.close,e.pos,i.parseDelimiters):-1)==e.pos&&!i.parseDelimiters)return e.match(i.close),t.innerActive=t.inner=null,i.delimStyle&&i.delimStyle+" "+i.delimStyle+"-close";-1<s&&(e.string=n.slice(0,s));var r=i.mode.token(e,t.inner);return-1<s&&(e.string=n),s==e.pos&&i.parseDelimiters&&(t.innerActive=t.inner=null),i.innerStyle&&(r=r?r+" "+i.innerStyle:i.innerStyle),r}for(var o=1/0,n=e.string,a=0;a<f.length;++a){var s,l=f[a];if((s=h(n,l.open,e.pos))==e.pos){l.parseDelimiters||e.match(l.open),t.innerActive=l;var c,d=0;return!u.indent||(c=u.indent(t.outer,""))!==p.Pass&&(d=c),t.inner=p.startState(l.mode,d),l.delimStyle&&l.delimStyle+" "+l.delimStyle+"-open"}-1!=s&&s<o&&(o=s)}o!=1/0&&(e.string=n.slice(0,o));r=u.token(e,t.outer);return o!=1/0&&(e.string=n),r},indent:function(e,t){var i=e.innerActive?e.innerActive.mode:u;return i.indent?i.indent(e.innerActive?e.inner:e.outer,t):p.Pass},blankLine:function(e){var t=e.innerActive?e.innerActive.mode:u;if(t.blankLine&&t.blankLine(e.innerActive?e.inner:e.outer),e.innerActive)"\n"===e.innerActive.close&&(e.innerActive=e.inner=null);else for(var i=0;i<f.length;++i){var n=f[i];"\n"===n.open&&(e.innerActive=n,e.inner=p.startState(n.mode,t.indent?t.indent(e.outer,""):0))}},electricChars:u.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:u}}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(L){"use strict";var z={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},k={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};L.defineMode("xml",function(e,t){var i,o,a,s=e.indentUnit,l={},n=t.htmlMode?z:k;for(i in n)l[i]=n[i];for(i in t)l[i]=t[i];function c(t,i){function e(e){return(i.tokenize=e)(t,i)}var n=t.next();if("<"==n)return t.eat("!")?t.eat("[")?t.match("CDATA[")?e(r("atom","]]>")):null:t.match("--")?e(r("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function n(r){return function(e,t){for(var i;null!=(i=e.next());){if("<"==i)return t.tokenize=n(r+1),t.tokenize(e,t);if(">"==i){if(1!=r)return t.tokenize=n(r-1),t.tokenize(e,t);t.tokenize=c;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),i.tokenize=r("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",i.tokenize=d,"tag bracket");if("&"!=n)return t.eatWhile(/[^&<]/),null;n=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";");return n?"atom":"error"}function d(e,t){var i=e.next();if(">"==i||"/"==i&&e.eat(">"))return t.tokenize=c,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"!=i)return/[\'\"]/.test(i)?(t.tokenize=(n=i,r.isInAttribute=!0,r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=c,t.state=p,t.tagName=t.tagStart=null;var n,t=t.tokenize(e,t);return t?t+" tag error":"tag error";function r(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=d;break}return"string"}}function r(i,n){return function(e,t){for(;!e.eol();){if(e.match(n)){t.tokenize=c;break}e.next()}return i}}function u(e,t,i){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=i,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function f(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var i;;){if(!e.context)return;if(i=e.context.tagName,!l.contextGrabbers.hasOwnProperty(i)||!l.contextGrabbers[i].hasOwnProperty(t))return;f(e)}}function p(e,t,i){return"openTag"==e?(i.tagStart=t.column(),g):"closeTag"==e?_:p}function g(e,t,i){return"word"==e?(i.tagName=t.current(),a="tag",v):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",v(e,0,i)):(a="error",g)}function _(e,t,i){if("word"!=e)return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",x(e,0,i)):(a="error",m);t=t.current();return i.context&&i.context.tagName!=t&&l.implicitlyClosed.hasOwnProperty(i.context.tagName)&&f(i),i.context&&i.context.tagName==t||!1===l.matchClosing?(a="tag",x):(a="tag error",m)}function x(e,t,i){return"endTag"!=e?(a="error",x):(f(i),p)}function m(e,t,i){return a="error",x(e,0,i)}function v(e,t,i){if("word"==e)return a="attribute",b;if("endTag"!=e&&"selfcloseTag"!=e)return a="error",v;var n=i.tagName,r=i.tagStart;return i.tagName=i.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(n)?h(i,n):(h(i,n),i.context=new u(i,n,r==i.indented)),p}function b(e,t,i){return"equals"==e?y:(l.allowMissing||(a="error"),v(e,0,i))}function y(e,t,i){return"string"==e?w:"word"==e&&l.allowUnquoted?(a="string",v):(a="error",v(e,0,i))}function w(e,t,i){return"string"==e?w:v(e,0,i)}return c.isInText=!0,{startState:function(e){var t={tokenize:c,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var i=t.tokenize(e,t);return(i||o)&&"comment"!=i&&(a=null,t.state=t.state(o||i,e,t),a&&(i="error"==a?i+" error":a)),i},indent:function(e,t,i){var n=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(n&&n.noIndent)return L.Pass;if(e.tokenize!=d&&e.tokenize!=c)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var r=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(r&&r[1])for(;n;){if(n.tagName==r[2]){n=n.prev;break}if(!l.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(r)for(;n;){var o=l.contextGrabbers[n.tagName];if(!o||!o.hasOwnProperty(r[2]))break;n=n.prev}for(;n&&n.prev&&!n.startOfLine;)n=n.prev;return n?n.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==y&&(e.state=v)}}}),L.defineMIME("text/xml","xml"),L.defineMIME("application/xml","xml"),L.mimeModes.hasOwnProperty("text/html")||L.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Qe){"use strict";Qe.defineMode("javascript",function(e,d){var t,i,n,r,u=e.indentUnit,f=d.statementIndent,o=d.jsonld,a=d.json||o,c=d.typescript,h=d.wordCharacters||/[\w$\xa1-\uffff]/,s=(t=l("keyword a"),i=l("keyword b"),n=l("keyword c"),r=l("keyword d"),e=l("operator"),{if:l("if"),while:t,with:t,else:i,do:i,try:i,finally:i,return:r,break:r,continue:r,new:l("new"),delete:n,void:n,throw:n,debugger:l("debugger"),var:l("var"),const:l("var"),let:l("var"),function:l("function"),catch:l("catch"),for:l("for"),switch:l("switch"),case:l("case"),default:l("default"),in:e,typeof:e,instanceof:e,true:e={type:"atom",style:"atom"},false:e,null:e,undefined:e,NaN:e,Infinity:e,this:l("this"),class:l("class"),super:l("atom"),yield:n,export:l("export"),import:l("import"),extends:n,await:n});function l(e){return{type:e,style:"keyword"}}var p,g,_=/[+\-*&%=<>!?|~^@]/,x=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e,t,i){return p=e,g=i,t}function v(e,t){var r,i=e.next();if('"'==i||"'"==i)return t.tokenize=(r=i,function(e,t){var i,n=!1;if(o&&"@"==e.peek()&&e.match(x))return t.tokenize=v,m("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=r||n);)n=!n&&"\\"==i;return n||(t.tokenize=v),m("string","string")}),t.tokenize(e,t);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return m("number","number");if("."==i&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return m(i);if("="==i&&e.eat(">"))return m("=>","operator");if("0"==i&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return m("number","number");if(/\d/.test(i))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),m("number","number");if("/"==i)return e.eat("*")?(t.tokenize=b)(e,t):e.eat("/")?(e.skipToEnd(),m("comment","comment")):Ze(e,t,1)?(function(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==i)return(t.tokenize=y)(e,t);if("#"==i)return e.skipToEnd(),m("error","error");if(_.test(i))return">"==i&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=i&&"="!=i||e.eat("="):/[<>*+\-]/.test(i)&&(e.eat(i),">"==i&&e.eat(i))),m("operator","operator",e.current());if(h.test(i)){e.eatWhile(h);i=e.current();if("."!=t.lastType){if(s.propertyIsEnumerable(i)){t=s[i];return m(t.type,t.style,i)}if("async"==i&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",i)}return m("variable","variable",i)}}function b(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=v;break}n="*"==i}return m("comment","comment")}function y(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=v;break}n=!n&&"\\"==i}return m("quasi","string-2",e.current())}var w="([{}])";function L(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i,n=e.string.indexOf("=>",e.start);if(!(n<0)){!c||(i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n)))&&(n=i.index);for(var r=0,o=!1,a=n-1;0<=a;--a){var s=e.string.charAt(a),l=w.indexOf(s);if(0<=l&&l<3){if(!r){++a;break}if(0==--r){"("==s&&(o=!0);break}}else if(3<=l&&l<6)++r;else if(h.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!r){++a;break}}}o&&!r&&(t.fatArrowAt=a)}}var z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function k(e,t,i,n,r,o){this.indented=e,this.column=t,this.type=i,this.prev=r,this.info=o,null!=n&&(this.align=n)}function S(e,t,i,n,r){var o=e.cc;for(V.state=e,V.stream=r,V.marked=null,V.cc=o,V.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():a?F:j)(i,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return V.marked?V.marked:"variable"==i&&function(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return 1;for(var n=e.context;n;n=n.prev)for(i=n.vars;i;i=i.next)if(i.name==t)return 1}(e,n)?"variable-2":t}}var V={state:null,column:null,marked:null,cc:null};function K(){for(var e=arguments.length-1;0<=e;e--)V.cc.push(arguments[e])}function C(){return K.apply(null,arguments),!0}function T(e,t){for(var i=t;i;i=i.next)if(i.name==e)return 1}function A(e){var t=V.state;if(V.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var i=function e(t,i){{if(i){if(i.block){var n=e(t,i.prev);return n?n==i.prev?i:new M(n,i.vars,!0):null}return T(t,i.vars)?i:new M(i.prev,new N(t,i.vars),!1)}return null}}(e,t.context);if(null!=i)return void(t.context=i)}else if(!T(e,t.localVars))return void(t.localVars=new N(e,t.localVars));d.globalVars&&!T(e,t.globalVars)&&(t.globalVars=new N(e,t.globalVars))}function E(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function M(e,t,i){this.prev=e,this.vars=t,this.block=i}function N(e,t){this.name=e,this.next=t}var I=new N("this",new N("arguments",null));function D(){V.state.context=new M(V.state.context,V.state.localVars,!1),V.state.localVars=I}function O(){V.state.context=new M(V.state.context,V.state.localVars,!0),V.state.localVars=null}function B(){V.state.localVars=V.state.context.vars,V.state.context=V.state.context.prev}function P(n,r){function e(){var e=V.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var i=e.lexical;i&&")"==i.type&&i.align;i=i.prev)t=i.indented;e.lexical=new k(t,V.stream.column(),n,null,e.lexical,r)}return e.lex=!0,e}function R(){var e=V.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function H(i){return function e(t){return t==i?C():";"==i||"}"==t||")"==t||"]"==t?K():C(e)}}function j(e,t){return"var"==e?C(P("vardef",t),we,H(";"),R):"keyword a"==e?C(P("form"),$,j,R):"keyword b"==e?C(P("form"),j,R):"keyword d"==e?V.stream.match(/^\s*$/,!1)?C():C(P("stat"),q,H(";"),R):"debugger"==e?C(H(";")):"{"==e?C(P("}"),O,de,R,B):";"==e?C():"if"==e?("else"==V.state.lexical.info&&V.state.cc[V.state.cc.length-1]==R&&V.state.cc.pop()(),C(P("form"),$,j,R,Ke)):"function"==e?C(Ne):"for"==e?C(P("form"),Ce,j,R):"class"==e||c&&"interface"==t?(V.marked="keyword",C(P("form"),Oe,R)):"variable"==e?c&&"declare"==t?(V.marked="keyword",C(j)):c&&("module"==t||"enum"==t||"type"==t)&&V.stream.match(/^\s*\w/,!1)?(V.marked="keyword","enum"==t?C(Ge):"type"==t?C(pe,H("operator"),pe,H(";")):C(P("form"),Le,H("{"),P("}"),de,R,R)):c&&"namespace"==t?(V.marked="keyword",C(P("form"),F,de,R)):c&&"abstract"==t?(V.marked="keyword",C(j)):C(P("stat"),ne):"switch"==e?C(P("form"),$,H("{"),P("}","switch"),O,de,R,R,B):"case"==e?C(F,H(":")):"default"==e?C(H(":")):"catch"==e?C(P("form"),D,W,j,R,B):"export"==e?C(P("stat"),He,R):"import"==e?C(P("stat"),We,R):"async"==e?C(j):"@"==t?C(F,j):K(P("stat"),F,H(";"),R)}function W(e){if("("==e)return C(Ie,H(")"))}function F(e,t){return U(e,t,!1)}function X(e,t){return U(e,t,!0)}function $(e){return"("!=e?K():C(P(")"),F,H(")"),R)}function U(e,t,i){if(V.state.fatArrowAt==V.stream.start){var n=i?ee:J;if("("==e)return C(D,P(")"),le(Ie,")"),R,H("=>"),n,B);if("variable"==e)return K(D,Le,H("=>"),n,B)}var r,n=i?Y:G;return z.hasOwnProperty(e)?C(n):"function"==e?C(Ne,n):"class"==e||c&&"interface"==t?(V.marked="keyword",C(P("form"),De,R)):"keyword c"==e||"async"==e?C(i?X:F):"("==e?C(P(")"),q,H(")"),R,n):"operator"==e||"spread"==e?C(i?X:F):"["==e?C(P("]"),qe,R,n):"{"==e?ce(oe,"}",null,n):"quasi"==e?K(Z,n):"new"==e?C((r=i,function(e){return"."==e?C(r?ie:te):"variable"==e&&c?C(ve,r?Y:G):K(r?X:F)})):"import"==e?C(F):C()}function q(e){return e.match(/[;\}\)\],]/)?K():K(F)}function G(e,t){return","==e?C(F):Y(e,t,!1)}function Y(e,t,i){var n=0==i?G:Y,r=0==i?F:X;return"=>"==e?C(D,i?ee:J,B):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?C(n):c&&"<"==t&&V.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?C(P(">"),le(pe,">"),R,n):"?"==t?C(F,H(":"),r):C(r):"quasi"==e?K(Z,n):";"!=e?"("==e?ce(X,")","call",n):"."==e?C(re,n):"["==e?C(P("]"),q,H("]"),R,n):c&&"as"==t?(V.marked="keyword",C(pe,n)):"regexp"==e?(V.state.lastType=V.marked="operator",V.stream.backUp(V.stream.pos-V.stream.start-1),C(r)):void 0:void 0}function Z(e,t){return"quasi"!=e?K():"${"!=t.slice(t.length-2)?C(Z):C(F,Q)}function Q(e){if("}"==e)return V.marked="string-2",V.state.tokenize=y,C(Z)}function J(e){return L(V.stream,V.state),K("{"==e?j:F)}function ee(e){return L(V.stream,V.state),K("{"==e?j:X)}function te(e,t){if("target"==t)return V.marked="keyword",C(G)}function ie(e,t){if("target"==t)return V.marked="keyword",C(Y)}function ne(e){return":"==e?C(R,j):K(G,H(";"),R)}function re(e){if("variable"==e)return V.marked="property",C()}function oe(e,t){return"async"==e?(V.marked="property",C(oe)):"variable"!=e&&"keyword"!=V.style?"number"==e||"string"==e?(V.marked=o?"property":V.style+" property",C(se)):"jsonld-keyword"==e?C(se):c&&E(t)?(V.marked="keyword",C(oe)):"["==e?C(F,ue,H("]"),se):"spread"==e?C(X,se):"*"==t?(V.marked="keyword",C(oe)):":"==e?K(se):void 0:(V.marked="property","get"==t||"set"==t?C(ae):(c&&V.state.fatArrowAt==V.stream.start&&(i=V.stream.match(/^\s*:\s*/,!1))&&(V.state.fatArrowAt=V.stream.pos+i[0].length),C(se)));var i}function ae(e){return"variable"!=e?K(se):(V.marked="property",C(Ne))}function se(e){return":"==e?C(X):"("==e?K(Ne):void 0}function le(n,r,o){function a(e,t){if(o?-1<o.indexOf(e):","==e){var i=V.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),C(function(e,t){return e==r||t==r?K():K(n)},a)}return e==r||t==r?C():C(H(r))}return function(e,t){return e==r||t==r?C():K(n,a)}}function ce(e,t,i){for(var n=3;n<arguments.length;n++)V.cc.push(arguments[n]);return C(P(t,i),le(e,t),R)}function de(e){return"}"==e?C():K(j,de)}function ue(e,t){if(c)return":"==e?C(pe):"?"==t?C(ue):void 0}function fe(e){if(c&&":"==e)return V.stream.match(/^\s*\w+\s+is\b/,!1)?C(F,he,pe):C(pe)}function he(e,t){if("is"==t)return V.marked="keyword",C()}function pe(e,t){return"keyof"==t||"typeof"==t?(V.marked="keyword",C("keyof"==t?pe:X)):"variable"==e||"void"==t?(V.marked="type",C(me)):"string"==e||"number"==e||"atom"==e?C(me):"["==e?C(P("]"),le(pe,"]",","),R,me):"{"==e?C(P("}"),le(_e,"}",",;"),R,me):"("==e?C(le(xe,")"),ge):"<"==e?C(le(pe,">"),pe):void 0}function ge(e){if("=>"==e)return C(pe)}function _e(e,t){return"variable"==e||"keyword"==V.style?(V.marked="property",C(_e)):"?"==t?C(_e):":"==e?C(pe):"["==e?C(F,ue,H("]"),_e):void 0}function xe(e,t){return"variable"==e&&V.stream.match(/^\s*[?:]/,!1)||"?"==t?C(xe):(":"==e?C:K)(pe)}function me(e,t){return"<"==t?C(P(">"),le(pe,">"),R,me):"|"==t||"."==e||"&"==t?C(pe):"["==e?C(H("]"),me):"extends"==t||"implements"==t?(V.marked="keyword",C(pe)):void 0}function ve(e,t){if("<"==t)return C(P(">"),le(pe,">"),R,me)}function be(){return K(pe,ye)}function ye(e,t){if("="==t)return C(pe)}function we(e,t){return"enum"==t?(V.marked="keyword",C(Ge)):K(Le,ue,Se,Ve)}function Le(e,t){return c&&E(t)?(V.marked="keyword",C(Le)):"variable"==e?(A(t),C()):"spread"==e?C(Le):"["==e?ce(ke,"]"):"{"==e?ce(ze,"}"):void 0}function ze(e,t){return"variable"!=e||V.stream.match(/^\s*:/,!1)?("variable"==e&&(V.marked="property"),"spread"==e?C(Le):"}"==e?K():C(H(":"),Le,Se)):(A(t),C(Se))}function ke(){return K(Le,Se)}function Se(e,t){if("="==t)return C(X)}function Ve(e){if(","==e)return C(we)}function Ke(e,t){if("keyword b"==e&&"else"==t)return C(P("form","else"),j,R)}function Ce(e,t){return"await"==t?C(Ce):"("==e?C(P(")"),Te,H(")"),R):void 0}function Te(e){return"var"==e?C(we,H(";"),Ee):";"==e?C(Ee):"variable"==e?C(Ae):K(F,H(";"),Ee)}function Ae(e,t){return"in"==t||"of"==t?(V.marked="keyword",C(F)):C(G,Ee)}function Ee(e,t){return";"==e?C(Me):"in"==t||"of"==t?(V.marked="keyword",C(F)):K(F,H(";"),Me)}function Me(e){")"!=e&&C(F)}function Ne(e,t){return"*"==t?(V.marked="keyword",C(Ne)):"variable"==e?(A(t),C(Ne)):"("==e?C(D,P(")"),le(Ie,")"),R,fe,j,B):c&&"<"==t?C(P(">"),le(be,">"),R,Ne):void 0}function Ie(e,t){return"@"==t&&C(F,Ie),"spread"==e?C(Ie):c&&E(t)?(V.marked="keyword",C(Ie)):K(Le,ue,Se)}function De(e,t){return("variable"==e?Oe:Be)(e,t)}function Oe(e,t){if("variable"==e)return A(t),C(Be)}function Be(e,t){return"<"==t?C(P(">"),le(be,">"),R,Be):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(V.marked="keyword"),C(c?pe:F,Be)):"{"==e?C(P("}"),Pe,R):void 0}function Pe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&E(t))&&V.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(V.marked="keyword",C(Pe)):"variable"==e||"keyword"==V.style?(V.marked="property",C(c?Re:Ne,Pe)):"["==e?C(F,ue,H("]"),c?Re:Ne,Pe):"*"==t?(V.marked="keyword",C(Pe)):";"==e?C(Pe):"}"==e?C():"@"==t?C(F,Pe):void 0}function Re(e,t){return"?"==t?C(Re):":"==e?C(pe,Se):"="==t?C(X):K(Ne)}function He(e,t){return"*"==t?(V.marked="keyword",C(Ue,H(";"))):"default"==t?(V.marked="keyword",C(F,H(";"))):"{"==e?C(le(je,"}"),Ue,H(";")):K(j)}function je(e,t){return"as"==t?(V.marked="keyword",C(H("variable"))):"variable"==e?K(X,je):void 0}function We(e){return"string"==e?C():"("==e?K(F):K(Fe,Xe,Ue)}function Fe(e,t){return"{"==e?ce(Fe,"}"):("variable"==e&&A(t),"*"==t&&(V.marked="keyword"),C($e))}function Xe(e){if(","==e)return C(Fe,Xe)}function $e(e,t){if("as"==t)return V.marked="keyword",C(Fe)}function Ue(e,t){if("from"==t)return V.marked="keyword",C(F)}function qe(e){return"]"==e?C():K(le(X,"]"))}function Ge(){return K(P("form"),Le,H("{"),P("}"),le(Ye,"}"),R,R)}function Ye(){return K(Le,Se)}function Ze(e,t,i){return t.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(i||0)))}return R.lex=B.lex=!0,{startState:function(e){e={tokenize:v,lastType:"sof",cc:[],lexical:new k((e||0)-u,0,"block",!1),localVars:d.localVars,context:d.localVars&&new M(null,null,!1),indented:e||0};return d.globalVars&&"object"==typeof d.globalVars&&(e.globalVars=d.globalVars),e},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),L(e,t)),t.tokenize!=b&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==p?i:(t.lastType="operator"!=p||"++"!=g&&"--"!=g?p:"incdec",S(t,i,p,g,e))},indent:function(e,t){if(e.tokenize==b)return Qe.Pass;if(e.tokenize!=v)return 0;var i,n=t&&t.charAt(0),r=e.lexical;if(!/^\s*else\b/.test(t))for(var o=e.cc.length-1;0<=o;--o){var a=e.cc[o];if(a==R)r=r.prev;else if(a!=Ke)break}for(;("stat"==r.type||"form"==r.type)&&("}"==n||(i=e.cc[e.cc.length-1])&&(i==G||i==Y)&&!/^[,\.=+\-*:?[\(]/.test(t));)r=r.prev;f&&")"==r.type&&"stat"==r.prev.type&&(r=r.prev);var s,l=r.type,c=n==l;return"vardef"==l?r.indented+("operator"==e.lastType||","==e.lastType?r.info.length+1:0):"form"==l&&"{"==n?r.indented:"form"==l?r.indented+u:"stat"==l?r.indented+(s=t,"operator"==(l=e).lastType||","==l.lastType||_.test(s.charAt(0))||/[,.]/.test(s.charAt(0))?f||u:0):"switch"!=r.info||c||0==d.doubleIndentSwitch?r.align?r.column+(c?0:1):r.indented+(c?0:u):r.indented+(/^(?:case|default)\b/.test(t)?u:2*u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a,expressionAllowed:Ze,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=F&&t!=X||e.cc.pop()}}}),Qe.registerHelper("wordChars","javascript",/[\w$]/),Qe.defineMIME("text/javascript","javascript"),Qe.defineMIME("text/ecmascript","javascript"),Qe.defineMIME("application/javascript","javascript"),Qe.defineMIME("application/x-javascript","javascript"),Qe.defineMIME("application/ecmascript","javascript"),Qe.defineMIME("application/json",{name:"javascript",json:!0}),Qe.defineMIME("application/x-json",{name:"javascript",json:!0}),Qe.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Qe.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Qe.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(u){"use strict";var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var i={};function f(e,t){t=e.match(i[t=t]||(i[t]=new RegExp("\\s+"+t+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")));return t?/^\s*(.*?)\s*$/.exec(t[2])[1]:""}function h(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var i in e)for(var n=t[i]||(t[i]=[]),r=e[i],o=r.length-1;0<=o;o--)n.unshift(r[o])}u.defineMode("htmlmixed",function(s,e){var l=u.getMode(s,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),c={},t=e&&e.tags,i=e&&e.scriptTypes;if(o(r,c),t&&o(t,c),i)for(var n=i.length-1;0<=n;n--)c.script.unshift(["type",i[n].matches,i[n].mode]);function d(e,t){var i,o,a,n=l.token(e,t.htmlState),r=/\btag\b/.test(n);return r&&!/[<>\s\/]/.test(e.current())&&(i=t.htmlState.tagName&&t.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(i)?t.inTag=i+" ":t.inTag&&r&&/>$/.test(e.current())?(i=/^([\S]+) (.*)/.exec(t.inTag),t.inTag=null,r=">"==e.current()&&function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(!n[0]||n[1].test(f(t,n[0])))return n[2]}}(c[i[1]],i[2]),r=u.getMode(s,r),o=h(i[1],!0),a=h(i[1],!1),t.token=function(e,t){return e.match(o,!1)?(t.token=d,t.localState=t.localMode=null):(i=e,n=a,r=t.localMode.token(e,t.localState),e=i.current(),-1<(t=e.search(n))?i.backUp(e.length-t):e.match(/<\/?$/)&&(i.backUp(e.length),i.match(n,!1)||i.match(e)),r);var i,n,r},t.localMode=r,t.localState=u.startState(r,l.indent(t.htmlState,""))):t.inTag&&(t.inTag+=e.current(),e.eol()&&(t.inTag+=" ")),n}return{startState:function(){return{token:d,inTag:null,localMode:null,localState:null,htmlState:u.startState(l)}},copyState:function(e){var t;return e.localState&&(t=u.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:t,htmlState:u.copyState(l,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t,i){return!e.localMode||/^\s*<\//.test(t)?l.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t,i):u.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||l}}}},"xml","javascript","css"),u.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],e):e(CodeMirror)}(function(n){"use strict";n.defineMode("htmlembedded",function(e,t){var i=t.closeComment||"--%>";return n.multiplexingMode(n.getMode(e,"htmlmixed"),{open:t.openComment||"<%--",close:i,delimStyle:"comment",mode:{token:function(e){return e.skipTo(i)||e.skipToEnd(),"comment"}}},{open:t.open||t.scriptStartRegex||"<%",close:t.close||t.scriptEndRegex||"%>",mode:n.getMode(e,t.scriptingModeSpec)})},"htmlmixed"),n.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),n.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),n.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),n.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}),define("gallery/mx-codemirror/index",["magix","$"],function(e,t,i){t.__esModule=!0;var n=e("magix"),r=e("$");n.default.applyStyle("xzKVLbsp",'.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr;height:500px;border:1px solid #e6e6e6;border-radius:4px}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5)}.cm-animate-fat-cursor,.cm-fat-cursor-mark{-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;background-color:#7e7}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror:hover{border-color:#ccc}.CodeMirror-focus,.CodeMirror-focus:hover{border-color:#06f}'),t.default=n.default.View.extend({render:function(){var t=CodeMirror.fromTextArea(n.default.node(this.id),{lineNumbers:!0,mode:"application/x-ejs",lineWrapping:!0}),i=r.default("#"+this.id);t.on("blur",function(e){r.default(t.display.wrapper).removeClass("CodeMirror-focus"),i.trigger({type:"change",value:e.getValue()})}),t.on("focus",function(){r.default(t.display.wrapper).addClass("CodeMirror-focus")}),this.on("destroy",function(){t.toTextArea()})}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../i18n/index");i.exports=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.title,d=e.body,e=e.i18n;return l+='<div mxa="xzKVLbsz:_" class="xzKVLbsK"><h4>'+n(c)+'</h4></div><div mxa="xzKVLbsz:a" class="xzKVLbsL" style="word-break:break-all;">'+n(d)+'</div><div mxa="xzKVLbsz:b" class="xzKVLbsM xzKVLbsw"><button mxa="xzKVLbsz:c" mx-click="'+t+'\x1e__T();" class="xzKVLbsz xzKVLbsA xzKVLbsq" type="button">'+n(e("_gi"))+"</button></div>"},init:function(e){this.__gd=e.dialog,this.__ge=e.body,this.__gf=e.title||r.default("__gg"),this.__gh=e.enterCallback},render:function(){this.updater.digest({body:this.__ge,title:this.__gf})},"__T<click>":function(){this.__gd.close(),this.__gh&&n.toTry(this.__gh)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../i18n/index");i.exports=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.title,d=e.body,e=e.i18n;return l+='<div mxa="xzKVLbsA:_" class="xzKVLbsK"><h4>'+n(c)+'</h4></div><div mxa="xzKVLbsA:a" class="xzKVLbsL" style="word-break:break-all;">'+n(d)+'</div><div mxa="xzKVLbsA:b" class="xzKVLbsM xzKVLbsw"><button mxa="xzKVLbsA:c" type="button" mx-click="'+t+'\x1e__U()" class="xzKVLbsz xzKVLbsq">'+n(e("_W"))+'</button><button mxa="xzKVLbsA:d" type="button" mx-click="'+t+'\x1e__T()" class="xzKVLbsz xzKVLbsA xzKVLbsd xzKVLbsq">'+n(e("_gi"))+"</button></div>"},init:function(e){this.__gd=e.dialog,this.__ge=e.body,this.__gf=e.title||r.default("__gg"),this.__gh=e.enterCallback,this.__gj=e.cancelCallback},render:function(){this.updater.digest({body:this.__ge,title:this.__gf})},"__T<click>":function(){this.__gd.close(),this.__gh&&n.toTry(this.__gh)},"__U<click>":function(){this.__gd.close(),this.__gj&&n.toTry(this.__gj)}})}),define("gallery/mx-dialog/index",["magix","$","./alert","./confirm"],function(e,t,i){var l=e("magix");e("./alert"),e("./confirm"),l.applyStyle("xzKVLbsq",".xzKVLbscj{position:absolute}.xzKVLbsck{position:relative;background-color:#fff;border-radius:4px;border:1px solid #e6e6e6}.xzKVLbscl{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.xzKVLbscl:focus,.xzKVLbscl:hover{opacity:.5}.xzKVLbscm{font-size:22px;font-weight:400}.xzKVLbscn{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2;display:none}.xzKVLbsco{filter:blur(3px)}.xzKVLbscp{-webkit-animation:xzKVLbsc .3s;animation:xzKVLbsc .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.xzKVLbscq{position:absolute;right:10px;top:0;width:1px;height:0}.xzKVLbscr{padding:80px 0}@-webkit-keyframes xzKVLbsc{0%{opacity:0}to{opacity:.2}}@keyframes xzKVLbsc{0%{opacity:0}to{opacity:.2}}.xzKVLbscs{-webkit-animation:xzKVLbsd .2s;animation:xzKVLbsd .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes xzKVLbsd{0%{opacity:.2}to{opacity:0}}@keyframes xzKVLbsd{0%{opacity:.2}to{opacity:0}}.xzKVLbsct{margin-bottom:50px;min-height:60px}.xzKVLbscu{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.xzKVLbscv{-webkit-animation:xzKVLbse .3s;animation:xzKVLbse .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes xzKVLbse{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes xzKVLbse{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.xzKVLbscw{-webkit-animation:xzKVLbsf .2s;animation:xzKVLbsf .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes xzKVLbsf{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes xzKVLbsf{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");var s=e("$"),c=s(window),n=500,r=[];i.exports=l.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.zIndex,d=e.viewId,u=e.left,f=e.top,h=e.width,e=e.closable;return l+='<div class="xzKVLbscn xzKVLbscp" style="display:block;z-index:'+n(c-1)+'" id="mask_'+n(d)+'"></div><div mxv class="xzKVLbscu" style="z-index:'+n(c)+';"><div mxv class="xzKVLbscj xzKVLbscv" data-spm-protocol="i" id="body_'+n(d)+'" style="left:'+n(u)+"px;top:"+n(f)+"px;width:"+n(h)+'px;"><input id="focus_'+n(d)+'" class="xzKVLbscq"/><span class="xzKVLbs_ xzKVLbscm xzKVLbscl '+n(e?"":"xzKVLbsv")+'" mx-click="'+t+'\x1e__gl()">&#xe67f;</span><div class="xzKVLbsck xzKVLbsct" id="cnt_'+n(d)+'"><div mxs="xzKVLbsB:_" class="xzKVLbsI xzKVLbscr"><span class="xzKVLbsJ"></span></div></div></div></div>'},init:function(e){var t=this,i=s("#app");t.on("destroy",function(){!function(e){for(var t=r.length-1;0<=t;t--)if(r[t].id==e.id){r.splice(t,1);break}}(t),500==(n-=2)&&i.removeClass("xzKVLbsco"),s("#"+t.id).trigger("close").remove()}),l.has(e,"closable")||(e.closable=!0),t.updater.set(e),500==n&&i.addClass("xzKVLbsco"),n+=2,r.push(t)},render:function(){var e=this,t=e.updater,i=t.get();t.set({zIndex:n,viewId:e.id}).digest(),s("#"+e.id).show(),s("#focus_"+e.id).focus(),e.owner.mountVframe("cnt_"+e.id,i.view,i),setTimeout(e.wrapAsync(function(){s("#body_"+e.id).removeClass("xzKVLbscv"),s("#mask_"+e.id).removeClass("xzKVLbscp")}),300)},__gk:function(e){l.Vframe.get("cnt_"+this.id).invoke("fire",["unload",e])},"__gl<click>":function(){s("#"+this.id).trigger("dlg_close")},"$doc<keyup>":function(e){27!=e.keyCode||(e=r[r.length-1])==this&&e.updater.get("closable")&&s("#"+e.id).trigger("dlg_close")}},{__gm:function(i,e){var n=l.guid("dlg_");s(document.body).append('<div id="'+n+'" style="display:none" />');var r,o=i.owner.mountVframe(n,"gallery/mx-dialog/index",e),a=s("#"+n);return a.on("dlg_close",function(){var e,t;a.data("closing")||r||(e=function(){a.data("closing",1),s("#body_"+n).addClass("xzKVLbscw"),s("#mask_"+n).addClass("xzKVLbscs"),setTimeout(function(){i.owner&&i.owner.unmountVframe(n)},200)},t={prevent:function(){r=1},resolve:function(){t.p=1,r=0,e()},reject:function(){t.p=1,r=0}},o.invoke("__gk",[t]),r||t.p||e())})},alert:function(e,t,i){this.confirm(e,t,null,i,"alert")},confirm:function(e,t,i,n,r){this.mxDialog("gallery/mx-dialog/"+(r||"confirm"),{body:e,cancelCallback:i,enterCallback:t,title:n,modal:!0,width:370,closable:!1,left:(c.width()-370)/2,top:Math.max((c.height()-220)/2,0)})},mxDialog:function(i,n){var r,o,a=this,s={view:i};return l.use(i,a.wrapAsync(function(e){var t="$dlg_"+i;a[t]||(a[t]=1,l.mix(s,e.dialogOptions),l.mix(s,n),s.width||(s.width=500),s.left||(s.left=(c.width()-s.width)/2),s.top||(s.top=100),s.dialog={close:function(){r&&r.trigger("dlg_close")}},(r=a.__gm(a,s)).on("close",function(){delete a[t],o&&o()}))})),{close:function(){r&&r.trigger("dlg_close")},whenClose:function(e){o=e}}}})}),define("gallery/mx-dragdrop/index",["$"],function(e,t,i){function o(e){(e=window.getSelection)?e().removeAllRanges():(e=window.document.selection)&&(e.empty?e.empty():e=null)}function a(e){e.preventDefault()}var s=e("$"),l=s(window),c=s(document),n=window.getComputedStyle,d="mousemove touchmove",u="mouseup touchend",f="keydown mousewheel DOMMouseScroll";i.exports={ctor:function(){var e=this;e.on("destroy",function(){e.__gn()})},__gn:function(e){var t,i,n=this.__go;n&&(delete this.__go,c.off(d,this.__gp).off(u,this.__gq).off(f,a),l.off("blur",this.__gq),t=n.__gr,i=n.__gs,n=n.__gt,s(t).off("losecapture",this.__gq),t.setCapture&&t.releaseCapture(),n&&i(e))},dragdrop:function(e,t,i){var n,r=this;r.__gn(),e&&(o(),e.setCapture&&e.setCapture(),r.__go={__gs:i,__gr:e,__gt:s.isFunction(i)},n=s.isFunction(t),r.__gu=0,r.__gq=function(e){r.__gu=1,r.__gn(e)},r.__gp=function(e){n&&t(e)},c.on(d,r.__gp).on(u,r.__gq).on(f,a),l.on("blur",r.__gq),s(e).on("losecapture",r.__gq))},fromPoint:function(e,t){var i=null;if(document.elementFromPoint)for(!a.__gv&&n&&(a.__gv=!0,a.__gw=null!==document.elementFromPoint(-1,-1)),a.__gw&&(e+=l.scrollLeft(),t+=l.scrollTop()),i=document.elementFromPoint(e,t);i&&3==i.nodeType;)i=i.parentNode;return i},clear:o}}),define("gallery/mx-dragsort/index",["magix","../mx-dragdrop/index","../mx-runner/index","$"],function(e,t,i){var s=e("magix"),l=e("../mx-dragdrop/index"),n=e("../mx-runner/index"),c=e("$");s.applyStyle("xzKVLbsr",'.xzKVLbscx{left:-1000px;top:0;background:#06f;pointer-events:none}.xzKVLbscx,.xzKVLbscy{position:absolute;z-index:4000}.xzKVLbscy{width:26px;height:26px}.xzKVLbscz{background:#06f}.xzKVLbscA{background:#e94f4f}.xzKVLbscy:after{font-size:20px;line-height:26px;color:#fff;position:absolute;left:0;right:0;top:0;bottom:0;text-align:center}.xzKVLbscz:after{content:"\u2713"}.xzKVLbscA:after{content:"\u2717"}');var d=s.guid("dbar_"),r=s.guid("pt_"),u=c(window),f=c(document),h={__gx:function(){c("#"+d).length||c('<div class="xzKVLbscx" id="'+d+'"/>').appendTo("body")},__gy:function(e){e.child&&(c(e.child).css({opacity:.4}),this.__gx())},__b_:function(e){e&&e.child&&c(e.child).css({opacity:1}),this.__gz(),this.__gA()},__gz:function(){c("#"+d).css({left:-1e5})},__gB:function(e,t){var i=c("#"+d),n=!1;2&e.anchor&&(2&t?(i.css({height:2,width:e.bound.width,top:e.bound.y-1,left:e.bound.x}),n=!0):8&t&&(i.css({height:2,width:e.bound.width,top:e.bound.y+e.bound.height-1,left:e.bound.x}),n=!0)),!n&&1&e.anchor&&(1&t?i.css({height:e.bound.height,width:2,top:e.bound.y,left:e.bound.x-1}):4&t&&i.css({height:e.bound.height,width:2,top:e.bound.y,left:e.bound.x+e.bound.width-1}))},__gD:function(e){e.atPlace&&e.child!=e.hover?(3==e.anchor?e.__gC&&this.__gB(e,e.side):e.__gD&&this.__gB(e,e.position),this.__gE(!0)):(this.__gz(),this.__gE())},__gF:function(e){var t=c("#"+r);t.length||(t=c('<div class="xzKVLbscy" id="'+r+'"/>')).appendTo("body");var i=Math.max(0,Math.min(e.pageX+10,f.width()-t.width())),e=Math.max(0,Math.min(e.pageY+18,f.height()-t.height()));t.css({left:i,top:e,display:"block"})},__gE:function(e){var t=c("#"+r);e?t.removeClass("xzKVLbscA").addClass("xzKVLbscz"):t.addClass("xzKVLbscA").removeClass("xzKVLbscz")},__gA:function(){c("#"+r).hide()}};i.exports=s.View.extend({mixins:[l],init:function(e){var t=this,i=c("#"+t.id);i.on("mousedown",e.selector,function(e){e.preventDefault(),t.__gy(e)}),t.on("destroy",function(){i.off("mousedown")});var n=[(t.__t=i).get(0)];e.drops&&(n=n.concat(e.drops.split(","))),t.__gG=n;var r=e.horizonal+""=="true",o=e.vertical+""=="true";r||o||(o=!0);n=0;r&&(n|=1),o&&(n|=2),t.__gH=n;n=!0;s.has(e,"sort")&&(n=e.sort+""=="true"),t.__gI=n},__gJ:function(e){for(var t=0,i=this.__gG;t<i.length;t++){var n=i[t];if(s.inside(e,n))return s.node(n)}return null},__gL:function(e,t){var i=null;if(t=t||this.__gJ(e),!this.__gI&&this.__gK)return{child:this.__gK,zone:t};for(;t!=e;){if(e.parentNode==t){i=e;break}e=e.parentNode}return!t||t.firstChild||i||(i=t),i&&"false"===i.getAttribute("ds-draggable")&&(i=null),{child:i,zone:t}},__gN:function(e,t){var i=0,n=0,r=-1,o=-1,a=-1,s=-1,l=!1;t.pageX>=e.x&&t.pageX<=e.x+e.width&&t.pageY>=e.y&&t.pageY<=e.y+e.height&&(i|=t.pageX<=e.x+e.width/2?1:4,r=t.pageX-e.x,a=e.x+e.width-t.pageX,i|=t.pageY<=e.y+e.height/2?2:8,o=t.pageY-e.y,s=e.y+e.height-t.pageY,l=!0),!l||-1<(t=Math.min(r,o,a,s))&&(t==r?n=1:t==o?n=2:t==a?n=4:t==s&&(n=8));s=this.__gM;return s&&s.zone===s.hover&&(i=2,n=1),{position:i,atPlace:l,side:n}},__gy:function(e){var t;1!==e.which||(e=(t=this).__gL(e.target)).child&&(t.__gK=e.child,t.__gO=e.zone,t.__t.trigger({type:"dragbegin",dragNode:e.child,dragZone:e.zone}),h.__gy(e),t.dragdrop(e.zone,function(e){t.__gP(e)},function(e){t.__b_(e)}))},__gS:function(e,t,i){var n=this.__gN(e,t),e=n.side!=this.__gQ,t=n.position!=this.__gR;(e||t)&&(this.__gQ=n.side,this.__gR=n.position,i.__gC=e,i.__gD=t,i.side=n.side,i.position=n.position,i.atPlace=n.atPlace,i.anchor=this.__gH,h.__gD(i))},__gP:function(e){var t,i,n,r,o=l.fromPoint(e.clientX,e.clientY),a=this;if(h.__gF(e),a.__gT=e,a.__gU=!0,a.__gV(),a.__gW(),a.__gX||a.__gY||!o)return delete a.__gZ,delete a.__gQ,void delete a.__gR;a.__gZ!=o?o.id!==d&&(a.__gZ=o,delete a.__gQ,(i=a.__gJ(o))?(i!=a.__h_&&(a.__h_=i,a.__t.trigger({type:"enterzone",zone:i,changePointer:h.__gE})),(t=a.__gL(o,i)).child&&(i={x:(r=(n=c(t.child)).offset()).left,y:r.top,width:n.outerWidth(),height:n.outerHeight()},r=(n=c(t.zone)).offset(),a.__ha={x:r.left,y:r.top,scrollX:n.prop("scrollLeft"),scrollY:n.prop("scrollTop"),maxWidth:n.prop("scrollWidth"),maxHeight:n.prop("scrollHeight"),width:n.width(),height:n.height()},a.__gS(a.__hb=i,e,a.__gM={child:a.__gK,bound:i,zone:t.zone,hover:t.child}))):a.__h_&&(a.__t.trigger({type:"leavezone",zone:a.__h_,changePointer:h.__gE}),delete a.__h_)):a.__hb&&s.inside(o,a.__gM.zone)?a.__gS(a.__hb,e,a.__gM):(delete a.__gQ,delete a.__gR,a.__gI&&(h.__gz(),h.__gE()))},__b_:function(){var e=this;e.__hc(),e.__hd(),h.__b_({child:e.__gK});var t=e.__gR,i=e.__gQ,n=e.__gU,r=e.__gM,o=e.__gK;if(n&&(t||i)){var a=r.zone,s=e.__gH,t=3===s?i:t;if(1&s&&1&t||2&t&&2&s)r.hover==a?a.appendChild(o):a.insertBefore(o,r.hover);else if(8&t&&2&s||4&t&&1&s){for(var l=r.hover.nextSibling;l&&1!=l.nodeType;)l=l.nextSibling;a.insertBefore(o,l),l||(a.scrollTop=a.scrollHeight)}}r&&e.__t.trigger({type:"dragfinish",moved:n,dragNode:o,dragZone:e.__gO,dropNode:r.hover,dropZone:r.zone,outZone:!e.__h_}),delete e.__gK,delete e.__gO,delete e.__gZ,delete e.__gM,delete e.__hb,delete e.__gR,delete e.__gQ,delete e.__gT,delete e.__gY,delete e.__h_,delete e.__ha,delete e.__gX,delete e.__gU},__gV:function(){var o=this;o.__he||(o.__he=function(){var e,t,i,n,r=o.__ha;r&&(r.maxWidth>r.width+5||r.maxHeight>r.height+5)&&(e=o.__gM.zone,i=t=0,(n=o.__gT).pageX>r.x&&n.pageY>r.y&&n.pageX<r.x+r.width&&n.pageY<r.y+r.height?(n.pageX-r.x<20&&0<r.scrollX?t=-Math.min(7,r.scrollX):r.x+r.width-n.pageX<20&&r.scrollX+r.width<r.maxWidth&&(t=Math.min(7,r.maxWidth-r.scrollX-r.width)),n.pageY-r.y<20&&0<r.scrollY?i=-Math.min(7,r.scrollY):r.y+r.height-n.pageY<20&&r.scrollY+r.height<r.maxHeight&&(i=Math.min(7,r.maxHeight-r.scrollY-r.height)),t||i?(o.__gX=!0,o.__hf=!0,e.scrollTop+=i,e.scrollLeft+=t,r.scrollX+=t,r.scrollY+=i,delete o.__gU,h.__gz(),h.__gE()):(delete o.__gX,delete o.__hf)):(delete o.__gX,delete o.__hf))},n.__dU(30,o.__he))},__gW:function(){var c=this;c.__hg||(c.__hg=function(){var e,t,i,n,r,o,a,s,l;c.__hf||(t=e=0,i=c.__gT,n=u.scrollTop(),r=u.height(),o=f.height(),a=f.width(),s=u.width(),l=u.scrollLeft(),i.pageX-l<20&&0<l?e=-Math.min(7,l):l+s-i.pageX<20&&l+s<a&&(e=Math.min(7,a-s-l)),i.pageY-n<20&&0<n?t=-Math.min(7,n):n+r-i.pageY<20&&n+r<o&&(t=Math.min(7,o-r-n)),e||t?(c.__gY=!0,i.pageX+=e,i.pageY+=t,window.scrollBy(e,t),delete c.__gU,h.__gz(),h.__gF(i),h.__gE()):delete c.__gY)},n.__dU(30,c.__hg))},__hc:function(){this.__he&&(n.__dX(this.__he),delete this.__he,delete this.__hf)},__hd:function(){this.__hg&&(n.__dX(this.__hg),delete this.__hg)}})}),define("gallery/mx-dropdown/index",["magix","$","../mx-monitor/index"],function(e,t,i){var d=e("magix"),u=e("$"),r=e("../mx-monitor/index");d.applyStyle("xzKVLbss",'[mx-view*="/mx-dropdown/"]{outline:0;position:relative;width:140px;background-color:#fff;border:1px solid #e6e6e6;border-radius:4px;display:inline-block;vertical-align:middle;height:25px}[mx-view*="/mx-dropdown/"]:hover{border-color:#ccc}.xzKVLbscB{color:#333;position:relative;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 30px 0 4px}.xzKVLbscC{cursor:not-allowed;background-color:#fbfbfb}.xzKVLbscC:hover{border-color:#e6e6e6}.xzKVLbscC .xzKVLbscB{cursor:not-allowed}.xzKVLbscD{position:absolute;right:0;top:-1.5px;font-size:28px;color:#ccc;transition:transform .3s,top .3s}.xzKVLbscE .xzKVLbscD{transform:rotate(180deg);top:-3px}.xzKVLbscE,.xzKVLbscE:hover,[mx-view*="/mx-dropdown/"][tabindex="0"]:focus{border-color:#06f}.xzKVLbscF{height:23px;line-height:23px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.xzKVLbscG{color:#999}.xzKVLbscH{position:absolute;top:100%;left:-1px;right:-1px;margin-top:5px;border-radius:4px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xzKVLbscE .xzKVLbscH{display:block}.xzKVLbscI{overflow:auto;max-height:196px;padding:4px 0}.xzKVLbscJ{display:block;width:100%;padding:9px 9px 4px}.xzKVLbscK{padding:0;width:100%}.xzKVLbscL{color:#ccc;position:absolute;left:15px;top:16px}.xzKVLbscM{padding-left:28px;height:28px;line-height:28px;width:100%}.xzKVLbscN{padding:0 4px;margin:2px 0}.xzKVLbscO{cursor:pointer;color:#666;display:block;width:100%;padding:0 4px;height:26px;line-height:26px;border-radius:4px}.xzKVLbscO:hover{color:#333;background-color:#f0f0f0}.xzKVLbscP,.xzKVLbscP:active,.xzKVLbscP:focus,.xzKVLbscP:hover{color:#fff;background-color:#06f}'),i.exports=d.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.i18n,d=e.selectedText,u=e.selected,f=e.rList,h=e.searchbox,p=e.keyword,g=e.viewId,_=e.list,x=e.textKey,m=e.valueKey;if(l+='<div class="xzKVLbscB" mx-click="'+t+'\x1e__hh()" title="'+n(c(d))+'"><span class="xzKVLbscF',""===u&&(l+=" xzKVLbscG"),l+='">'+n(c(d))+'</span><span mxs="xzKVLbsC:_" class="xzKVLbs_ xzKVLbscD">&#xe692;</span></div><div mxv mxa="xzKVLbsC:_" class="xzKVLbscH">',f){l+=" ",h&&(l+='<div mxv mxa="xzKVLbsC:a" class="xzKVLbscJ"><label mxv mxa="xzKVLbsC:b" class="xzKVLbscK"><span mxs="xzKVLbsC:a" class="xzKVLbs_ xzKVLbscL">&#xe608;</span><input placeholder="'+n(c("_hy"))+'" mx-keyup="'+t+'\x1e__dB()" mx-paste="'+t+'\x1e__dB()" mx-change="'+t+'\x1e__hx()" mx-focusin="'+t+'\x1e__hx()" mx-focusout="'+t+'\x1e__hx()" class="xzKVLbsB xzKVLbscM" value="'+n(p)+'"/></label></div>'),l+='<ul class="xzKVLbscI" id="list_'+n(g)+'">';var v=void 0,b=void 0;l+=" ";for(var y=0,w=_;y<w.length;y++){var L=w[y];l+=" ",b=x&&m?(l+=" ",v=c(L[x]),L[m]):(l+=" ",v=L),l+=" ",l+='<li title="'+n(v)+'" class="xzKVLbscN">',l+='<span class="xzKVLbscO xzKVLbsy',b+""==u+""&&(l+=" xzKVLbscP"),l+='" mx-click="'+t+"\x1e__hw({item:'"+a(i,L)+"'})\">"+n(v)+"</span></li>"}l+="</ul>"}return l+="</div>"},init:function(e){var t=this;r.__cB();var i=u("#"+t.id);i.on("keydown",function(e){13==e.keyCode&&t["__hh<click>"]()}),t.on("destroy",function(){i.off("keydown"),r.__cC(t),r.__cD()}),t.updater.set({viewId:t.id}),t.__t=i,t.__hi=!e.list,t.assign(e,{node:i})},assign:function(e,t){var i=t.node,n=t.inner,r=this;r.__hj=e.list;var o,a,s=r.__hk=e.selected,l=r.__hl=e.textKey||"",c=r.__hm=e.valueKey||"",t=r.__hn=e.emptyText||"";r.__ho=e.searchbox+""=="true",r.__hp=e.disabled+""=="true",r.__hi&&(i=i?u(i).children():u(n),o=[],i.each(function(e,t){t=u(t),a="true"==t.attr("group"),o.push({group:a,text:t.text(),value:a?d.guid():t.attr("value")})}),l=r.__hl="text",c=r.__hm="value",r.__hj=o);e=r.__hj,n=d.toMap(e,c);return t&&(l&&c?n[""]||((i={})[l]=t,i[c]="",e.unshift(i),n[""]=i):n[t]||(e.unshift(t),n[t]=t)),s||!t||l||c||(s=t),s&&n[s]||(s=n[s]||e[0],l&&c&&(s=s[c])),r.__hk=s,r.__hq=l&&c?n[s][l]:s,!0},__cE:function(e){return d.inside(e,this.id)},render:function(){this.__t[this.__hp?"addClass":"removeClass"]("xzKVLbscC").prop("tabindex",this.__hp?-1:0),this.__hr(!0)},__ao:function(){this.__t.hasClass("xzKVLbscE")&&(this.__t.removeClass("xzKVLbscE").trigger("focusout"),r.__cC(this))},__an:function(){var e,t,i,n;this.__t.hasClass("xzKVLbscE")||(this.updater.get("rList")||this.updater.digest({rList:!0}),this.__t.addClass("xzKVLbscE").trigger("focusin"),t=(e=u("#list_"+this.id)).find(".xzKVLbscP").position(),n=e.height(),i=e.prop("scrollTop"),(t.top<0||t.top>n)&&(n=t.top-n+i+n/2,e.prop("scrollTop",n)),r.__cH(this))},__hr:function(e){var t=this.__hk;this.updater.digest({textKey:this.__hl,valueKey:this.__hm,selected:t,searchbox:this.__ho,selectedText:this.__hq,list:this.__hj.slice()}),this.__t.val(t),e||this.__hs(t)},__ht:function(o,a){var s=this;clearTimeout(s.__dA);var l,c=s.__hj,d=[],u=0,f=c.length,h=s.__hl,p=s.__hm;o?(l=function(){if(u<f){for(var e,t=Math.min(u+400,f),i=u,n=void 0,r=void 0;i<t;i++)r=n=e=c[i],h&&p&&(n=e[h],r=e[p]),(0<=(n+"").indexOf(o)||0<=(r+"").indexOf(o))&&d.push(e);u=t,s.__dA=setTimeout(s.wrapAsync(l),20)}else a(d)})():a(c)},__hs:function(e,t){var i=this.updater,n=this.__hm,r=this.__hl,o=this.__hk,a=e,s=e;r&&n&&(s=e[r],a=e[n]),t&&o===a||(i.set({selected:this.__hk=a}),(r=u.Event("change",{item:e,keys:{text:r,value:n},value:n?e[n]:e,text:r?e[r]:e})).isDefaultPrevented()?i.set({selected:o}):i.digest({selected:a,selectedText:s}),this.__t.val(n?e[n]:e).trigger(r))},"__hh<click>":function(){var e=this.__t;e.hasClass("xzKVLbscE")?this.__ao():e.hasClass("xzKVLbscC")||this.__an()},"__dB<keyup,paste>":function(e){var t=this;e.stopPropagation(),clearTimeout(t.__hu);var i=u.trim(e.eventTarget.value);t.__hu=setTimeout(t.wrapAsync(function(){i!=t.__hv&&t.__ht(t.__hv=i,function(e){t.updater.digest({list:e})})}),300)},"__hw<click>":function(e){this.__hs(e.params.item,!0),this.__ao()},"__hx<change,focusin,focusout>":function(e){e.stopPropagation()}})}),define("gallery/mx-font/align",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e=e("magix");e.default.applyStyle("xzKVLbsn",".xzKVLbsc_{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.xzKVLbsca{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.xzKVLbsca:hover{background:#ccc}.xzKVLbscb{width:16px;margin:2px}.xzKVLbscc,.xzKVLbscc:hover{background:#06f;color:#fff}.xzKVLbscd,.xzKVLbscd .xzKVLbsca{cursor:not-allowed;opacity:.7}.xzKVLbscd .xzKVLbsca,.xzKVLbscd .xzKVLbsca:hover{background:#e9e9e9}.xzKVLbscd .xzKVLbscc,.xzKVLbscd .xzKVLbscc:hover{background:#6aa5ff}.xzKVLbsce{transform:rotate(180deg)}.xzKVLbscf{transform:rotate(90deg)}.xzKVLbscg{transform:rotate(270deg)}"),t.default=e.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.disabled,d=e.i18n,e=e.value;return l+='<ul class="xzKVLbsx xzKVLbsc_',c&&(l+=" xzKVLbscd"),l+='"><li title="'+n(d("_hA"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',"left"==e[0]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({i:0,v:'left'})\">&#xe687;</li><li title=\""+n(d("_hB"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',"center"==e[0]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({i:0,v:'center'})\">&#xe68a;</li><li title=\""+n(d("_hC"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',"right"==e[0]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({i:0,v:'right'})\">&#xe686;</li><li title=\""+n(d("_hD"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',"top"==e[1]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({i:1,v:'top'})\">&#xe614;</li><li title=\""+n(d("_hE"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',"middle"==e[1]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({i:1,v:'middle'})\">&#xe613;</li><li title=\""+n(d("_hF"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',"bottom"==e[1]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({i:1,v:'bottom'})\">&#xe612;</li></ul>"},init:function(e){this.assign(e)},assign:function(e){return this.__hz=e.value,this.updater.set({value:e.value,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bB<click>":function(e){var t,i;this.updater.get("disabled")||(t=this.__hz,e=(i=e.params).i,i=i.v,t[e]=i,this.__hz=t,this.updater.digest({value:t}),$("#"+this.id).trigger({type:"input",value:t}))}})}),define("gallery/mx-font/lineheight",["magix","$","../mx-number/index","../mx-dropdown/index"],function(e,t,i){e("../mx-number/index"),e("../mx-dropdown/index"),t.__esModule=!0;var n=e("magix"),r=e("$");n.default.applyStyle("xzKVLbst",".xzKVLbscQ{width:80px;border-radius:4px 0 0 4px;z-index:1}.xzKVLbscR{width:61px;margin-left:-1px;border-radius:0 4px 4px 0}.xzKVLbscR:focus{z-index:2}"),t.default=n.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.disabled,d=e.min,u=e.value;return l+='<div mxv="value" class="xzKVLbscQ xzKVLbsB xzKVLbsu" ',(e=c)&&(l+='readonly="'+n(e)+'" '),l+=' mx-input="'+t+"\x1e__aq({from:'number'})\" mx-view=\"gallery/mx-number/index?",(e=c)&&(l+="disabled="+o(e)),(e=d)&&(l+="&min="+o(e)),l+="&value="+a(i,u[0])+'&empty=true"></div><div mxv="disabled,value" class="xzKVLbscR" mx-change="'+t+"\x1e__aq({from:'dropdown'})\" mx-view=\"gallery/mx-dropdown/index?",(e=c)&&(l+="disabled="+a(i,e)),l+="&selected="+a(i,u[1])+'"><i mxs="xzKVLbsE:_" value="mm" class="xzKVLbsv">mm</i><i mxs="xzKVLbsE:a" value="%" class="xzKVLbsv">%</i></div>'},init:function(e){this.assign(e)},assign:function(e){return this.__hz=e.value,this.updater.set({value:e.value,min:e.min,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__aq<input,change>":function(e){e.stopPropagation();var t=e.params.from,i=e.value,e=this.__hz,i="number"==t?[i,e[1]]:[e[0],i];r.default("#"+this.id).trigger({type:"input",value:this.__hz=i})}})}),define("gallery/mx-font/style",["magix","$"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("$");n.default.applyStyle("xzKVLbsn",".xzKVLbsc_{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.xzKVLbsca{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.xzKVLbsca:hover{background:#ccc}.xzKVLbscb{width:16px;margin:2px}.xzKVLbscc,.xzKVLbscc:hover{background:#06f;color:#fff}.xzKVLbscd,.xzKVLbscd .xzKVLbsca{cursor:not-allowed;opacity:.7}.xzKVLbscd .xzKVLbsca,.xzKVLbscd .xzKVLbsca:hover{background:#e9e9e9}.xzKVLbscd .xzKVLbscc,.xzKVLbscd .xzKVLbscc:hover{background:#6aa5ff}.xzKVLbsce{transform:rotate(180deg)}.xzKVLbscf{transform:rotate(90deg)}.xzKVLbscg{transform:rotate(270deg)}"),t.default=n.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.disabled,d=e.i18n,e=e.value;return l+='<ul class="xzKVLbsx xzKVLbsc_',c&&(l+=" xzKVLbscd"),l+='"><li title="'+n(d("_hG"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',e[0]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({key:'italic'})\">&#xe65f;</li><li title=\""+n(d("_hH"))+'" class="xzKVLbsp xzKVLbsca xzKVLbsN',e[1]&&(l+=" xzKVLbscc"),l+='" mx-click="'+t+"\x1e__bB({key:'underline'})\">&#xe62e;</li></ul>"},init:function(e){this.assign(e)},assign:function(e){return this.__hz=e.value,this.updater.set({value:e.value,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bB<click>":function(e){var t;this.updater.get("disabled")||(t=this.__hz,t="italic"==e.params.key?t[0]?["",t[1]]:["italic",t[1]]:t[1]?[t[0],""]:[t[0],"underline"],this.__hz=t,this.updater.digest({value:t}),r.default("#"+this.id).trigger({type:"input",value:t}))}})}),define("gallery/mx-menu/index",["magix","$","../mx-monitor/index"],function(e,t,i){var o=e("magix"),d=e("$"),u=e("../mx-monitor/index");o.Vframe;o.applyStyle("xzKVLbsu",".xzKVLbscS{transition:margin-left .25s;z-index:90000}.xzKVLbscT{background-color:#fff;border:1px solid #e6e6e6;border-radius:4px;cursor:default;padding:4px 0;box-shadow:0 2px 4px 0 rgba(0,0,0,.1)}.xzKVLbscU{height:26px;line-height:26px;cursor:default;border-radius:4px;padding:0 12px;margin:0 4px}.xzKVLbscV{color:#fff;background-color:#06f}.xzKVLbscW{height:1px;background:#eee;margin:4px 0}.xzKVLbscX{color:#ccc;cursor:not-allowed}"),i.exports=o.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.width,d=e.list,u=e.disabled,f=e.textKey;l+='<div style="width:'+n(c)+'px;position:absolute;left:-10000px;top:-10000px" class="xzKVLbscS" mx-contextmenu="'+t+'\x1e__cn()"><ul mxa="xzKVLbsG:_" class="xzKVLbscT xzKVLbsx">';for(var h=0,p=d.length;h<p;h++){var g=d[h];l+=" ",g.spliter?l+='<li mxs="xzKVLbsG:_" class="xzKVLbscW"></li>':(l+='<li class="xzKVLbsy xzKVLbscU ',u[g.id]&&(l+=" xzKVLbscX"),l+='" ',u[g.id]||(l+=' mx-mouseover="'+t+'\x1e__hQ()" mx-mouseout="'+t+'\x1e__hQ();" mx-click="'+t+"\x1e__hw({item:'"+a(i,g)+"'})\" "),l+=' title="'+n(g[f])+'">'+n(g[f])+"</li>"),l+=" "}return l+="</ul></div>"},init:function(e){var t=this;t.assign(e),u.__cB(),t.on("destroy",function(){u.__cC(t),u.__cD(),t.__cl&&!e.cnt&&d("#"+t.id).remove()})},assign:function(e){var t=e.width||340,i=e.valueKey||"id",n=e.textKey||"text";return this.__hj=e.list,this.__hI=d(e.offset),this.__hJ=d(e.scroller),this.__hK=t,this.__hL=i,this.__hM=n,this.__hN=e.disabled||{},this.__hO=e.picked,!0},render:function(){this.updater.digest({disabled:this.__hN,list:this.__hj,width:this.__hK,valueKey:this.__hL,textKey:this.__hM})},__cE:function(e){return o.inside(e,this.id)},__an:function(e){var t,i,n,r,o,a,s,l,c;this.__hP||(this.__hP=1,t=d("#"+this.id+" div"),i=(a=(s=this.__hI).offset()).left,n=a.top,r=s.width()+this.__hJ.prop("scrollLeft"),o=s.height(),c=l=-1,a=t.outerWidth(),s=t.outerHeight(),r<(l=e.pageX-i)+a&&(l-=a)<0&&(l=0),o<(c=e.pageY-n)+s&&(c-=s)<0&&(c=0),t.css({left:l,top:c}),u.__cH(this))},__ao:function(){this.__hP&&(this.__hP=!1,d("#"+this.id+" div").css({left:-1e4}),u.__cC(this))},"__hQ<mouseover,mouseout>":function(e){o.inside(e.relatedTarget,e.eventTarget)||d(e.eventTarget)["mouseout"==e.type?"removeClass":"addClass"]("xzKVLbscV")},"__hw<click>":function(e){var t=d("#"+this.id),e={type:"pick",item:e.params.item};t.trigger(e),this.__ao();t=this.__hO;t&&t(e.item)},"__cn<contextmenu>":function(e){e.preventDefault()}},{show:function(e,t,i){var n="ctx_"+i.listKey,r=o.Vframe.get(n);r?(r.invoke("assign",[i]),r.invoke("render"),r.invoke("__an",[t])):(d(i.cnt||"body").append('<div id="'+n+'" />'),(r=e.owner.mountVframe(n,"gallery/mx-menu/index",i)).invoke("__an",[t]))}})}),define("gallery/mx-monitor/index",["$"],function(e,t,i){function n(e){for(var t=a.length;t--;){var i=a[t];i.__hR?a.splice(t,1):(i=i.__hS,"resize"!=e.type&&i.__cE(e.target)||i.__ao())}}function r(e){var t=a[e.id];t&&(t.__hR=!0),delete a[e.id]}var e=e("$"),o=0,a=[],s=e(document),l=e(window);i.exports={__cH:function(e){r(e);var t={__hS:e};a.push(t),a[e.id]=t},__cC:r,__cB:function(){o||(s.on("mousedown keyup",n),l.on("resize",n)),o++},__cD:function(){0<o&&(--o||(s.off("mousedown keyup",n),l.off("resize",n)))}}}),define("gallery/mx-picture/index",["magix","$"],function(e,t,i){var n=e("magix"),r=e("$");n.applyStyle("xzKVLbsw",".xzKVLbsdb{min-height:500px}.xzKVLbsdc{width:100px;height:100px;margin:5px;overflow:hidden;border:1px solid #ccc;cursor:pointer}.xzKVLbsdc:hover{border-color:#999}.xzKVLbsdd{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.xzKVLbsde{position:relative}.xzKVLbsde:hover .xzKVLbsdf{opacity:1}.xzKVLbsdf{opacity:0;transition:opacity .25s;position:absolute;right:0;top:0;color:#ff0303;background:#fff;font-size:18px;cursor:pointer}.xzKVLbsdg{color:#797575;width:100px;margin:0 5px;height:25px}.xzKVLbsdh{width:140px;height:80px;float:left;background-position:50%;background-repeat:no-repeat;background-size:contain;border:1px solid #ccc}.xzKVLbsdi{height:34px;border:2px dashed #ccc;outline:none;transition:all .3s;line-height:34px;margin-top:1px;text-align:center;font-size:14px;cursor:default;margin-left:40px;width:460px;border-radius:4px}.xzKVLbsdj,.xzKVLbsdi:focus{border-color:#06f}.xzKVLbsdk{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;cursor:pointer;opacity:0;font-size:100px}.xzKVLbsdl{position:relative;overflow:hidden;cursor:pointer;height:35px;line-height:25px;margin-right:13px;width:110px}.xzKVLbsdm{width:250px;height:35px;font-size:14px}.xzKVLbsdn{font-size:16px}"),i.exports=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.disabled,d=e.i18n,e=e.pic;return l+="<div><button ",c&&(l+="disabled"),l+=' type="button" class="xzKVLbsz xzKVLbsO" mx-click="'+t+'\x1e__ip()">'+n(d("_iq"))+'</button><div mxa="xzKVLbsI:_" class="xzKVLbsw xzKVLbsa"><div class="xzKVLbsdh xzKVLbsu" ',e&&(l+=" style=\"background-image:url('"+n(e)+"')\" "),l+="></div></div></div>"},init:function(e){this.assign(e),this.__t=r("#"+this.id)},assign:function(e){return this.updater.set({lang:e.lang,pic:e.pic,disabled:e.disabled+""=="true"}),!0},render:function(){this.updater.digest()},"__ip<click>":function(){var t=this;t.mxDialog("gallery/mx-picture/list",{width:945,done:function(e){t.updater.digest({pic:e.src}),t.__t.trigger({type:"change",pic:e})}})}})}),define("gallery/mx-picture/list",["magix","$","../../i18n/index","../../service/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),a=e("$"),s=e("../../i18n/index"),e=e("../../service/index");n.applyStyle("xzKVLbsw",".xzKVLbsdb{min-height:500px}.xzKVLbsdc{width:100px;height:100px;margin:5px;overflow:hidden;border:1px solid #ccc;cursor:pointer}.xzKVLbsdc:hover{border-color:#999}.xzKVLbsdd{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.xzKVLbsde{position:relative}.xzKVLbsde:hover .xzKVLbsdf{opacity:1}.xzKVLbsdf{opacity:0;transition:opacity .25s;position:absolute;right:0;top:0;color:#ff0303;background:#fff;font-size:18px;cursor:pointer}.xzKVLbsdg{color:#797575;width:100px;margin:0 5px;height:25px}.xzKVLbsdh{width:140px;height:80px;float:left;background-position:50%;background-repeat:no-repeat;background-size:contain;border:1px solid #ccc}.xzKVLbsdi{height:34px;border:2px dashed #ccc;outline:none;transition:all .3s;line-height:34px;margin-top:1px;text-align:center;font-size:14px;cursor:default;margin-left:40px;width:460px;border-radius:4px}.xzKVLbsdj,.xzKVLbsdi:focus{border-color:#06f}.xzKVLbsdk{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;cursor:pointer;opacity:0;font-size:100px}.xzKVLbsdl{position:relative;overflow:hidden;cursor:pointer;height:35px;line-height:25px;margin-right:13px;width:110px}.xzKVLbsdm{width:250px;height:35px;font-size:14px}.xzKVLbsdn{font-size:16px}"),i.exports=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.i18n,d=e.keyword,u=e.list,e=e.error;l+='<div mxa="xzKVLbsJ:_" class="xzKVLbsK"><b mxa="xzKVLbsJ:a" class="xzKVLbsd">'+n(c("_iG"))+'</b></div><div mxv mxa="xzKVLbsJ:b" class="xzKVLbsL"><div mxv mxa="xzKVLbsJ:c" class="xzKVLbsw xzKVLbsk xzKVLbsj"><input class="xzKVLbsB xzKVLbsdm xzKVLbsp" placeholder="'+n(c("_iH"))+'" mx-input="'+t+'\x1e__dB()" value="'+n(d)+'"/><div mxa="xzKVLbsJ:d" class="xzKVLbsdi xzKVLbsp" mx-paste="'+t+'\x1e__iz()" mx-drop="'+t+'\x1e__iB()" tabindex="0" mx-dragenter="'+t+'\x1e__iF()" mx-dragleave="'+t+'\x1e__iE()">'+n(c("_iI"))+'<i mxs="xzKVLbsJ:_" class="xzKVLbsr xzKVLbsh xzKVLbsd">/</i>'+n(c("_iJ"))+'</div><div mxv mxa="xzKVLbsJ:e" class="xzKVLbsr xzKVLbsz xzKVLbsdl xzKVLbsA xzKVLbsq">'+n(c("_iK"))+'<input mxs="xzKVLbsJ:a" class="xzKVLbsdk" accept="image/*" type="file" mx-change="'+t+'\x1e__iC()" multiple="multiple"/></div></div><div mxa="xzKVLbsJ:f" class="xzKVLbsw xzKVLbsdb xzKVLbsa">';var f=0;l+=" ";for(var h=0,p=u.length;h<p;h++){var g=u[h];l+=" ",(!d||-1<g.title.indexOf(d))&&(l+=" ",f=1,l+='<div class="xzKVLbsp xzKVLbsde" title="'+n(g.title)+'"><div class="xzKVLbsdc" mx-click="'+t+"\x1e__it({src:'"+n(s(g.src))+'\'})"><div class="xzKVLbsdd" style="background-image:url(\''+n(g.src)+'\')"></div></div><div mxa="xzKVLbsJ:g" class="xzKVLbso xzKVLbsdg xzKVLbsy">'+n(g.title)+'</div><div mx-click="'+t+"\x1e__be({id:'"+n(s(g.id))+'\'})" class="xzKVLbsdf xzKVLbs_" title="'+n(c("__af"))+'">&#xe67f;</div></div>'),l+=" "}return l+=" ",!f&&d&&(l+='<div mxa="xzKVLbsJ:h" class="xzKVLbso xzKVLbsb xzKVLbsdn">'+n(c("_iL",d))+"</div>"),l+=" ",e&&(l+='<div mxa="xzKVLbsJ:i" class="xzKVLbso xzKVLbsb xzKVLbsdn">'+n(e.msg)+"</div>"),l+="</div></div>"},mixins:[e.default],init:function(e){this.__ir=e.done,this.__gd=e.dialog},render:function(){var i=this;i.fetch({name:"__is",params:{biz_id:n.config("bizId")}},function(e,t){i.updater.digest({keyword:"",list:t.get("data",[]),error:e})})},"__U<click>":function(){this.__gd.close()},"__T<click>":function(){var i=this,n=a("#"+this.id+" input").val().trim(),r=new Image,o=this.__ir;r.onerror=function(){i.alert(s.default("__bs"))},r.onload=function(){var e=r.width,t=r.height;i.__gd.close(),o({src:n,width:e,height:t})},r.src=n},"__it<click>":function(e){var i=this,n=new Image,r=i.__ir,o=e.params.src;n.onerror=function(){i.alert(s.default("__bs"))},n.onload=function(){var e=n.width,t=n.height;i.__gd.close(),r({src:o,width:e,height:t})},n.src=o},"__be<click>":function(e){var t=this,i=e.params.id;this.confirm(s.default("__iu"),function(){t.save({name:"__iv",params:{id:i,biz_id:n.config("bizId")}},function(e){e?t.alert(e.msg):t.render()})})},"__dB<input>":function(e){clearTimeout(this.__dA);var t=this.updater;t.set({keyword:e.eventTarget.value}),this.__dA=setTimeout(this.wrapAsync(function(){t.digest()}),300)},__ix:function(e){var t=this;this.request().all({name:"__iw",files:e,params:{biz_id:n.config("bizId"),temp_id:n.config("tempId")}},function(e){e?t.alert(e.msg):t.render()})},"__iz<paste>":function(e){e.preventDefault();var e=e.originalEvent.clipboardData,t=[];if(e&&e.items)for(var i=0,n=e.items;i<n.length;i++){var r=n[i];0===r.type.indexOf("image/")&&t.push(r.getAsFile())}t.length?this.__ix(t):this.alert(s.default("__iy"))},"__iB<drop>":function(e){this.__iA(e.eventTarget);e=e.originalEvent.dataTransfer.files;this.__ix(e)},"__iC<change>":function(e){var t=e.eventTarget,e=t.files;this.__ix(e),t.outerHTML=t.outerHTML},__iA:function(e){this.__iD||a(e).removeClass("xzKVLbsdj")},"__iE<dragleave>":function(e){this.__iA(e.eventTarget)},"__iF<dragenter>":function(e){var t=document.activeElement==e.eventTarget;t||(a(e.eventTarget).addClass("xzKVLbsdj"),this.__iD=t)}})}),define("gallery/mx-number/_cfg",[],function(e,t,i){i.exports={"mx-number":{_class:" input pr"}}}),define("gallery/mx-number/index",["magix","$"],function(e,t,i){var o=e("magix"),n=e("$");o.applyStyle("xzKVLbsv",'.xzKVLbscY{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}.xzKVLbscZ,.xzKVLbsd_{width:20px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}.xzKVLbscZ:hover,.xzKVLbsd_:hover{background-color:#f0f0f0}.xzKVLbsd_{top:1px}.xzKVLbscZ{bottom:1px}.xzKVLbsda:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:4px solid transparent;border-right:4px solid transparent;content:"";display:block;margin:auto}.xzKVLbscZ:after{border-top:4px solid #ccc}.xzKVLbsd_:after{border-bottom:4px solid #ccc}[mx-view*="/mx-number/"][readonly=true]{background-color:#fbfbfb;cursor:not-allowed}[mx-view*="/mx-number/"][readonly=true]:hover{border-color:#e6e6e6}[mx-view*="/mx-number/"][readonly=true] .xzKVLbscZ,[mx-view*="/mx-number/"][readonly=true] .xzKVLbsd_{cursor:not-allowed;border-color:transparent}[mx-view*="/mx-number/"][readonly=true] .xzKVLbscZ:hover,[mx-view*="/mx-number/"][readonly=true] .xzKVLbsd_:hover{background-color:transparent}[mx-view*="/mx-number/"][readonly=true] .xzKVLbsd_:hover:after{border-bottom-color:#ccc}[mx-view*="/mx-number/"][readonly=true] .xzKVLbscZ:hover:after{border-top-color:#ccc}'),i.exports=o.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.value,e=e.disabled;return l+='<input class="xzKVLbscY" mx-focusin="'+t+'\x1e__ig()" mx-focusout="'+t+'\x1e__ii()" value="'+n(c)+'" mx-change="'+t+'\x1e__if()" mx-keydown="'+t+'\x1e__in()" ',e&&(l+=" disabled"),l+=' autocomplete="off" mx-input="'+t+'\x1e__io()"/><span mxs="xzKVLbsH:_" class="xzKVLbsd_ xzKVLbsda xzKVLbsx" mx-click="'+t+'\x1e__ib({i:true})" mx-mousedown="'+t+'\x1e__im({i:true})" mx-contextmenu="'+t+'\x1e__cn()"></span><span mxs="xzKVLbsH:a" class="xzKVLbscZ xzKVLbsda xzKVLbsx" mx-click="'+t+'\x1e__ib()" mx-mousedown="'+t+'\x1e__im()" mx-contextmenu="'+t+'\x1e__cn()"></span>'},init:function(e){var t=n("#"+this.id);this.__t=t,this.assign(e)},assign:function(e){var t=this,i=e.value;void 0===i&&(i=""),""!==i&&(i=+i);var n=t.__hT!==i,r=t.__hU;return t.__hT=i,t.__hV=+e.step||1,t.__hW=e.empty+""=="true",t.__hU=e.disabled+""=="true",t.__hX=o.has(e,"max")?+e.max:Number.MAX_VALUE,t.__hY=o.has(e,"min")?+e.min:-Number.MAX_VALUE,t.__hZ=+e.ratio||10,t.__i_=e.fixed||0,n||r!=t.__hU},render:function(){this.updater.digest({value:this.__hT,disabled:this.__hU}),this.fix()},fix:function(){var e=this.__hT;""!==e&&(e=e.toFixed(this.__i_)),this.__ia=this.__t.find("input"),this.__ia.val(e)},val:function(e,t){var i,n,r=this;if(""!==e||!r.__hW)return!(e=+e)&&0!==e||(i=r.__hX,n=r.__hY,i<e?e=i:e<n&&(e=n),e!==r.__hT&&(e=e.toFixed(r.__i_),t||r.__ia.val(e),e=+e,r.__t.prop("value",r.__hT=e).trigger({type:"input",value:e}))),r.__hT;r.__t.prop("value",r.__hT=e).trigger({type:"input",value:e})},__ib:function(e,t){var i=this.__hT;""===i&&(i=0);var n=this.__hV,i=i;t&&(n*=this.__hZ),e?i+=n:i-=n,this.val(i)},__ic:function(){var e=this.__ia[0];e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},__ie:function(){this.__t.addClass("xzKVLbsD"),o.has(this,"__id")||(this.__id=this.__hT)},"__if<change>":function(e){e.stopPropagation();var t=e.eventTarget,e=t.value;if(""===e&&this.__hW)return t.value=this.__hT="",void this.__t.prop("value","");e=Number(e);!e&&0!==e||this.val(e),e=(e=this.__hT)||0===e?e.toFixed(this.__i_):"",t.value=e},"__ig<focusin>":function(){this.__ie()},"__ii<focusout>":function(){this.__ih||(this.__t.removeClass("xzKVLbsD"),this.__id!=this.__hT&&(this.fix(),this.__t.trigger({type:"change",value:this.__hT})),delete this.__id)},"__ib<click>":function(e){this.__hU||this.__ij||(this.__ib(e.params.i,e.shiftKey),this.__ic())},"__im<mousedown>":function(e){var t=this;t.__hU||(t.__ih=!0,t.__ie(),t.__ik=setTimeout(t.wrapAsync(function(){t.__il=setInterval(t.wrapAsync(function(){t.__ij=!0,t.__ib(e.params.i),t.__ic()}),50)}),300))},"__in<keydown>":function(e){var t;38!=e.keyCode&&40!=e.keyCode||(e.preventDefault(),this.__hU||(""===(t=e.eventTarget.value)?this.__hT="":!(t=Number(t))&&0!==t||t==this.__hT||(this.__hT=t),this.__ib(38==e.keyCode,e.shiftKey)))},"__cn<contextmenu>":function(e){e.preventDefault()},"__io<input>":function(e){e.stopPropagation();e=e.eventTarget;this.val(e.value,!0)},"$doc<mouseup>":function(){var e=this;clearTimeout(e.__ik),clearInterval(e.__il),delete e.__ih,setTimeout(e.wrapAsync(function(){delete e.__ij}),0)}})}),define("gallery/mx-runner/fx",["magix","./index"],function(e,t,i){function r(e){return e}var n=e("magix"),o=e("./index"),a=Date.now||function(){return(new Date).getTime()},s=n.Base.extend({ctor:function(e,i){var n=this;n.__iM&&!i||(i=i||r,n.__iM=function(e,t){return e+(t-e)*i(n.__iN/n.__iO)}),n.__iP=[],n.__iQ=e},__iV:function(e,t){this.__hR||(this.__iP.push({__iR:e,__iS:t}),this.__iT||this.__iU())},__iU:function(){var e=this,t=e.__iP.shift();t?(e.__iO=t.__iR,e.__iW=t.__iS,e.__iX=a(),e.__iT||o.__dU(e.__iQ,e.__iT=function(t){e.__iN=Date.now()-e.__iX,e.__iN>e.__iO&&(e.__iN=e.__iO,t=1);try{e.__iW(e.__iM)}catch(e){t=e}t&&e.__iU()})):e.__hx()},__hx:function(){this.__iT&&(o.__dX(this.__iT),delete this.__iT,this.fire("stop"))},destroy:function(){this.__hx(),this.__iP=[],this.__hR=1}});i.exports={__iZ:function(){var e=new s;return this.capture(n.guid("__iY"),e),e}}}),define("gallery/mx-runner/index",["magix"],function(e,t,i){var a=e("magix"),s=window.requestAnimationFrame||function(e){return setTimeout(e,16)},l=window.cancelAnimationFrame||clearTimeout,c=Date.now||function(){return(new Date).getTime()};i.exports={__iP:[],__dU:function(e,t){this.__iP.push({i:e||15,f:t,n:c()}),this.__iU()},__dX:function(e){for(var t=this.__iP,i=void 0,n=0;n<t.length;n++)if(!(i=t[n]).r&&i.f==e){i.r=1;break}},__iU:function(){var r,o=this;o.__j_||(r=function(){for(var e,t=o.__iP,i=0,n=void 0;i<t.length;i++)(n=t[i]).r?t.splice(i--,1):(e=c())-n.n>=n.i&&(n.n=e,a.toTry(n.f));t.length?o.__j_=s(r):(l(o.__j_),delete o.__j_)},o.__j_=s(r))}}}),define("cainiao/const",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={ELEMENT_CTRL_SPACE:3,RESIZER_SIZE:3,EDITOR_NAME_SPACE:"http://cloudprint.cainiao.com/schema/editor",XSI_NAME_SPACE:"http://www.w3.org/2001/XMLSchema-instance",SCHEMA_LOCATION_NAME_SPACE:"http://cloudprint.cainiao.com/print http://cloudprint-docs-resource.oss-cn-shanghai.aliyuncs.com/lpml_schema.xsd",CLOUD_PRINT_NAME_SPACE:"http://cloudprint.cainiao.com/print",PAGE_WIDTH_MAX:1200,PAGE_WIDTH_MIN:1,PAGE_HEIGHT_MAX:1200,PAGE_HEIGHT_MIN:1,PAGE_WIDTH_DEFAULT:793.7,PAGE_HEIGHT_DEFAULT:1122.51,SCALE_DEFAULT:1,SCALE_MAX:5,SCALE_MIN:.5,SCALE_STEP:.25,LINE_TYPES:[{text:"___",value:"solid"},{text:"__a",value:"dashed"},{text:"__b",value:"dotted"}],FONT_FAMILIES:[{value:"SimSun",text:"__c"},{value:"SimHei",text:"__d"},{value:"Microsoft YaHei",text:"__e"},{value:"Microsoft JhengHei",text:"__f"},{value:"KaiTi",text:"__g"},{value:"Arial",text:"Arial"},{value:"Times New Roman",text:"Times New Roman"},{value:"Tahoma",text:"Tahoma"},{value:"webdings",text:"webdings"},{value:"Arial Black",text:"Arial Black"},{value:"Arial Narrow",text:"Arial Narrow"},{value:"Arial Unicode MS",text:"Arial Unicode MS"}],FONT_WEIGHTS:["normal","bold","light"],DIRECTIONS:["ltr","rtl"],QRCODES:[{text:"qrcode",value:"qrcode"},{text:"pdf417",value:"pdf417"},{text:"Maxicode",value:"maxicode"},{text:"Data Matrix",value:"datamatrix"}],QRCODES_MAXICODE_SCHEMA:[2,3,4,5,6],BARCODES:[{value:"code128",text:"code128"},{value:"code93",text:"code93"},{value:"code39",text:"code39"},{value:"upca",text:"UPC-A"},{value:"upce",text:"UPC-E"},{value:"ean8",text:"EAN8"},{value:"ean13",text:"EAN13"},{value:"itf14",text:"ITF14"},{value:"c25inter",text:"Interleaved 2 of 5"}],TABLE_ROWS_HEIGHT:30,TABLE_CELLS_WIDTH:200,TABLE_MIN_SIZE:10,HISTORY_MAX:100,AUTO_SAVE:-1,DROP_STAGE_LOADING:"//img.alicdn.com/tfs/TB1dIR5XpzqK1RjSZFzXXXjrpXa-400-240.gif",PAGES:[{text:"A1",width:594,height:841},{text:"A2",width:420,height:594},{text:"A3",width:297,height:420},{text:"A4",width:210,height:297},{text:"A5",width:148,height:210},{text:"A6",width:105,height:148},{text:"A7",width:74,height:105},{text:"B1",width:707,height:1e3},{text:"B2",width:500,height:707},{text:"B3",width:353,height:500},{text:"B4",width:250,height:353},{text:"B5",width:176,height:250},{text:"B6",width:125,height:176},{text:"B7",width:88,height:125},{text:"C1",width:648,height:917},{text:"C2",width:458,height:648},{text:"C3",width:324,height:458},{text:"C4",width:229,height:324},{text:"C5",width:162,height:229},{text:"C6",width:114,height:162},{text:"C7",width:81,height:114}]}}),define("cainiao/serializer",["./toxml","./tojson"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("./toxml"),e=e("./tojson");t.default={encode:n.default,decode:e.default}}),define("cainiao/tojson",["magix","../util/converter","./const","../element/index","../util/table","$"],function(e,t,i){"use strict";t.__esModule=!0;function n(e){return"true"===e}function o(e){return e=Number(e),isNaN(e)?0:e}function r(e){return o(e)%360}function m(e,t,i,n,r){v(t,i)&&((t=t[i]).parse&&(n=t.parse(n,r)),t.type==s?(n=o(n),v(t,"max")&&n>t.max&&(n=t.max),v(t,"min")&&n<t.min&&(n=t.min),t.convert&&(n=t.convert(n))):t.type==d&&(v(t.enums,n)||(n=t.back)),t.alias&&(r[t.alias]=n),r[i]=n)}function L(e,t,i){var n=e.props;n._layouts=[],n._children=[];for(var r=0,o=[{node:i,key:"_layouts"},{node:t,key:"_children"}];r<o.length;r++)for(var a=o[r],s=!1,l=0,c=a.node.__b;l<c.length;l++){var d=c[l],u=d.__c;"#script"==u?n[a.key].push({tag:"#script",text:d.__d}):s||(s=!0,n[a.key].push({tag:u}))}}function z(e){var n={};return e.replace(u,function(e,t,i){n[t]=i}),n}function k(e,t,i){for(var n=0,r=e.__i;n<r.length;n++){var o=r[n];m(e.__c,t,o.__g,o.__h,i)}var a=e.__j,s=a.style;if(s){var l,c=z(s);for(l in c)m(e.__c,t,l,c[l],i)}(a=a["editor:tip"])&&(i.tip=a)}var S=e("magix"),l=e("../util/converter"),V=e("./const"),K=e("../element/index"),C=e("../util/table"),x=e("$"),T=S.default.State,v=S.default.has,b=S.default.toMap,y=/^<([a-zA-Z\d]+)((?:\s+[-A-Za-z\d_:]+(?:="[^"]*")?)*)\s*(\/?)>/,w=/([-A-Za-z\d_:]+)(?:="([^"]*)")?/g,A=/^<\/([a-zA-Z\d]+)>/,E=l.default.__h,M=/^\s*<%[\s\S]*%>\s*$/,N=l.default.__i,a=1,s=2,c=4,d=8,e=function(e){var t={type:s,convert:E};return e?t.alias=e:(t.min=0,t.max=2800),t},I={page:{splitable:{type:c,parse:n},xmlns:{type:a},"xmlns:xsi":{type:a},"xsi:schemaLocation":{type:a},"xmlns:editor":{type:a,back:V.default.EDITOR_NAME_SPACE},width:{type:s,max:V.default.PAGE_WIDTH_MAX,min:V.default.PAGE_WIDTH_MIN,convert:E},height:{type:s,max:V.default.PAGE_HEIGHT_MAX,min:V.default.PAGE_HEIGHT_MIN,convert:E}},line:{style:{type:a},zIndex:{type:s},startX:e("x"),endX:e("y"),startY:e(),endY:e(),lineWidth:{type:s,min:1},lineColor:{type:a},lineType:{type:d,alias:"type",enums:b(V.default.LINE_TYPES,"value"),back:V.default.LINE_TYPES[0].value}},rect:{style:{type:a},zIndex:{type:s},left:e("x"),top:e("y"),width:e(),height:e(),borderWidth:{type:s,min:0},borderStyle:{alias:"borderType",type:d,enums:b(V.default.LINE_TYPES,"value"),back:V.default.LINE_TYPES[0].value},fillColor:{type:a}},text:{style:{type:a},zIndex:{type:s},left:e("x"),top:e("y"),width:e(),height:e(),orientation:{type:a},rotation:{alias:"rotate",type:s,parse:r},alpha:{type:s,min:0,max:1},fontFamily:{type:d,enums:b(V.default.FONT_FAMILIES,"value"),back:V.default.FONT_FAMILIES[1].value},autoFontSize:{type:c,parse:function(e){return"auto"==e}},fontSize:{type:s,min:0,parse:function(e,t){return"auto"==e&&(t.autoFontSize=!0,t.fontSizeLocked=!0,e=10),e}},lineHeight:{type:a},letterSpacing:{type:s,min:0},align:{type:d,enums:b(["left","center","right"]),back:"left"},valign:{type:d,enums:b(["top","middle","bottom"]),back:"top"},fontWeight:{type:d,enums:b(V.default.FONT_WEIGHTS),back:V.default.FONT_WEIGHTS[0]},fontColor:{type:a},backgroundColor:{type:a},direction:{type:d,enums:b(V.default.DIRECTIONS),back:V.default.DIRECTIONS[0]},fontItalic:{type:c,parse:n},fontUnderline:{type:c,parse:n}},image:{style:{type:a},zIndex:{type:s},left:e("x"),top:e("y"),width:e(),height:e(),allowFailure:{type:c,parse:n},src:{type:a},rotation:{alias:"rotate",type:s,parse:r},alpha:{type:s,min:0,max:1}},barcode:{style:{type:a},zIndex:{type:s},left:e("x"),top:e("y"),width:e(),height:e(),type:{type:a},ratioMode:{type:a},schema:{type:d,enums:b(V.default.QRCODES_MAXICODE_SCHEMA),back:V.default.QRCODES_MAXICODE_SCHEMA[0]},primary:{type:a},opacity:{alias:"alpha",type:s,min:0,max:1},rotation:{type:s},hideText:{alias:"showText",type:c,parse:function(e){return!n(e)}}},table:{style:{type:a},zIndex:{type:s},left:e("x"),top:e("y"),width:e(),height:e(),borderWidth:{type:s,min:0},cellBorderWidth:{type:s,min:0},colspan:{type:s,min:1},rowspan:{type:s,min:1}}},u=/([^;:]+):([^;]+)(?=;|$)/g,D={page:function(e,t){var i,n;1===t.___&&(i=I.page,n=T.get("__j"),n={xmlns:V.default.CLOUD_PRINT_NAME_SPACE,"xmlns:xsi":V.default.XSI_NAME_SPACE,"xsi:schemaLocation":V.default.SCHEMA_LOCATION_NAME_SPACE,"xmlns:editor":V.default.EDITOR_NAME_SPACE,width:V.default.PAGE_WIDTH_DEFAULT*n,height:V.default.PAGE_HEIGHT_DEFAULT*n,splitable:!1},k(t,i,n),e.page=n)},line:function(e,t){var i,n,r,o,a,s;t.__e&&1<t.___&&(a=I.line,n=(i="90"==t.__j["editor:_deg_"])?"vline":"hline",s=(r=K.default.byType(n)).getProps(0,0),o=T.get("__j"),s.width*=o,s.height*=o,k(t,a,s),s.zIndex||(s.zIndex=e.elements.length+1),v(s,"startX")&&v(s,"startY")&&v(s,"endX")&&v(s,"endY")&&(a=Math.abs(i?s.endY-s.startY:s.endX-s.startX),s.x=s.startX,s.y=s.startY,s[i?"height":"width"]=a),s[i?"width":"height"]=l.default.__k(s.lineWidth||1),s={id:S.default.guid("e_"),type:n,ctor:r,props:s},e.elements.push(s))},rect:function(e,t,i){var n,r,o=i[t.__e];o&&"layout"==o.__c&&(r=(n=K.default.byType("rect")).getProps(0,0),i=T.get("__j"),r.width*=i,r.height*=i,k(o,i=I.rect,r),k(t,i,r),r.fillColor&&(r.fill=!0),r={id:S.default.guid("e_"),type:"rect",ctor:n,props:r},L(r,t,o),e.elements.push(r))},text:function(e,t,i){var n=i[t.__e];if(n&&"layout"==n.__c||n&&"td"==n.__c){var r=t.__j,o=r.style,a=!1,s=I.text,l=void 0;o&&(a="vertical"==(l=z(o)).orientation);var c=a?"vtext":"htext",d=K.default.byType(c),u=d.getProps(0,0),o=T.get("__j");u.width*=o,u.height*=o;var f,o=r["editor:tip"];if(o&&(u.tip=o),"layout"==n.__c?(k(n,s,u),(f=i[n.__e])&&"td"==f.__c&&(u.supportCNStyle=!0),a||0!==u.height||(u.autoHeight=!0,u.heightLocked=!0,u.height=18.9)):(d.writeAdapter(!0,u),u.useCNStyle=!0,u.supportCNStyle=!0),l)for(var h in l)m(0,s,h,l[h],u);x.default.isArray(u.lineHeight)||((f=u.lineHeight.match(/(\d+)(mm|%|$)/))?((a=Number(f[1]))<0&&(a=0),u.lineHeight=[a,f[2]||"mm"]):u.lineHeight=["","mm"]),x.default.isArray(u.align)?u.valign&&x.default.isArray(u.align)&&(u.align[1]=u.valign):u.align=[u.align,u.valign||"top"],u.backgroundColor&&u.fontColor&&(u.color=1),r["editor:_printName_"]&&(u.alias=r["editor:_printName_"]),"true"==r["editor:component"]&&(u.allowEdit=0);r=["",""];u.fontItalic&&(r[0]="italic"),u.fontUnderline&&(r[1]="underline"),u.fontStyle=r;for(var p=0,g=t.__b;p<g.length;p++){var _=g[p];if("#cdata"==_.__c){u.text=_.__d;break}}d={id:S.default.guid("e_"),type:c,ctor:d,props:u};"layout"==n.__c&&L(d,t,n),e.elements.push(d)}},image:function(e,t,i){var n=i[t.__e];if(n&&"layout"==n.__c){var r=K.default.byType("image"),o=r.getProps(0,0),i=T.get("__j");o.width*=i,o.height*=i;i=I.image;k(n,i,o),k(t,i,o);o={id:S.default.guid("e_"),type:"image",ctor:r,props:o};return L(o,t,n),e.elements.push(o),o}return null},barcode:function(e,t,i){var n=i[t.__e];if(n&&"layout"==n.__c){var r=b(V.default.QRCODES,"value"),o=b(V.default.BARCODES,"value"),a=t.__j,s="qrcode",i=a.type,l=z(a.style||"");v(r,i)?s="qrcode":v(o,i)&&(s="90"==l.rotation?"vcode":"hcode");var o=K.default.byType(s),c=o.getProps(0,0),i=T.get("__j");c.width*=i,c.height*=i;a=a["editor:tip"];a&&(c.tip=a);var d=I.barcode;k(n,d,c);for(var u,f=0,h=t.__i;f<h.length;f++){var p=h[f];m(0,d,p.__g,p.__h,c)}for(u in l)m(0,d,u,l[u],c);for(var g=0,_=t.__b;g<_.length;g++){var x=_[g];if("#cdata"==x.__c){c.text=x.__d;break}}o={id:S.default.guid("e_"),type:s,ctor:o,props:c};L(o,t,n),e.elements.push(o)}},table:function(e,t,f){var i=f[t.__e];if("layout"==i.__c){var h=K.default.byType("table").getProps(0,0),n=T.get("__j");h.width*=n,h.height*=n;for(var r=0,o=h.rows;r<o.length;r++){var a=o[r];if("tr"==a.type){a.height*=n;for(var s=0,l=a.cells;s<l.length;s++){var c=l[s];"td"==c.type&&(c.width*=n)}}}var d=f[i.__e];d&&"layout"==d.__c?h.splitable=!0:h.splitable=!1;var u=I.table;k(i,u,h),k(t,u,h);var p=!0,d={id:S.default.guid("e_"),type:"table",ctor:K.default.byType("table"),props:h},u=t.__b;if(u){h.rows=[];for(var g=0,_=u;g<_.length;g++){var x=_[g],m=void 0,v=x.__c;if("#script"==v)m={tag:"#script",text:x.__d};else{var b=[],x=x.__b;if(x)for(var y=0,w=x;y<w.length;y++)!function(e){var t,i,n,r,o,a,s,l,c,d,u=e.__c;"#script"==u?b.push({tag:"#script",text:e.__d}):(t=!(l=s=-1),i=e.__j,o=Number(i.width),n=i.rowspan,M.test(n)?h.__invalid=!0:n=Number(n)||1,r=i.colspan,M.test(r)?h.__invalid=!0:r=Number(r)||1,0<=o&&(s=o),0<=(o=Number(i.height))&&0!=(l=o)||(l=N(V.default.TABLE_ROWS_HEIGHT),t=!0),o=!0,s=E(s),l=E(l),i.style&&(a=z(i.style)).borderWidth?(o=0<parseInt(a.borderWidth))&&(p=!1):p=!(o=!0),c=[],(d=function(e){if(e)for(var t=0,i=e;t<i.length;t++){var n=i[t],r=n.__c,r=D[r];r?r({elements:c},n,f):d(n.__b)}})(e.__b),b.push({tag:u,width:s,height:l,rowspan:n,colspan:r,autoHeight:t,hasBorder:o,children:c}))}(w[y]);m={tag:v,cells:b}}h.rows.push(m)}h.hideBorder=p,C.default.__l(h)}L(d,t,i),e.elements.push(d)}},header:function(e,t,i){e.setHeader=!0,"page"!=i[t.__e].__c||(t=t.__j).height&&(e.page.header=E(t.height))},footer:function(e,t,i){e.setFooter=!0,"page"!=i[t.__e].__c||(t=t.__j).height&&(e.page.footer=E(t.height))},"#script":function(e,t,i){i=i[t.__e];i&&("page"==i.__c&&1==i.___||"td"==i.__c&&1<i.___)&&e.elements.push({id:S.default.guid("s_"),type:"#script",text:t.__d})}};t.default=function(e){var t=function(e){var t,i,n,r,o,a,s,l,c,d,u=e.length,f=0,h=0,p={___:0,__a:S.default.guid(),__b:[]},g={},_=e,x=[p];for(g[p.__a]=p;f<u;){if(t=1,"<"==_[0])if("?"==_[1])s={__c:"#xml",__d:c=(n=_.indexOf("?>"))<0?_:_.substring(0,n+2),__a:i=S.default.guid(),___:p.___+1,__e:p.__a},g[i]=s,p.__b.push(s),f+=d=c.length,t=0;else if("%"==_[1])s={__c:"#script",__d:c=(n=_.indexOf("%>"))<0?_:_.substring(0,n+2),__a:i=S.default.guid(),___:p.___+1,__e:p.__a},g[i]=s,p.__b.push(s),f+=d=c.length,t=0;else if("!"==_[1])c=(n=_.indexOf("]]>"))<0?_:_.substring(0,n+3),i=S.default.guid(),s={__c:"#cdata",__f:c,__d:c.slice(9,-3),__a:i,___:p.___+1,__e:p.__a},g[i]=s,p.__b.push(s),f+=d=c.length,t=0;else if("/"==_[1]){if(r=_.match(A)){var m=x.pop();if(r[1]!=m.__c)throw new Error('closed tag "'+r[1]+'" umatch opened tag "'+m.__c+'"');p=x[x.length-1],f+=d=r[0].length,t=0}}else(r=_.match(y))&&(o=r[1],f+=d=r[0].length,a=[],l={},r[2].replace(w,function(e,t,i){a.push({__g:t,__h:i||""}),l[t]=i}),m=r[3],i=S.default.guid(),s={__c:o,__i:a,__j:l,__b:[],__k:m,__a:i,___:p.___+1,__e:p.__a},g[i]=s,p.__b.push(s),m||(x.push(s),p=s),t=0);if(t&&(f+=d=(c=(n=_.indexOf("<"))<0?_:_.substring(0,n)).length,c.trim()&&(s={__c:"#text",__d:c,__a:i=S.default.guid(),___:p.___+1,__e:p.__a},p.__b.push(s))),h==f)throw new Error("bad input:"+_);_=_.substring(d),h=f}if(1<x.length)throw new Error("parsing failure:"+x[1].__c+" unclosed!");return{node:p,map:g}}(e),e=t.node,a=t.map,s={page:{},elements:[]},l=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t],r=n.__c,o=D[r];o&&o(s,n,a),n.__b&&"table"!=r&&l(n.__b)}};return l(e.__b),s.setHeader||(s.page.header=0),s.setFooter||(s.page.footer=0),delete s.setHeader,delete s.setFooter,s}}),define("cainiao/toxml",["../util/converter"],function(e,t,i){"use strict";t.__esModule=!0;function w(e){for(var t="\n";e--;)t+="\t";return t}function n(e,t,i){var n=w(t+1),t=w(t+2);return n+'<line style="lineType:'+e.type+";lineColor:#000;lineWidth:"+a(i?e.width:e.height)+";zIndex:"+e.zIndex+'"'+t+'startX="'+L(e.x)+'"'+t+'startY="'+L(e.y)+'"'+t+'endX="'+L(e.x+(i?0:e.width))+'"'+t+'endY="'+L(e.y+(i?e.height:0))+'"'+(i?t+'editor:_deg_="90"':"")+t+'editor:tip="'+e.tip+'">'+n+"</line>"}function r(e,t,i){var n=e.props,r=n._layouts,o=n._children,a=n.useCNStyle;a&&t--;var e=w(t+1),s=w(t+2),l=w(t+3),t='style="fontFamily:'+n.fontFamily+";";0!=n.rotate&&(t+="rotation:"+n.rotate+";"),1!=n.alpha&&(t+="alpha:"+n.alpha+";"),n.autoFontSize?t+="fontSize:auto;":8!=n.fontSize&&(t+="fontSize:"+n.fontSize+";"),""!==n.lineHeight[0]&&(t+="lineHeight:"+n.lineHeight[0]+("%"==n.lineHeight[1]?"%":"")+";"),n.fontStyle[0]&&(t+="fontItalic:true;"),n.fontStyle[1]&&(t+="fontUnderline:true;"),"left"!=n.align[0]&&(t+="align:"+n.align[0]+";"),"top"!=n.align[1]&&(t+="valign:"+n.align[1]+";"),"normal"!=n.fontWeight&&(t+="fontWeight:"+n.fontWeight+";"),"ltr"!=n.direction&&(t+="direction:"+n.direction+";"),"1"==n.color&&(t+="fontColor:#fff;backgroundColor:#000;"),n.letterSpacing&&(t+="letterSpacing:"+n.letterSpacing+";"),i&&(t+="orientation:vertical;"),t+='"';var c="",i="";n.alias&&(i=l+'editor:_printName_="'+n.alias+'"'),0===n.allowEdit&&(i+=l+'editor:component="true"');var d=s+"<text "+t+i+l+'editor:tip="'+n.tip+'">';if(o&&o.length)for(var u=0,f=o;u<f.length;u++)"#script"==(h=f[u]).tag?d+=l+h.text:"#cdata"==h.tag&&(d+=l+"<![CDATA["+n.text+"]]>");else d+=l+"<![CDATA["+n.text+"]]>";if(d+=s+"</text>",r&&r.length)for(var h,p=0,g=r;p<g.length;p++)"#script"==(h=g[p]).tag?c+=s+h.text:"text"==h.tag&&(c+=d);else c=d;return a?c:e+'<layout editor:_for_="'+Date.now()+'"'+s+'width="'+L(n.width)+'"'+s+'height="'+(n.autoHeight?0:L(n.height))+'"'+s+'left="'+L(n.x)+'"'+s+'top="'+L(n.y)+'"'+s+'style="zIndex:'+n.zIndex+'">'+c+e+"</layout>"}function o(e,t,i){var n=e.props,r=n._layouts,o=n._children,a="",s="",e=w(t+1),l=w(t+2),c=w(t+3),s="qrcode"==i?("maxicode"==n.type&&(a=c+'primary="'+n.primary+'"'+c+'schema="'+n.schema+'"'),"opacity:"+n.alpha+";"):"opacity:"+n.alpha+";hideText:"+!n.showText+";rotation:"+("vcode"==i?90:0)+";",d="",u=l+'<barcode type="'+n.type+'"'+c+'ratioMode="keepRatio"'+c+'style="'+s+'"'+a+c+'editor:tip="'+n.tip+'">';if(o&&o.length)for(var f=0,h=o;f<h.length;f++)"#script"==(p=h[f]).tag?u+=c+p.text:"#cdata"==p.tag&&(u+=c+"<![CDATA["+n.text+"]]>");else u+=c+"<![CDATA["+n.text+"]]>";if(u+=l+"</barcode>",r&&r.length)for(var p,g=0,_=r;g<_.length;g++)"#script"==(p=_[g]).tag?d+=l+p.text:"barcode"==p.tag&&(d+=u);else d=u;return e+'<layout editor:_for_="'+Date.now()+'"'+l+'width="'+L(n.width)+'"'+l+'height="'+L(n.height)+'"'+l+'left="'+L(n.x)+'"'+l+'top="'+L(n.y)+'"'+l+'style="zIndex:'+n.zIndex+'">'+d+e+"</layout>"}var e=e("../util/converter"),L=e.default.__i,a=e.default.__m,z=/^\s*<%[\s\S]*%>\s*$/,k={hline:function(e,t){e=e.props;return n(e,t,!1)},vline:function(e,t){e=e.props;return n(e,t,!0)},rect:function(e,t){var i=e.props,n=i._layouts,r=i._children,o="",e=w(t+1),a=w(t+2),s=w(t+3);1!=i.borderWidth&&(o+="borderWidth:"+i.borderWidth+";"),"solid"!=i.borderType&&(o+="borderStyle:"+i.borderType+";"),i.fill&&(o+="fillColor:#000;");var l="";(o=o&&' style="'+o+'"')?o+=s+'editor:tip="'+i.tip+'"':o=' editor:tip="'+i.tip+'"';var c=a+"<rect"+o+">";if(r&&r.length){for(var d=0,u=r;d<u.length;d++)"#script"==(f=u[d]).tag&&(c+=s+f.text);c+=a}if(c+="</rect>",n)for(var f,h=0,p=n;h<p.length;h++)"#script"==(f=p[h]).tag?l+=a+f.text:"rect"==f.tag&&(l+=c);else l=c;return e+'<layout editor:_for_="'+Date.now()+'"'+a+'width="'+L(i.width)+'"'+a+'height="'+L(i.height)+'"'+a+'left="'+L(i.x)+'"'+a+'top="'+L(i.y)+'"'+a+'style="zIndex:'+i.zIndex+'">'+l+e+"</layout>"},image:function(e,t){var i=e.props,n=i._layouts,r="",e=w(t+1),o=w(t+2),t=w(t+3);0!=i.rotate&&(r+="rotation:"+i.rotate+";"),1!=i.alpha&&(r+="alpha:"+i.alpha+";"),r=r&&t+'style="'+r+'"';var a=o+'<image src="'+i.src+'"'+r+" "+t+'allowFailure="false"'+t+'editor:tip="'+i.tip+'"/>',s="";if(n)for(var l=0,c=n;l<c.length;l++){var d=c[l];"#script"==d.tag?s+=o+d.text:"image"==d.tag&&(s+=a)}else s=a;return e+'<layout editor:_for_="'+Date.now()+'"'+o+'width="'+L(i.width)+'"'+o+'height="'+L(i.height)+'"'+o+'left="'+L(i.x)+'"'+o+'top="'+L(i.y)+'"'+o+'style="zIndex:'+i.zIndex+'">'+s+e+"</layout>"},htext:function(e,t){return r(e,t,!1)},vtext:function(e,t){return r(e,t,!0)},qrcode:function(e,t){return o(e,t,"qrcode")},hcode:function(e,t){return o(e,t,"hcode")},vcode:function(e,t){return o(e,t,"vcode")},table:function(e,t){var i=e.props,n=i._layouts,r=w(t+1);i.splitable&&t++;var e=w(t+1),o=w(t+2),a=w(t+3),s=w(t+4),l=o+"<table";l+=' style="borderWidth:0;cellBorderWidth:0;"',l+=' editor:tip="'+i.tip+'">';for(var c=0,d=i.rows;c<d.length;c++){var u=d[c];if("#script"==u.tag)l+=""+a+u.text;else if("tr"==u.tag){l+=a+"<tr>";for(var f=0,h=u.cells;f<h.length;f++)if("#script"==(v=h[f]).tag)l+=""+s+v.text;else if("td"==v.tag)if(l+=s+'<td width="'+L(v.width)+'"',v.autoHeight?l+=' height="0"':l+=' height="'+L(v.height)+'"',v.rowspan&&(1<v.rowspan||i.__invalid&&z.test(v.rowspan))&&(l+=' rowspan="'+v.rowspan+'"'),v.colspan&&(1<v.colspan||i.__invalid&&z.test(v.colspan))&&(l+=' colspan="'+v.colspan+'"'),l+=' style="borderWidth:'+(v.hasBorder?1:0)+'pt">',v.children&&v.children.length){for(var p=0,g=v.children;p<g.length;p++){var _=g[p],x=k[_.type];x&&(l+=x(_,t+4))}l+=s+"</td>"}else l+="</td>";l+=a+"</tr>"}}l+=o+"</table>";var m="";if(n)for(var v,b=0,y=n;b<y.length;b++)"#script"==(v=y[b]).tag?m+=o+v.text:"table"==v.tag&&(m+=l);else m=l;n=o+'height="'+L(i.height)+'"';i.splitable&&(n="");e=e+'<layout editor:_for_="'+Date.now()+'"'+o+'width="'+L(i.width)+'"'+n+o+'left="'+L(i.x)+'"'+o+'top="'+L(i.y)+'"'+o+'style="zIndex:'+i.zIndex+'" orientation="vertical">'+m+e+"</layout>";return i.splitable?r+'<layout orientation="vertical">'+e+r+"</layout>":e},"#script":function(e,t){return""+w(t+1)+e.text}};t.default=function(e){var t=e.page,i='<?xml version="1.0" encoding="UTF-8"?>\n',n=t.splitable?' splitable="true"':"";i+='<page xmlns="'+t.xmlns+'"\n    xmlns:xsi="'+t["xmlns:xsi"]+'"\n    xsi:schemaLocation="'+t["xsi:schemaLocation"]+'"\n    xmlns:editor="'+t["xmlns:editor"]+'"\n    width="'+L(t.width)+'" height="'+L(t.height)+'"'+n+">",0<t.header&&(i+=w(1)+'<header height="'+L(t.header)+'"></header>');for(var r=0,o=e.elements;r<o.length;r++){var a,s=o[r];"#script"!=s.type&&s.props.barred||(a=k[s.type])&&(i+=a(s,0))}e=L(t.footer);return 9<e?i+=w(1)+'<footer height="'+L(t.footer)+'">\n        <layout left="10" top="0" width="60" height="10" style="zIndex:1;overflow:visible;">\n                <pageIndex format="\u7b2ccurrentPageNumber\u9875 \u5171totalPageNumber\u9875" style="fontSize:12;fontFamily:Arial">\n                </pageIndex>\n            </layout>\n        </footer>':0<e&&(i+=w(1)+'<footer height="'+L(t.footer)+'"></footer>'),i+="\n</page>"}}),define("util/converter",["$","magix"],function(e,t,i){"use strict";t.__esModule=!0;function n(e,t){return void 0===t&&(t=2),Number(e.toFixed(t))}var r=e("$"),o=e("magix"),a={"<":"&lt;",">":"&gt;","&":"&amp;"};t.default={__jc:function(e){return 0|e.toFixed(0)},__aC:n,__i:function(e){var t=o.State.get("__j"),t=.26458333331386*Number(e)/t;return n(t)},__h:function(e){var t=o.State.get("__j");return n(3.7795275593333*Number(e)*t)},__k:function(e){return n(1.3333333333333*e*o.State.get("__j"))},__m:function(e){return n(.75*e/o.State.get("__j"))},__bf:function(e){var t=e.x,i=e.y,e=r.default("#stage_stage").offset();return{x:t-=e.left,y:i-=e.top}},__aF:function(e,t){var i=t.x,n=t.y,e=t.find?e.parents('[data-role="table-cell"]'):e,e=(e=e.length?e.eq(0):r.default("#stage_stage")).offset();return{x:i-=e.left,y:n-=e.top}},__bO:function(e){var t=e.x,i=e.y,n=r.default("#stage_outer"),e=n.offset();return{x:t=t-e.left+n.prop("scrollLeft"),y:i=i-e.top+n.prop("scrollTop")}},__aX:function(e){var t=e.x,i=e.y,n=r.default("#stage_stage").offset(),e=r.default("#stage_outer").offset();return{x:t+=n.left-e.left,y:i+=n.top-e.top}},__bQ:function(e){var t=e.x,i=e.y,n=r.default("#stage_stage").offset(),e=r.default("#stage_outer").offset();return{x:t+=e.left-n.left,y:i+=e.top-n.top}},__eY:function(e){return e.replace(/[<>&]/g,function(e){return a[e]}).replace(/ /g,"&nbsp;").replace(/(?:\r\n|\r|\n)/g,"<br />")},__f_:function(e){return e.replace(/&nbsp;/g," ").replace(/<br>/g,"\r\n").replace(/<br \/>/g,"\r\n").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/<div>([\s\S\n]*?)<\/div>/g,"\r\n$1")}}}),define("util/table",["../cainiao/const","magix"],function(e,t,i){"use strict";t.__esModule=!0;function _e(e,t){void 0===t&&(t={});for(var i,n={},r=t.startRow,o=t.endRow,a=t.column,s=function(e,t,i){n[e]||(n[e]={}),n[e][t]=i},l=function(e,t,i){return void 0!==r&&e<r?1:void 0===a?0:!(a==t)&&!(t<a&&a<t+i)},c=0,d=0,u=0,f=[];;){var h=e[c];if(!h||void 0!==o&&o<c)break;var p,g={row:c,col:d,cell:u},_=void 0;p=d,(_=n[i=c]?n[i][p]:0)?(l(c,d,1)||(g.ref=_,f.push(g)),d++):h.cells&&h.cells[u]?(_=(p=h.cells[u]).colspan||1,p=p.rowspan||1,g.rowspan=p,g.colspan=_,(1<p||1<_)&&function(e,t,i,n){for(var r={row:e,cell:t},o=t+1;o<t+n;o++)s(e,o,r);for(var a=e+1;a<e+i;a++)for(o=t;o<t+n;o++)s(a,o,r)}(c,d,p,_),l(c,d,_)||(g.data=!0,g.td=h.cells[u],f.push(g)),d++,u++):(0===c&&(f.$c=d),c++,u=d=0)}return f}function K(e){e.id||(e.id=n.default.guid("td_"))}function xe(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i],o=[];if("tr"==r.tag){var a={tag:r.tag,cells:o};if(r.cells)for(var s=0,l=r.cells;s<l.length;s++){var c=l[s];"td"==c.tag&&o.push(c)}t.push(a)}}return t}function f(e,t,i,n){for(var r=null;;){var o=e[i+=n];if(!o)break;if(o.ref&&(o=o.ref),o.row!=t.row||o.cell!=t.cell){r=o;break}}return r}function C(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n.cells)for(var r=0,o=n.cells;r<o.length;r++){var a=o[r];if("td"==a.tag&&a.id==t.id)return i}}return-1}function T(e,t){var i,n=-1,r=e.cells,o=0;if(r){for(var a=0,s=0;o<r.length;o++){var l=r[o];if("td"==l.tag){if(t==a){n=o,i=l;break}a++,s=o}}-1==n&&(n=t==1+a?s+1:o)}return{index:n,cell:i}}function me(e,t){for(var i=-1,n=0,r=0,o=0;r<e.length;r++)if("tr"==e[r].tag){if(n==t){i=r;break}n++,o=r}return-1==i&&(i=n+1==t?o+1:r),i}function _(e,t){for(var i={tag:"tr",cells:[]},n=0;n<e;n++)i.cells.push({tag:"td",hasBorder:!0,height:t});return i}function w(e,t){var i=e.rowIndex,n=e.colIndex,r=e.rows,o=!1;if(t){K(t);for(var a=0;a<r.length;a++){var s=r[a],l=!1;if("tr"==s.tag&&s.cells)for(var c=0;c<s.cells.length;c++){var d=s.cells[c];if("td"==d.tag&&d.id==t.id){i==a&&n==c||(o=!0,e.rowIndex=a,e.colIndex=c),l=!0;break}}if(l)break}}return o}function A(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var i=Math.floor(e/t);return{newCellsSpan:i,updatedSpan:e-i*t+i}}function L(e,t){var i=e.rows,n=e.rowIndex,r=e.colIndex,o="left"==t||"right"==t;if(t=(o?function(e,t){var i=e.rows,n=e.rowIndex,e=e.colIndex,r=i[n].cells,o=e,a=null,e=r[o];if("left"==t){for(;0<=--o;)if((c=r[o])&&"td"==c.tag){a=c;break}}else if("right"==t)for(;++o<r.length;)if((c=r[o])&&"td"==c.tag){a=c;break}if(!a)return null;var s="right"==t?e:a,l="right"==t?a:e,i=xe(i);K(s),K(l);for(var c,e=C(i,e),d=-1,u=-1,f=0,h=_e(i,{startRow:e,endRow:e});f<h.length;f++)(c=h[f]).data&&(c.td.id==s.id?d=c.col:c.td.id==l.id&&(u=c.col));return d+(s.colspan||1)==u?a:null}:function(e,t){var i=e.rows,n=e.rowIndex,r=e.colIndex,e=xe(i),o=i[n].cells[r];K(o);n=C(e,o);if(!("down"==t&&n==e.length-1||"up"==t&&0===n)){for(var r=o.rowspan||1,a="down"==t?n+r:n,e=_e(e,{endRow:a}),s=-1,l=null,c=0,d=e;c<d.length;c++)(h=d[c]).data&&h.td.id==o.id&&(s=h.col);for(var u=0,f=e;u<f.length;u++){var h=f[u];if(h.data&&h.col==s){var p=h.rowspan||1;if("down"==t&&h.row==a||"up"==t&&h.row+p==a){l=h.td;break}}}return l}})(e,t)){o=o?"rowspan":"colspan";return(i[n].cells[r][o]||1)==(t[o]||1)?t:void 0}}function x(e,t){var i=e.rows,n=e.rowIndex,e=e.colIndex;if(!(n<0||e<0)){var r=i[n].cells[e];K(r);for(var o=xe(i),a=_e(o),s=null,l=0;l<a.length;l++){var c,d,u=a[l];if(u.data)if(o[u.row].cells[u.cell].id==r.id){"left"==t?0<u.col&&(c=f(a,u,l,-1))&&(s=o[c.row].cells[c.cell]):"right"==t?u.col<a.$c-1&&(d=f(a,u,l,1))&&(s=o[d.row].cells[d.cell]):"top"==t?(c=f(a,u,l,-a.$c))&&(s=o[c.row].cells[c.cell]):"bottom"==t&&(d=f(a,u,l,a.$c))&&(s=o[d.row].cells[d.cell]);break}}return s}}var ve=e("../cainiao/const"),n=e("magix");t.default={__fJ:function(e,t){var i=!1;return"r"==t?i=this.__jd(e):"c"==t?i=this.__je(e):"rt"==t?i=this.__jf(e,0):"rb"==t?i=this.__jf(e,1):"cb"==t?i=this.__jg(e,0):"ca"==t&&(i=this.__jg(e,1)),i&&this.__l(e,{fsize:e.lockSize}),i},__fV:function(e,t){var i=!1;return"sh"==t?i=this.__jh(e,2):"sv"==t?i=this.__ji(e,2):"ml"==t?i=this.__jj(e,"left"):"mr"==t?i=this.__jj(e,"right"):"mu"==t?i=this.__jj(e,"up"):"md"==t&&(i=this.__jj(e,"down")),i&&this.__l(e),i},__jj:function(e,t){var i=!1,n="left"==t||"right"==t,r=L(e,t);if(r){var o=e.rows,a=e.rowIndex,s=e.colIndex,l=o[a].cells[s],a="right"==t||"down"==t,s=a?l:r,c=a?r:l;n?s.width+=c.width:s.height+=c.height,K(c),K(s);var d=s.children||(s.children=[]),t=c.children;if(t)for(var u=0,f=t;u<f.length;u++){var h=f[u];h.zIndex=d.length+1,d.push(h)}for(var a=C(o,c),p=o[a].cells,g=!1,t=xe(o),_=C(t,c),x=p.length;x--;)"td"==(m=p[x]).tag&&(m.id==c.id?p.splice(x,1):g=!0);n=n?"colspan":"rowspan",l=l[n]||1,r=r[n]||1;if(s[n]=l+r,!g){for(var m,v,b=0,y=_e(t,{endRow:_});b<y.length;b++)(m=y[b]).data&&(v=m.rowspan||1,m.row+v-1>=_&&--m.td.rowspan);o.splice(a,1)}w(e,s),i=!0}return i},__jh:function(e,t){var i=e.rows,n=e.rowIndex,r=e.colIndex,o=i[n].cells;if(o){var a=!1,s=o[r],e=s.colspan||1,l=s.rowspan||1,c=s.width/t;if(1<e){s.width=-1;var n=A(e,t),d=n.newCellsSpan,n=n.updatedSpan;s.colspan=n;for(var u=t<e?t-1:e-1,f=0;f<u;f++){var h={tag:"td",hasBorder:!0,width:-1};1<d&&(h.colspan=d),1<l&&(h.rowspan=l),o.splice(r+1,0,h)}a=!0}if(e<t){s.width=c;var p=t-e,i=xe(i),i=_e(i);K(s);for(var g=-1,_=0,x=i;_<x.length;_++)if((m=x[_]).data&&m.td.id==s.id){g=m.col;break}for(var m,v,b,y,w=0,L=i;w<L.length;w++)(m=L[w]).data&&(v=m.td,b=s.id!=v.id&&m.col==g,y=m.col<g&&m.colspan+m.col>g,(b||y)&&(v.colspan||(v.colspan=1),v.colspan+=p));for(f=0;f<p;f++){h={tag:"td",hasBorder:!0,width:c};1<l&&(h.rowspan=l),o.splice(r+1,0,h)}a=!0}return a}},__ji:function(e,t){var i=e.rows,n=e.rowIndex,r=e.colIndex,o=i[n].cells;if(o){var e=!1,a=o[r],s=a.colspan||1,n=a.rowspan||1,o=xe(i);K(a);var l=C(o,a),c=a.height/t;if(1<n){a.height=-1;var d=_e(o,{startRow:l,endRow:l+n-1}),r=A(n,t),u=r.newCellsSpan,f=r.updatedSpan;a.rowspan=f;for(var h=-1,p=0,g=d;p<g.length;p++)if((y=g[p]).data&&y.td.id==a.id){h=y.col;break}for(var _=0,x=d;_<x.length;_++){var m=(y=x[_]).col,v=y.row,b=y.cell;l+f<=v&&m===h&&(v+l+f)%u==0&&(m=i[V=me(i,v)],v=T(m,b).index,m.cells.splice(v,0,{tag:"td",colspan:s,height:c,hasBorder:!0,width:b.width,rowspan:u}))}e=!0}if(n<t){a.height=c;for(var y,w,L,z=t-n,k=0,S=d=_e(o,{startRow:0,endRow:l});k<S.length;k++)(y=S[k]).data&&(w=y.td,L=y.rowspan||1,w.id!=a.id&&y.row+L>l&&(L=L+z,y.td.rowspan=L));var V=me(i,l),d={tag:"tr",cells:[{tag:"td",hasBorder:!0,width:a.width,colspan:s}]};i.splice(V+1,0,d),e=!0}return e}},__je:function(e){var t=e.rows,i=e.rowIndex,n=e.colIndex,r=t[i].cells;if(r){i=!1;i=(i=x(e,"left"))||x(e,"right");var o=r[n],n=xe(t);K(o);n=_e(n);if(!(n.$c<=1)){for(var a,s=0,l=n;s<l.length;s++)if((c=l[s]).data&&c.td.id==o.id){a=c.col;break}for(var c,d=0,u=n;d<u.length;d++)if((c=u[d]).data)if(c.col<=a&&1<c.colspan&&c.col+c.colspan>a)c.td.colspan--;else if(c.col==a){var f=t[me(t,c.row)].cells;K(c.td);for(var h=f.length;h--;)if(f[h].id==c.td.id){f.splice(h,1);break}}return i?w(e,i):(e.rowIndex=-1,e.colIndex=-1),!0}}},__jd:function(e){var t=e.rows,i=e.rowIndex,n=e.colIndex,r=t[i].cells;if(r){i=!1;i=(i=x(e,"top"))||x(e,"bottom");r=r[n],n=xe(t);if(!(n.length<=1)){K(r);for(var o,a=C(n,r),r=_e(n,{endRow:a}),s={},l=0,c=r;l<c.length;l++)(d=c[l]).data&&(d.row===a?d.rowspan&&1<d.rowspan&&(s[d.col]={td:d.td,rowspan:d.rowspan-1}):d.row<a&&d.row+d.rowspan>a&&d.td.rowspan--);r=_e(n,{endRow:a+1,startRow:a+1});for(var d,u=t[me(t,a)].cells,f=0,h=r;f<h.length;f++)if(s[(d=h[f]).col]){var p=s[d.col],g=p.td,p=p.rowspan;if(g.children=[],o){K(o);for(var _=u.length;_--;)if(u[_].id==o.id){u.splice(_,0,g);break}}else t[me(t,d.row)].cells.unshift(g);g.rowspan=p,o=g}else o=d.td;r=me(t,a);return t.splice(r,1),i?w(e,i):(e.rowIndex=-1,e.colIndex=-1),!0}}},__jf:function(e,t){var i=e.rows,n=e.rowIndex,r=e.colIndex,o=i[n].cells;if(o){var a=o[r],s=xe(i);K(a);var l=C(s,a),n=_e(s,{startRow:l,endRow:l}),o=n.$c,r=0===t;if(0===(t+=l)||t===s.length){var c=_(o,a.height),o=me(i,0===t?t:t+1);return i.splice(o,0,c),r&&e.rowIndex++,!0}for(var d=0,u=0,f=_e(s,{endRow:t});u<f.length;u++){var h,p,g=f[u];g.data&&(h=g.row<t,p=g.row+g.rowspan>t,h&&p&&g.td.rowspan++,g.row===t&&(d+=g.colspan||1))}c=_(d,a.height),a=me(i,t);return i.splice(a,0,c),r&&e.rowIndex++,!0}},__jg:function(e,t){var i=e.rows,n=e.rowIndex,r=e.colIndex,o=i[n].cells;if(o){var a=o[r],s=xe(i);K(a);for(var n=C(s,a),o=_e(s,{startRow:n,endRow:n}),r=o.$c,n=0===t,l=0,c=o;l<c.length;l++){var d=c[l];if(d.data&&d.td.id==a.id){t=d.col+t;break}}if(0===t||t===r){for(var u=0,f=i;u<f.length;u++)"tr"==(x=f[u]).tag&&(v=T(x,0===t?t:t+1).index,x.cells.splice(v,0,{tag:"td",hasBorder:!0,width:a.width}));return n&&e.colIndex++,!0}for(var h={},p=0,g=_e(s,{column:t});p<g.length;p++){var _=g[p];if(1!==h[_.row]){var x=i[me(i,_.row)],m=T(x,_.cell),v=m.index,m=m.cell;if(_.col==t)x.cells.splice(v,0,{tag:"td",hasBorder:!0,width:a.width});else if(m&&m.colspan++,(h[_.row]=1)<_.rowspan)for(var b=_.row+1;b<_.row+_.rowspan;b++)h[b]=1}}return n&&e.colIndex++,!0}},__fF:function(e,t){t=x(e,t);return w(e,t)},__fI:function(e,t,i){for(var n=0,r=0,o=null,a=0,s=e;a<s.length;a++){var l=s[a];if("tr"==l.tag){var c=!1;if(l.cells&&t===n)for(var d=0,u=l.cells;d<u.length;d++)if("td"==u[d].tag){if(i===r){c=!0,o=l.cells[r];break}r++}if(c)break;n++}}return o},__l:function(e,t){if(void 0===t&&(t={}),!e.__invalid){for(var i=t.col,n=t.share,r=t.lw,o=t.fsize,a=t.nextRow,s=t.nextCol,l=t.changeType,c=e.rows,d=xe(c),u=_e(d),f=[],h=[],p=0,g=u;p<g.length;p++)(le=g[p]).data&&(K=(le.colspan||1)-1,C=(le.rowspan||1)-1,(void 0===h[le.col]||h[le.col]>K)&&(h[le.col]=K),(void 0===f[le.row]||f[le.row]>C)&&(f[le.row]=C));for(var _=0,x=u;_<x.length;_++)if((le=x[_]).data){var m=le.td;if(1<(K=m.colspan))for(var v=le.col;v<le.col+K;v++)m.colspan-=h[v]||0;if(1<(C=m.rowspan))for(var b=m.height/C,v=le.row;v<le.row+C;v++)m.rowspan-=f[v]||0,m.height-=(f[v]||0)*b}for(var y={},w={},L=0,z=0,k=0,S=u=_e(d);k<S.length;k++)if((le=S[k]).col>z&&(z=le.col),0==le.col&&(y[le.row]=(y[le.row]||0)+(w[le.row]||0)),le.data){for(var V=y[le.row]||0,K=le.td.colspan||1,C=le.td.rowspan||1,v=le.row+1;v<le.row+C;v++)w[v]=(w[v]||0)+K;y[le.row]=V+K}for(var T=0;T<d.length;){var A=z-(V=y[T]||0)+1;if(0<A)for(var E=me(c,T);0<A;)L=1,c[E].cells.push({tag:"td",hasBorder:!0,width:-1,height:-1}),A--;T++}L&&(d=xe(c),u=_e(d));for(var M,N=[],I=[],D=!1,O=!1,B=0,P=u;B<P.length;B++)(le=P[B]).data&&(j=le.cell,M=le.col,he=d[le.row].cells[j],le.colspan&&1!=le.colspan||(void 0===N[M]||he.width>N[M]&&!D||i&&i.id==he.id)&&(D=D||i&&i.id==he.id,N[M]=he.width),le.rowspan&&1!=le.rowspan||(void 0===I[le.row]||he.height>I[le.row]&&!O||i&&he.id==i.id)&&(O=O||i&&he.id==i.id,I[le.row]=he.height));for(var R=0,H=u;R<H.length;R++)if((le=H[R]).data){var j=le.cell,W=le.col;if(0<=(he=d[le.row].cells[j]).width&&1<le.colspan){for(var F=0,X=0,v=W;v<W+le.colspan;v++)void 0!==N[v]&&0<=N[v]&&(F+=N[v],X++);if(X<le.colspan)for(var $=Math.max(he.width-F,0)/(le.colspan-X),v=W;v<W+le.colspan;v++)(void 0===N[v]||N[v]<0)&&(N[v]=$);else if(F<he.width&&(!i||i.id==he.id)||F>he.width&&i&&i.id==he.id)for(v=W;v<W+le.colspan;v++)N[v]=0<F?N[v]/F*he.width:he.width/le.colspan}if(0<=he.height&&1<le.rowspan){for(var U=0,q=0,v=le.row;v<le.row+le.rowspan;v++)void 0!==I[v]&&0<=I[v]&&(U+=I[v],q++);if(q<le.rowspan)for(b=Math.max(0,he.height-U)/(le.rowspan-q),v=le.row;v<le.row+le.rowspan;v++)(void 0===I[v]||I[v]<0)&&(I[v]=b);else if(U<he.height&&(!i||i.id==he.id)||U>he.height&&i&&i.id==he.id)for(v=le.row;v<le.row+le.rowspan;v++)I[v]=0<U?I[v]/U*he.height:he.height/le.rowspan}}i&&e.lockSize&&("row"==l&&(C=i.rowspan||1,I[i.row+C]=a),"col"==l&&(K=i.colspan||1,N[i.col+K]=s));for(var G=0,Y=0,Z=0,Q=N;Z<Q.length;Z++)0<=($=Q[Z])&&(G+=$,Y++);for(var J=0,ee=0,te=0,ie=I;te<ie.length;te++)0<=(b=ie[te])&&(J+=b,ee++);if(Y<N.length){$=ve.default.TABLE_CELLS_WIDTH;G<e.width&&($=(e.width-G)/(N.length-Y));for(v=N.length;v--;)N[v]<0&&(N[v]=$)}else if((r||o)&&G>e.width||o&&G<e.width)for(v=N.length;v--;)N[v]=N[v]/G*e.width;if(ee<I.length){b=ve.default.TABLE_ROWS_HEIGHT;J<e.height&&(b=(e.height-J)/(I.length-ee));for(v=I.length;v--;)I[v]<0&&(I[v]=b)}else if(o&&(J>e.height||J<e.height))for(v=I.length;v--;)I[v]=I[v]/J*e.height;for(var ne=G=0,re=N;ne<re.length;ne++)G+=$=re[ne];for(var oe=J=0,ae=I;oe<ae.length;oe++)J+=b=ae[oe];e.width=G,e.height=J;var se=!1;if(n){if("x"==n)for($=G/N.length,v=N.length;v--;)1e-4<Math.abs(N[v]-$)&&(se=!0,N[v]=$);if("y"==n)for(b=J/I.length,v=I.length;v--;)1e-4<Math.abs(I[v]-b)&&(se=!0,I[v]=b)}for(var le,ce=null,de=0,ue=0,fe=u;ue<fe.length;ue++){if((le=fe[ue]).data){var he,j=le.cell,pe=le.row,ge=le.col,C=(he=d[pe].cells[j]).rowspan||1,K=he.colspan||1;he.row=pe;for($=0,b=0,v=he.col=ge;v<ge+K;v++)$+=N[v];for(v=pe;v<pe+C;v++)b+=I[v];ce&&0<ge&&(ce.ref&&(ce=ce.ref),he.left={row:ce.row,col:ce.cell}),0<pe&&((ce=u[de-N.length]).ref&&(ce=ce.ref),he.top={row:ce.row,col:ce.cell}),he.hasRight=!e.lockSize||ge+K<N.length,he.hasBottom=!e.lockSize||pe+C<I.length,he.hasTop=0<pe,he.width=$,he.height=b}ce=le,de++}return t&&(t.colWidths=N,t.rowHeights=I),se}}}}),define("util/transform",[],function(e,t,i){"use strict";t.__esModule=!0;function n(e,t){return e=e.props,t=t.props,e.zIndex-t.zIndex}var r={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7};t.default={__aG:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},__az:function(e,t){var i=e.x,n=e.y,r=e.width,o=e.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(o,2))/2,s=r?Math.round(180*Math.atan(o/r)/Math.PI):0,l=180-t-s,c=s-t,d=90-t,u=t,e=r/2,s=o/2,t=i+e,r=n+s,o={x:t+a*Math.cos(l*Math.PI/180),y:r-a*Math.sin(l*Math.PI/180)},i={x:t+s*Math.cos(d*Math.PI/180),y:r-s*Math.sin(d*Math.PI/180)},n={x:t+a*Math.cos(c*Math.PI/180),y:r-a*Math.sin(c*Math.PI/180)},d={x:t+e*Math.cos(u*Math.PI/180),y:r+e*Math.sin(u*Math.PI/180)},l={x:t-a*Math.cos(l*Math.PI/180),y:r+a*Math.sin(l*Math.PI/180)},s={x:t-s*Math.sin(u*Math.PI/180),y:r+s*Math.cos(u*Math.PI/180)},a={x:t-a*Math.cos(c*Math.PI/180),y:r+a*Math.sin(c*Math.PI/180)},c={x:t-e*Math.cos(u*Math.PI/180),y:r-e*Math.sin(u*Math.PI/180)},t=Math.min(o.x,n.x,l.x,a.x),r=Math.max(o.x,n.x,l.x,a.x),e=Math.min(o.y,n.y,l.y,a.y),u=Math.max(o.y,n.y,l.y,a.y);return{point:[o,i,n,d,l,s,a,c],width:r-t,height:u-e,left:t,right:r,top:e,bottom:u}},__aA:function(e,t){var i=r[t],t=i-4;return t<0&&(t=i+4),{current:{index:i,point:e[i]},opposite:{index:t,point:e.slice(t,t+1)[0]}}},__jk:function(e,t){var i=e.x,n=e.y,r=e.width,o=e.height,a=e.scale,s={x:0,y:0},l=r*(a.x-1),c=o*(a.y-1),e=r+l,a=o+c,l=i-l/2,c=n-c/2;return t&&(n=[{x:i,y:n},{x:i+r,y:n},{x:i+r,y:n+o},{x:i,y:n+o}],o=[{x:l,y:c},{x:l+e,y:c},{x:l+e,y:c+a},{x:l,y:c+a}],s.x=n[t].x-o[t].x,s.y=n[t].y-o[t].y),{x:l+s.x,y:c+s.y,width:e,height:a}},__aB:function(e,t,i,n){var r=this.__jk({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),o=r.width,t=r.height,r=this.__az(r,e.rotate),e=i.point[n].x-r.point[n].x+r.left,n=i.point[n].y-r.point[n].y+r.top;return{left:e+r.width/2-o/2,top:n+r.height/2-t/2,width:o,height:t}},__jl:function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];"#script"===r.type||r.props.barred||t.push(r)}return t},__ba:function(e){return this.__jl(e).sort(n)},__bp:function(e,t){var i=e.x,n=e.y,r=e.width,o=e.height;if(0==r)return{x:i,y:n};e=i+r/2,i=n+o/2,n=Math.sqrt(r*r/2/2+o*o/2/2),t=180*Math.atan(o/r)/Math.PI+t+180;return{x:e+n*Math.cos(t*Math.PI/180),y:i+n*Math.sin(t*Math.PI/180)}}}}),define("i18n/en-us",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={_en:"Printer Designer",_dm:"Background",_dp:"Bg Size",_dq:"Auto",_dr:"Use Page",_ds:"Use Background",_do:"Clear",_bu:"Property",_bv:"Component Tree",_bx:"Use Original Size",_by:"Divide Table Width",_bz:"Divide Table Height",_bw:"Type",__bs:"Get image size error. Try again~~",_bh:"Press drag sort element z index",_bi:"Delete element",__eH:"Auto height",_V:"XML Code",_eo:"Save",_W:"Cancel",_gi:"Confirm",_X:"Apply",_bk:"Print",__Y:"Select All",__Z:"Copy",__a_:"Cut",__aa:"Paste",__ab:"Move Up",__ac:"Move Down",__ad:"To Top",__ae:"To Bottom",__af:"Delete",__ag:"Add Rows Above",__ah:"Add Rows Below",__ai:"Delete The Rows",__aj:"Add Cols Before",__ak:"Add Cols After",__al:"Delete The Cols",_cU:"Redo",_cT:"Undo",_cV:"New",_cy:"Templates",__cA:"Clear content and set a new page?",_d_:"Align left",_db:"Align right",_dc:"Align top",_de:"Align bottom",_cX:"Stage horizontal centers(use each element center when shift key pressed)",_cW:"Stage vertical centers(use each element center when shift key pressed)",_dd:"Align vertical centers",_da:"Align horizontal centers",_dj:"Paper Size",_dt:"Paging Print",_du:"Papers",_dx:"Paper setting",_dv:"Zoom-in",_dw:"Zoom-out",_dC:"Expand toolbox",_dD:"Shrink toolbox",_dE:"Searching...",_fR:"Left",_fS:"Right",_fT:"Above",_fU:"Below",_hA:"Left",_hB:"Center",_hC:"Right",_hD:"Top",_hE:"Middle",_hF:"Bottom",_hG:"Italic",_hH:"Underline",_iq:"Broswer Images",_iG:"Images",__ja:"Image URL",__iu:"Are you sure you want to delete this item?",__gg:"Tip",_hy:"Search...",__eq:"X",__er:"Y",__ey:"Lock",__ez:"Name",__eu:"Alpha",__fe:"Width",__ff:"Height",__eJ:"Rotate",__fO:"V-Line",__eA:"H-Line",__eB:"Length",__eC:"Width",__eD:"Style",___:"Solid",__a:"Dashed",__b:"Dotted",__fl:"Rectangle",__fp:"Border",__fo:"Bd-Width",__fq:"Fill",__fm:"Width",__fn:"Height",__fN:"V-Code",__ep:"H-Code",__fh:"QRCode",__es:"Width",__et:"Height",__fi:"Width",__fj:"Height",__ev:"Content",__ex:"Show Text",__ew:"Category",__fk:"Schema",__fd:"Image",_dn:"Choose",__fg:"Orig-Size",__fr:"Table",__fz:"Cell Pick",__fB:"Cell Size",__fA:"Op-Cell",__fw:"Paging",__fv:"Bd-Hidden",__fs:"Width",__ft:"Height",__fx:"Div-Width",__fy:"Div-Height",__fu:"Lock Size",__fC:"Cell Border",__fD:"Show border",__fE:"Hide border",__eE:"H-Text",__fP:"V-Text",__eX:"Alias",__eW:"Content",__eV:"Align",__eU:"Style",__eT:"Direction",__eS:"Weight",__eP:"Color",__eQ:"Default",__eR:"White On Black",__eO:"Line Height",__eN:"Lt-Spacing",__eL:"Font Size",__eM:"Auto FS",__eK:"Font Family",__eF:"Width",__eG:"Height",__eI:"CN Style",_fc:"Please input text",__c:"Simsun",__d:"Simhei",__g:"KaiTi",__e:"Microsoft YaHei",__f:"Microsoft JhengHei",__fM:"Delete table",_aJ:"Press move or use context menu",_ga:"H-Split Cell",_gb:"V-Split Cell",_g_:"Merge Down",_fZ:"Merge Up",_fX:"Merge Left",_fY:"Merge Right",_M:"Delete line",_N:"Press move line position",_cY:"Vertical layout(use element center to align when shift key pressed.Average edit zone when ctrl pressed)",_cZ:"Horizontal layout(use element center to align when shift key pressed.Average edit zone when ctrl pressed)",_df:"Same width as select max width",_dg:"Same width as select min width",_dh:"Same height as select max height",_di:"Same height as select min height",_iI:"Paste Image",_iJ:"Dragdrop(multiple)",_iK:"Click Upload",_iH:"Search images",_iL:'Can not find images title contains "{0}"',__iy:"Not detected images. Please recopy and paste",_cz:"No templates",__eg:"Processing...",__ef:"missing temp_id or biz_id",_aK:"[unsaved {0}]",_aL:"[saving...]",__ed:"Detected unsaved history,recover it?",__dP:"Unsaved,quit?",_dk:"Header",_dl:"Footer",_aM:"Error\uff1a",_bj:"Print Settings"}}),define("i18n/index",["magix","./zh-cn","./en-us"],function(e,t,i){"use strict";t.__esModule=!0;var r=e("magix"),n=e("./zh-cn"),e=e("./en-us"),o={"zh-cn":n.default,"en-us":e.default},a=r.default.has,s=/\{(\d+)\}/g;t.default=function(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];var n=(r.default.config("lang")||navigator.language).toLowerCase();a(o,n)||(n="zh-cn");n=o[n],e=a(n,e)?n[e]:e;return i.length&&(e=e.replace(s,function(e,t){return t|=0,i.length>t?i[t]:e})),e}}),define("i18n/zh-cn",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={_en:"\u6253\u5370\u8bbe\u8ba1\u5668",_dm:"\u5957\u6253\u80cc\u666f",_dp:"\u5957\u6253\u5c3a\u5bf8",_dq:"\u9ed8\u8ba4",_dr:"\u80cc\u666f\u9002\u5e94\u7eb8\u5f20",_ds:"\u7eb8\u5f20\u9002\u5e94\u80cc\u666f",_do:"\u6e05\u9664",_bu:"\u5c5e\u6027",_bv:"\u7ed3\u6784\u6811",_bw:"\u7c7b\u578b",_bx:"\u4f7f\u7528\u56fe\u7247\u81ea\u8eab\u5bbd\u9ad8",_by:"\u5355\u5143\u683c\u5747\u5206\u5bbd\u5ea6",_bz:"\u5355\u5143\u683c\u5747\u5206\u9ad8\u5ea6",__bs:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",_bh:"\u6309\u4e0b\u62d6\u52a8\u6392\u5e8fz\u8f74",_bi:"\u5220\u9664\u5143\u7d20",__eH:"\u81ea\u52a8\u9ad8\u5ea6",_V:"\u4ee3\u7801",_eo:"\u4fdd\u5b58",_W:"\u53d6\u6d88",_gi:"\u786e\u5b9a",_X:"\u5e94\u7528",_bk:"\u6253\u5370",__Y:"\u5168\u9009",__Z:"\u590d\u5236",__a_:"\u526a\u5207",__aa:"\u7c98\u8d34",__ab:"\u4e0a\u79fb\u4e00\u5c42",__ac:"\u4e0b\u79fb\u4e00\u5c42",__ad:"\u79fb\u81f3\u9876\u5c42",__ae:"\u79fb\u5230\u5e95\u5c42",__af:"\u5220\u9664",__ag:"\u4e0a\u65b9\u6dfb\u52a0\u884c",__ah:"\u4e0b\u65b9\u6dfb\u52a0\u884c",__ai:"\u5220\u9664\u5f53\u524d\u884c",__aj:"\u524d\u9762\u6dfb\u52a0\u5217",__ak:"\u540e\u9762\u6dfb\u52a0\u5217",__al:"\u5220\u9664\u5f53\u524d\u5217",_cU:"\u91cd\u505a",_cT:"\u64a4\u9500",_cV:"\u65b0\u5efa",_cy:"\u901a\u7528\u6a21\u677f",__cA:"\u786e\u8ba4\u6e05\u7a7a\u65b0\u5efa\uff1f",_d_:"\u5de6\u5bf9\u9f50",_db:"\u53f3\u5bf9\u9f50",_dc:"\u4e0a\u5bf9\u9f50",_de:"\u4e0b\u5bf9\u9f50",_dd:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",_da:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",_cX:"\u7f16\u8f91\u533a\u6c34\u5e73\u5c45\u4e2d(\u6309\u4e0bshift\u952e\u5219\u4ee5\u5355\u4e2a\u5143\u7d20\u4e2d\u5fc3\u70b9\u5bf9\u9f50)",_cW:"\u7f16\u8f91\u533a\u5782\u76f4\u5c45\u4e2d(\u6309\u4e0bshift\u952e\u5219\u4ee5\u5355\u4e2a\u5143\u7d20\u4e2d\u5fc3\u70b9\u5bf9\u9f50)",_dj:"\u7eb8\u5f20\u5c3a\u5bf8",_dt:"\u662f\u5426\u5206\u9875",_du:"\u5e38\u7528\u7eb8\u5f20",_dx:"\u7eb8\u5f20\u8bbe\u7f6e",_dv:"\u7f29\u5c0f",_dw:"\u653e\u5927",_dC:"\u5c55\u5f00\u5de5\u5177\u680f",_dD:"\u6536\u8d77\u5de5\u5177\u680f",_dE:"\u641c\u7d22\u6253\u5370\u9879",_fR:"\u5411\u5de6",_fS:"\u5411\u53f3",_fT:"\u5411\u4e0a",_fU:"\u5411\u4e0b",_hA:"\u5c45\u5de6",_hB:"\u5c45\u4e2d",_hC:"\u5c45\u53f3",_hD:"\u5c45\u4e0a",_hE:"\u5c45\u4e2d",_hF:"\u5c45\u4e0b",_hG:"\u659c\u4f53",_hH:"\u4e0b\u5212\u7ebf",_iq:"\u6d4f\u89c8\u56fe\u5e93",_iG:"\u56fe\u7247\u5e93",__ja:"\u56fe\u7247\u7f51\u7edc\u5730\u5740",__iu:"\u786e\u8ba4\u5220\u9664\u8be5\u56fe\u7247\uff1f",__gg:"\u63d0\u793a",_hy:"\u641c\u7d22\u5173\u952e\u8bcd",__eq:"X\u5750\u6807",__er:"Y\u5750\u6807",__ey:"\u7f16\u8f91\u9501\u5b9a",__ez:"\u7ec4\u4ef6\u6811\u540d\u79f0",__eu:"\u900f\u660e\u5ea6",__fe:"\u5bbd",__ff:"\u9ad8",__eJ:"\u65cb\u8f6c\u89d2\u5ea6",__fO:"\u6c34\u5e73\u76f4\u7ebf",__eA:"\u5782\u76f4\u76f4\u7ebf",__eB:"\u7ebf\u6761\u957f\u5ea6",__eC:"\u7ebf\u6761\u5bbd\u5ea6",__eD:"\u7ebf\u6761\u6837\u5f0f",___:"\u5b9e\u7ebf",__a:"\u865a\u7ebf",__b:"\u70b9\u7ebf",__fl:"\u77e9\u5f62",__fp:"\u8fb9\u6846\u6837\u5f0f",__fo:"\u8fb9\u6846\u5bbd\u5ea6",__fq:"\u662f\u5426\u586b\u5145",__fm:"\u77e9\u5f62\u5bbd\u5ea6",__fn:"\u77e9\u5f62\u9ad8\u5ea6",__fN:"\u7eb5\u5411\u6761\u7801",__ep:"\u6a2a\u5411\u6761\u7801",__fh:"\u4e8c\u7ef4\u7801",__es:"\u6761\u7801\u5bbd\u5ea6",__et:"\u6761\u7801\u9ad8\u5ea6",__fi:"\u4e8c\u7ef4\u7801\u5bbd\u5ea6",__fj:"\u4e8c\u7ef4\u7801\u9ad8\u5ea6",__ev:"\u5185\u5bb9",__ex:"\u663e\u793a\u6587\u672c",__ew:"\u7801\u5f0f",__fk:"\u6a21\u5f0f",__fd:"\u56fe\u7247",_dn:"\u9009\u62e9\u56fe\u7247",__fg:"\u8fd8\u539f\u5bbd\u9ad8",__fr:"\u8868\u683c",__fz:"\u5355\u5143\u683c\u9009\u53d6",__fB:"\u5355\u5143\u683c\u5bbd\u9ad8",__fA:"\u5355\u5143\u683c\u64cd\u4f5c",__fw:"\u5206\u9875\u6253\u5370",__fv:"\u9690\u85cf\u8fb9\u6846",__fs:"\u8868\u683c\u5bbd",__ft:"\u8868\u683c\u9ad8",__fx:"\u5747\u5206\u5bbd\u5ea6",__fy:"\u5747\u5206\u9ad8\u5ea6",__fu:"\u9501\u5b9a\u5bbd\u9ad8",__fC:"\u5355\u5143\u683c\u8fb9\u6846",__fD:"\u6709\u8fb9\u6846",__fE:"\u65e0\u8fb9\u6846",__eE:"\u6a2a\u5411\u6587\u672c",__fP:"\u7eb5\u5411\u6587\u672c",__eX:"\u6587\u672c\u522b\u540d",__eW:"\u6587\u672c\u5185\u5bb9",__eV:"\u6392\u5217",__eU:"\u6837\u5f0f",__eT:"\u8f93\u51fa\u65b9\u5411",__eS:"\u5b57\u4f53\u7c97\u7ec6",__eP:"\u989c\u8272",__eQ:"\u9ed8\u8ba4",__eR:"\u9ed1\u5e95\u767d\u5b57",__eO:"\u884c\u9ad8",__eN:"\u5b57\u95f4\u8ddd",__eL:"\u5b57\u53f7",__eM:"\u81ea\u52a8\u5b57\u53f7",__eK:"\u5b57\u4f53",__eF:"\u6587\u672c\u957f\u5ea6",__eG:"\u6587\u672c\u9ad8\u5ea6",__eI:"\u83dc\u9e1f\u903b\u8f91",_fc:"\u8bf7\u8f93\u5165\u6587\u672c",__c:"\u5b8b\u4f53",__d:"\u9ed1\u4f53",__g:"\u6977\u4f53",__e:"\u5fae\u8f6f\u96c5\u9ed1",__f:"\u5fae\u8f6f\u6b63\u9ed1\u4f53",__fM:"\u5220\u9664\u8868\u683c",_aJ:"\u6309\u4e0b\u62d6\u52a8\u6216\u4f7f\u7528\u53f3\u952e\u83dc\u5355",_ga:"\u6c34\u5e73\u62c6\u5206\u5355\u5143\u683c",_gb:"\u5782\u76f4\u62c6\u5206\u5355\u5143\u683c",_g_:"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c",_fZ:"\u5411\u4e0a\u5408\u5e76\u5355\u5143\u683c",_fX:"\u5411\u5de6\u5408\u5e76\u5355\u5143\u683c",_fY:"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c",_M:"\u5220\u9664\u5f53\u524d\u8f85\u52a9\u7ebf",_N:"\u6309\u4e0b\u62d6\u52a8\u53ef\u8c03\u6574\u8f85\u52a9\u7ebf\u4f4d\u7f6e",_cY:"\u5782\u76f4\u5747\u5206\u6392\u5217(\u6309\u4e0bshift\u952e\u5219\u4f7f\u7528\u5143\u7d20\u4e2d\u5fc3\u70b9\u8fdb\u884c\u5747\u5206,\u6309\u4e0bctrl\u5219\u5e73\u5206\u7f16\u8f91\u533a\u9ad8\u5ea6)",_cZ:"\u6c34\u5e73\u5747\u5206\u6392\u5217(\u6309\u4e0bshift\u952e\u5219\u4f7f\u7528\u5143\u7d20\u4e2d\u5fc3\u70b9\u8fdb\u884c\u5747\u5206,\u6309\u4e0bctrl\u5219\u5e73\u5206\u7f16\u8f91\u533a\u5bbd\u5ea6)",_df:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6\u540c\u5bbd",_dg:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5c0f\u5bbd\u5ea6\u540c\u5bbd",_dh:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6\u540c\u9ad8",_di:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5c0f\u9ad8\u5ea6\u540c\u9ad8",_iI:"\u7c98\u8d34\u56fe\u7247",_iJ:"\u62d6\u62fd\uff08\u591a\u4e2a\uff09\u4e0a\u4f20",_iK:"\u70b9\u51fb\u4e0a\u4f20",_iH:"\u641c\u7d22\u56fe\u7247\u5e93",_iL:'\u627e\u4e0d\u5230"{0}"\u7684\u56fe\u7247',__iy:"\u672a\u68c0\u6d4b\u5230\u56fe\u7247\uff0c\u8bf7\u91cd\u65b0\u590d\u5236\u7c98\u8d34",_cz:"\u6682\u65e0\u901a\u7528\u6a21\u677f",__eg:"\u6b63\u5728\u5904\u7406...",_aM:"\u4fdd\u5b58\u5931\u8d25\uff1a",__ef:'\u7f3a\u5c11\u53c2\u6570"temp_id"\u6216"biz_id"',_aK:"[\u672a\u4fdd\u5b58 {0}]",_aL:"[\u4fdd\u5b58\u4e2d...]",__ed:"\u68c0\u6d4b\u5230\u4e0a\u6b21\u672a\u4fdd\u5b58\u5c31\u9000\u51fa\uff0c\u662f\u5426\u6062\u590d\u5230\u4e0a\u6b21\u7f16\u8f91\u72b6\u6001\uff1f",__dP:"\u5185\u5bb9\u5c1a\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u5173\u95ed\uff1f",_dk:"\u9875\u5934",_dl:"\u9875\u811a",_bj:"\u6253\u5370\u8bbe\u7f6e"}}),define("service/index",["magix","$"],function(e,t,i){"use strict";t.__esModule=!0;var r=e("magix"),u=e("$"),n=r.default.Service.extend(function(n,r){var e=n.get("method")||"GET",t=n.get("upload"),i=n.get("params"),e={url:n.get("url"),type:e,data:i,dataType:"json",complete:function(e,t){try{if("error"==t)r({msg:e.statusText});else{var i=e.responseJSON;if(!i||"1"!=i.status)return void r({msg:i?i.message||"server error":"data error"});n.set("data",i.data),r()}}catch(e){r({msg:e.message})}}};if(t){var o=new FormData,a=n.get("key")||"files",t=n.get("files")||[];if(t.length)for(var s=0,l=t;s<l.length;s++){var c=l[s];o.append(a,c)}else o.append(a,t);if(i)for(var d in i)o.append(d,i[d]);e.cache=!1,e.processData=!1,e.contentType=!1,e.data=o}u.default.ajax(e)});n.add([{name:"__dy",url:r.default.config("getComponentsUrl")},{name:"__is",url:r.default.config("getImagesUrl")},{name:"__iw",url:r.default.config("uploadImagesUrl"),key:r.default.config("uploadImagesKey"),method:"POST",upload:!0},{name:"__cx",url:r.default.config("getTemplatesUrl"),cache:12e4},{name:"__eh",url:r.default.config("getContentUrl")},{name:"__dT",url:r.default.config("saveContentUrl"),method:"POST"},{name:"__e_",url:r.default.config("uploadThumbImageUrl"),key:r.default.config("thumbImageKey"),method:"POST",upload:!0},{name:"__iv",url:r.default.config("delImageUrl"),method:"POST"}]),t.default={ctor:function(){var e=this;e.on("rendercall",function(){delete e.__jb})},request:function(e){e=e||r.default.guid("r");var t=new n;return this.capture(e,t,!0),t},fetch:function(e,t){var i=JSON.stringify(e);this.request(i).all(e,t)},save:function(e,t){var i=this,n=JSON.stringify(e);i.lock(n,function(){i.request(n+"_request").save(e,t)})},lock:function(e,t){this.__jb||(this.__jb={});var i=this.__jb;i[e]||(i[e]=t)()},unlock:function(e){var t=this.__jb;t&&delete t[e]},upload:function(e,i,n){this.request(i).all({name:"__iw",files:e,params:{biz_id:r.default.config("bizId"),temp_id:r.default.config("tempId")}},function(e,t){n(i,t.get("data",[]))})}}}),define("element/index",["magix","../util/table","./hcode/designer","./hline/designer","./htext/designer","./image/designer","./qrcode/designer","./rect/designer","./table/designer","./vcode/designer","./vline/designer","./vtext/designer"],function(e,t,i){"use strict";t.__esModule=!0;for(var _=e("magix"),x=e("../util/table"),n=e("./hcode/designer"),r=e("./hline/designer"),o=e("./htext/designer"),a=e("./image/designer"),s=e("./qrcode/designer"),l=e("./rect/designer"),c=e("./table/designer"),d=e("./vcode/designer"),u=e("./vline/designer"),e=e("./vtext/designer"),c=[r.default,u.default,l.default,o.default,e.default,a.default,n.default,d.default,s.default,c.default],f=Object.create(null),h=0,p=c;h<p.length;h++){var g=p[h];f[g.type]=g}t.default={list:c,byType:function(e){return f[e]},byJSON:function(e){var f,h=this,t=[],p={},g=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if("#script"==r.type?t.push(r):r.props.barred||(f=_.default.guid("e_"),r.id&&(p[r.id]=r),r.id=f,r.ctor=h.byType(r.type),t.push(r)),"table"==r.type){for(var o=0,a=r.props.rows;o<a.length;o++){var s=a[o];if("tr"==s.tag)for(var l=0,c=s.cells;l<c.length;l++){var d,u=c[l];"td"==u.tag&&u.children&&(d=[],g(u.children,d),u.children=d)}}x.default.__l(r.props)}}};return g(e,t),{elements:t,map:p}}}}),define("element/hcode/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../../i18n/index"),l=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/hcode/index"}),l.init.apply(this,arguments)}},{title:"__ep",type:"hcode",modifier:{resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:151.18,alpha:1,rotate:0,height:90.71,locked:!1,text:"",showText:!1,type:"code128",tip:s.default("__ep")}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__es",key:"width",type:r.default.NUMBER,min:"0",fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__et",key:"height",type:r.default.NUMBER,min:"0",fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__eu",type:r.default.NUMBER,fixed:1,step:.1,max:1,min:"0",key:"alpha"},{tip:"__ev",type:r.default.TEXTAREA,styleVTop:1,key:"text"},{tip:"__ew",type:r.default.DROPDOWN,textKey:"text",valueKey:"value",key:"type",items:a.default.BARCODES},{tip:"__ex",type:r.default.BOOLEAN,key:"showText"},{type:r.default.SPLITER},{tip:"__ey",key:"locked",type:r.default.BOOLEAN,role:"free"},{tip:"__ez",key:"tip",role:"free",type:r.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="4" height="30" x="10" y="15" style="fill:#fff;"/><rect width="2" height="30" x="16" y="15" style="fill:#fff;"/><rect width="2" height="30" x="20" y="15" style="fill:#fff;"/><rect width="8" height="30" x="24" y="15" style="fill:#fff;"/><rect width="2" height="30" x="35" y="15" style="fill:#fff;"/><rect width="3" height="30" x="39" y="15" style="fill:#fff;"/><rect width="2" height="30" x="43" y="15" style="fill:#fff;"/><rect width="4" height="30" x="46" y="15" style="fill:#fff;"/></svg>'})}),define("element/hcode/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),e="https://img.alicdn.com/tfs/",r={upca:e+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upce:e+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upca_text:e+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",upce_text:e+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",code128:e+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code93:e+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",c25inter:e+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code128_text:e+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code93_text:e+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",c25inter_text:e+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code39:e+"TB1NXIiqkomBKNjSZFqXXXtqVXa-448-100.svg",code39_text:e+"TB1TdocqiMnBKNjSZFoXXbOSFXa-448-122.svg",ean8:e+"TB1mIuAqlnTBKNjSZPfXXbf1XXa-134-100.svg",ean8_text:e+"TB1rOARqiAnBKNjSZFvXXaTKXXa-134-122.svg",ean13:e+"TB1n8RrqCcqBKNjSZFgXXX_kXXa-190-112.svg",ean13_text:e+"TB1stsuqcj_B1NjSZFHXXaDWpXa-214-122.svg",itf14:e+"TB1Y247qdknBKNjSZKPXXX6OFXa-270-100.svg",itf14_text:e+"TB1PDcUqkUmBKNjSZFOXXab2XXa-270-122.svg"};t.default=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.width,d=e.height,u=e.alpha,f=e.x,h=e.y,p=e.zIndex,g=e.codeMap,_=e.type,x=e.showText,e=c<=1||d<=1||0==u;l+='<div style="left:'+n(f)+"px;top:"+n(h)+"px;width:"+n(c)+"px;height:"+n(d)+"px;z-index:"+n(p)+";",e&&(l+="border:dotted 1px #ff000030"),l+='" class="xzKVLbst">';x=g[_+(x?"_text":"")];return l+=" ",l+=x?'<img style="width:100%;height:100%;opacity:'+n(u)+';" src="'+n(x)+'">':" \u6682\u4e0d\u652f\u6301"+n(_)+"\u7684\u9884\u89c8 ",l+="</div>"},init:function(e){this.assign(e),this.updater.set({codeMap:r})},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/htext/designer",["magix","../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../editor/core/designer"),o=e("../../editor/const/props-desc"),a=e("../../util/converter"),s=e("../../cainiao/const"),l=e("../../i18n/index"),e=function(e,t){return e?(t._x=t.x,t._y=t.y,t._width=t.width,t._height=t.height,t.x=.76,t.y=.76,t.width=-3.77,t.height=-3.77,t.autoHeight=!1):(t.x=t._x,t.y=t._y,t.width=t._width,t.height=t._height),t.xLocked=e,t.yLocked=e,t.widthLocked=e,t.heightLocked=e,t.zIndex=0,e},c=r.default.prototype;t.default=r.default.extend({init:function(){this.updater.set({elementPath:"element/htext/index"}),c.init.apply(this,arguments)}},{title:"__eE",type:"htext",modifier:{rotate:!0,resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},writeAdapter:e,getProps:function(e,t){return{zIndex:0,x:e,y:t,width:94.49,height:18.9,locked:!1,rotate:0,alpha:1,supportCNStyle:!1,useCNStyle:!1,fontFamily:"SimHei",fontSize:8,lineHeight:["","mm"],fontStyle:[],align:["left","top"],letterSpacing:0,fontWeight:"normal",autoFontSize:!1,autoHeight:!1,text:"",alias:"",direction:"ltr",color:"-1",tip:l.default("__eE"),allowEdit:1}},props:[{tip:"__eq",key:"x",type:o.default.NUMBER,fixed:2,read:a.default.__i,write:a.default.__h},{tip:"__er",key:"y",type:o.default.NUMBER,fixed:2,read:a.default.__i,write:a.default.__h},{tip:"__eF",key:"width",type:o.default.NUMBER,min:"0",fixed:2,max:2800,read:a.default.__i,write:a.default.__h},{tip:"__eG",key:"height",type:o.default.NUMBER,min:"0",fixed:2,max:2800,read:a.default.__i,write:a.default.__h,ifShow:function(e){return!n.default.config("textAutoHeight")||!e.autoHeight}},{tip:"__eH",key:"autoHeight",type:o.default.BOOLEAN,refresh:!0,ifShow:function(e){return n.default.config("textAutoHeight")&&!e.useCNStyle},write:function(e,t){return t.heightLocked=e}},{tip:"__eI",key:"useCNStyle",ifShow:function(e){return n.default.config("cnTableText")&&e.supportCNStyle},type:o.default.BOOLEAN,refresh:!0,write:e},{tip:"__eJ",key:"rotate",type:o.default.NUMBER,min:-360,max:360},{tip:"__eu",key:"alpha",type:o.default.NUMBER,min:"0",max:1,fixed:2,step:.1},{tip:"__eK",key:"fontFamily",type:o.default.DROPDOWN,textKey:"text",valueKey:"value",items:s.default.FONT_FAMILIES},{tip:"__eL",key:"fontSize",type:o.default.NUMBER,min:"0",step:1,fixed:2},{tip:"__eM",key:"autoFontSize",type:o.default.BOOLEAN,write:function(e,t){return t.fontSizeLocked=e}},{tip:"__eN",key:"letterSpacing",type:o.default.NUMBER,min:"0"},{tip:"__eO",key:"lineHeight",type:o.default.LINEHEIGHT,min:"0"},{tip:"__eP",key:"color",type:o.default.DROPDOWN,textKey:"text",valueKey:"value",items:[{text:"__eQ",value:"-1"},{text:"__eR",value:1}]},{tip:"__eS",key:"fontWeight",type:o.default.DROPDOWN,items:s.default.FONT_WEIGHTS},{tip:"__eT",key:"direction",type:o.default.DROPDOWN,items:s.default.DIRECTIONS},{tip:"__eU",key:"fontStyle",type:o.default.FONTSTYLE},{tip:"__eV",key:"align",type:o.default.FONTALIGN},{tip:"__eW",styleVTop:1,key:"text",type:o.default.TEXTAREA,ifShow:function(e){return 0<e.allowEdit}},{tip:"__eX",key:"alias",type:o.default.INPUT,ifShow:function(e){return 0<e.allowEdit},refresh:!0,sync:"tip"},{type:o.default.SPLITER},{tip:"__ey",type:o.default.BOOLEAN,key:"locked",role:"free"},{tip:"__ez",key:"tip",type:o.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path style="stroke:#fff;stroke-width:2" d="M 15 20 L 45 20 M 17 31 L 30 31 M 15 40 L 38 40" /></svg>'})}),define("element/htext/index",["magix","../../util/converter"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../util/converter");t.default=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.color,d=e.useCNStyle,u=e.width,f=e.height,h=e.alpha,p=e.x,g=e.y,_=e.rotate,x=e.fontFamily,m=e.letterSpacing,v=e.lineHeight,b=e.direction,y=e.fontWeight,w=e.fontStyle,L=e.flexMap,z=e.align,k=e.zIndex,S=e.autoFontSize,V=e.fontSize,K=e.scale,C=e.vId,T=e.alias,A=e.toHTML,E=e.text,M=e.i18n,e="1"!=c&&!d&&(u<=1||f<=1||0==h);return l+='<div class="xzKVLbst" style="left:'+n(p)+"px;top:"+n(g)+"px;opacity:"+n(h)+";transform:rotate("+n(_)+"deg);font-family:'"+n(x)+"';font-size:8pt;letter-spacing:"+n(m)+"pt;",""!==v[0]&&(l+="line-height:"+n(v[0])+n(v[1])+";"),l+="width:",l+=d?"92%":n(u)+"px",l+=";height:",l+=d?"92%":n(f)+"px",l+=";direction:"+n(b)+";",l+="1"==c?"color:#fff;background-color:#000;":"color:#000;background-color:#fff;",l+="font-weight:"+n(y)+";",w[0]&&(l+="font-style:italic;"),w[1]&&(l+="text-decoration:underline;"),l+="overflow:hidden;display:flex;align-items:"+n(L[z[1]])+";justify-content:"+n(L[z[0]])+";z-index:"+n(k)+";cursor:text;",e&&(l+="border:dotted 1px #ff000030"),l+='"><div style="-webkit-user-modify:read-write-plaintext-only;outline:none;cursor:text;',S||(l+="font-size:"+n(V*K)+"pt;"),l+='" contenteditable="true" data-role="text-element" mx-focusout="'+t+'\x1e__fb()" mx-input="'+t+'\x1e__fa()" id="area_'+n(C)+'">',l+=T?r(A(T)):E?r(A(E)):n(M("_fc")),l+="</div></div>"},init:function(e){this.assign(e),this.updater.set({flexMap:{left:"flex-start",center:"center",right:"flex-end",bottom:"flex-end",top:"flex-start",middle:"center"},toHTML:r.default.__eY})},assign:function(e){return this.__eZ=e,this.updater.set(e.props),this.updater.set({scale:n.State.get("__j")}),e.forceUpdate},render:function(){var e,t;this.updater.digest(),this.updater.get("editable")&&((t=$("#area_"+this.id)).focus(),(e=document.createRange()).selectNodeContents(t[0]),e.collapse(!1),0==(t=window.getSelection()).anchorOffset&&(t.removeAllRanges(),t.addRange(e)))},"__fa<input>":function(e){e=r.default.__f_(e.eventTarget.innerHTML);this.__eZ.props.text=e},"__fb<focusout>":function(e){var t=this.__eZ,i=t.id,t=t.props;t.editable=!1,n.State.fire("__aD"),n.State.fire("__ap",{data:t,eId:i}),n.State.fire("__G")}})}),define("element/image/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/image/index"}),s.init.apply(this,arguments)}},{title:"__fd",type:"image",modifier:{rotate:!0,resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,width:188.98,height:188.98,tip:a.default("__fd"),rotate:0,src:"//img.alicdn.com/tfs/TB1E1OSryAnBKNjSZFvXXaTKXXa-200-200.png",locked:!1,alpha:1,x:e,y:t}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"_dn",key:"src",type:r.default.IMAGE,updateSize:!0},{tip:"__fe",key:"width",max:2800,type:r.default.NUMBER,min:"0",fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__ff",key:"height",type:r.default.NUMBER,min:"0",fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__eJ",key:"rotate",type:r.default.NUMBER,min:-360,max:360},{tip:"__eu",key:"alpha",type:r.default.NUMBER,min:"0",max:1,fixed:1,step:.1},{tip:"__fg",type:r.default.ORIGINSIZE},{type:r.default.SPLITER},{tip:"__ey",type:r.default.BOOLEAN,key:"locked",role:"free"},{tip:"__ez",key:"tip",type:r.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="32" height="28" x="14" y="16" style="fill:none;stroke-width:2;stroke:#fff" rx="2" ry="2"/><circle cx="22" cy="24" r="4" style="fill:#fff" /><path style="stroke:#fff;stroke-width:2;fill:none" d="M 14 42 L 22 34 L 36 39 L 46 26" /></svg>'})}),define("element/image/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e=e("magix");t.default=e.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.width,d=e.height,u=e.alpha,f=e.src,h=e.x,p=e.y,g=e.rotate,_=e.zIndex,e=c<=1||d<=1||0==u;return l+='<div style="',l+=f?"width:"+n(c)+"px;height:"+n(d)+"px;":"width:100px;height:100px;",l+="left:"+n(h)+"px;top:"+n(p)+"px;transform:rotate("+n(g)+"deg);z-index:"+n(_)+";",e&&(l+="border:dotted 1px #ff000030"),l+='" class="xzKVLbst"><img style="width:100%;height:100%;opacity:'+n(u)+';" src="',f&&(l+=n(f)),l+='" ',f||(l+=' alt="\u8bf7\u8bbe\u7f6e\u56fe\u7247" '),l+="/></div>"},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/hline/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../../i18n/index"),l=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/hline/index"}),l.init.apply(this,arguments)}},{title:"__eA",type:"hline",modifier:{resize:!0,resizeX:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,rotate:0,width:75.59,height:1.33,type:"solid",locked:!1,tip:s.default("__eA")}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__eB",key:"width",type:r.default.NUMBER,min:.01,fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__eC",key:"height",type:r.default.NUMBER,min:.01,fixed:2,max:2800,read:o.default.__m,write:o.default.__k},{tip:"__eD",key:"type",type:r.default.DROPDOWN,textKey:"text",valueKey:"value",items:a.default.LINE_TYPES},{type:r.default.SPLITER},{tip:"__ey",key:"locked",type:r.default.BOOLEAN,role:"free"},{tip:"__ez",key:"tip",type:r.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M 10 29 L 50 29" style="stroke:#fff;stroke-width:2"/></svg>'})}),define("element/hline/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e=e("magix");t.default=e.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.x,d=e.y,u=e.width,f=e.type,h=e.height,e=e.zIndex;return l+='<div style="left:'+n(c)+"px;top:"+n(d)+"px;width:"+n(u<1?1:u)+"px;border-top:"+n(f)+" "+n(h<1?1:h)+"px #000;z-index:"+n(e)+'" class="xzKVLbst"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/qrcode/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../../i18n/index"),l=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/qrcode/index"}),l.init.apply(this,arguments)}},{title:"__fh",type:"qrcode",modifier:{resize:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:113.39,alpha:1,rotate:0,height:113.39,locked:!1,text:"",schema:2,primary:"",type:"qrcode",tip:s.default("__fh")}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__fi",key:"width",type:r.default.NUMBER,min:"0",max:2800,fixed:2,refresh:!0,sync:"height",read:o.default.__i,write:o.default.__h},{tip:"__fj",key:"height",type:r.default.NUMBER,min:"0",max:2800,sync:"width",fixed:2,refresh:!0,read:o.default.__i,write:o.default.__h},{tip:"__eu",type:r.default.NUMBER,fixed:1,step:.1,max:1,min:"0",key:"alpha"},{tip:"__ev",type:r.default.TEXTAREA,styleVTop:1,key:"text"},{tip:"__ew",type:r.default.DROPDOWN,textKey:"text",valueKey:"value",key:"type",refresh:!0,items:a.default.QRCODES},{tip:"__fk",type:r.default.DROPDOWN,ifShow:function(e){return"maxicode"==e.type},key:"schema",items:a.default.QRCODES_MAXICODE_SCHEMA},{tip:"primary",type:r.default.INPUT,key:"primary",ifShow:function(e){return"maxicode"==e.type}},{type:r.default.SPLITER},{tip:"__ey",key:"locked",type:r.default.BOOLEAN,role:"free"},{tip:"__ez",key:"tip",role:"free",type:r.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="16" height="16" x="10" y="10" style="fill:none;stroke-width:2;stroke:#fff"/><rect width="16" height="16" x="34" y="10" style="fill:none;stroke-width:2;stroke:#fff"/><rect width="16" height="16" x="10" y="34" style="fill:none;stroke-width:2;stroke:#fff"/><rect width="6" height="6" x="15" y="15" style="fill:#fff;"/><rect width="6" height="6" x="39" y="15" style="fill:#fff;"/><rect width="6" height="6" x="15" y="39" style="fill:#fff;"/><rect width="4" height="4" x="34" y="34" style="fill:#fff;"/><rect width="4" height="4" x="46" y="34" style="fill:#fff;"/><rect width="4" height="8" x="38" y="38" style="fill:#fff;"/><rect width="4" height="4" x="34" y="46" style="fill:#fff;"/><rect width="5" height="4" x="43" y="46" style="fill:#fff;"/><rect width="4" height="8" x="46" y="42" style="fill:#fff;"/></svg>'})}),define("element/qrcode/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e=e("magix");t.default=e.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.width,d=e.height,u=e.alpha,f=e.x,h=e.y,p=e.zIndex,e=c<=1||d<=1||0==u;return l+='<div style="left:'+n(f)+"px;top:"+n(h)+"px;width:"+n(c)+"px;height:"+n(d)+"px;z-index:"+n(p)+";",e&&(l+="border:dotted 1px #ff000030"),l+='" class="xzKVLbst"><img style="width:100%;height:100%;opacity:'+n(u)+';" src="https://img.alicdn.com/tfs/TB1NQQvqlsmBKNjSZFFXXcT9VXa-250-250.svg"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/rect/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../../i18n/index"),l=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/rect/index"}),l.init.apply(this,arguments)}},{title:"__fl",type:"rect",modifier:{resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:98.27,borderWidth:1,borderType:"solid",fill:!1,rotate:0,height:98.27,locked:!1,tip:s.default("__fl")}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__fm",key:"width",type:r.default.NUMBER,min:"0",fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__fn",key:"height",type:r.default.NUMBER,min:"0",fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__fo",key:"borderWidth",type:r.default.NUMBER,min:"0"},{tip:"__fp",key:"borderType",type:r.default.DROPDOWN,textKey:"text",valueKey:"value",items:a.default.LINE_TYPES},{tip:"__fq",key:"fill",type:r.default.BOOLEAN},{type:r.default.SPLITER},{tip:"__ey",key:"locked",type:r.default.BOOLEAN,role:"free"},{tip:"__ez",key:"tip",role:"free",type:r.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="42" height="28" x="9" y="16" style="fill:none;stroke-width:2;stroke:#fff"/></svg>'})}),define("element/rect/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix");t.default=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.borderWidth,d=e.fill,u=e.x,f=e.y,h=e.width,p=e.height,g=e.scale,_=e.borderType,x=e.zIndex,e=!(c||d);return l+='<div style="left:'+n(u)+"px;top:"+n(f)+"px;width:"+n(h)+"px;height:"+n(p)+"px;",c&&(h=c*g,l+="border:"+n(_)+" "+n(h<1?1:h)+"px #000;"),d&&(l+="background-color:#000;"),l+="z-index:"+n(x)+";",e&&(l+="border:dotted 1px #ff000030"),l+='" class="xzKVLbst"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),this.updater.set({scale:n.State.get("__j")}),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/table/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index","../../util/table"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../../i18n/index"),l=e("../../util/table"),c=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/table/index"}),c.init.apply(this,arguments)}},{title:"__fr",type:"table",modifier:{},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,rotate:0,width:3*a.default.TABLE_CELLS_WIDTH,height:2*a.default.TABLE_ROWS_HEIGHT,rowIndex:-1,colIndex:-1,hideBorder:!1,lockSize:!1,rows:[{tag:"tr",cells:[{tag:"td",hasBorder:!0,height:a.default.TABLE_ROWS_HEIGHT,width:a.default.TABLE_CELLS_WIDTH},{tag:"td",hasBorder:!0,height:a.default.TABLE_ROWS_HEIGHT,width:a.default.TABLE_CELLS_WIDTH},{tag:"td",hasBorder:!0,height:a.default.TABLE_ROWS_HEIGHT,width:a.default.TABLE_CELLS_WIDTH}]},{tag:"tr",cells:[{tag:"td",hasBorder:!0,height:a.default.TABLE_ROWS_HEIGHT,width:a.default.TABLE_CELLS_WIDTH},{tag:"td",hasBorder:!0,height:a.default.TABLE_ROWS_HEIGHT,width:a.default.TABLE_CELLS_WIDTH},{tag:"td",hasBorder:!0,height:a.default.TABLE_ROWS_HEIGHT,width:a.default.TABLE_CELLS_WIDTH}]}],locked:!1,tip:s.default("__fr")}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__fs",key:"width",type:r.default.LABEL,read:o.default.__i},{tip:"__ft",key:"height",type:r.default.LABEL,read:o.default.__i},{tip:"__fu",key:"lockSize",type:r.default.BOOLEAN,write:function(e,t){return t.lockSize=e,l.default.__l(t),e}},{tip:"__fv",key:"hideBorder",type:r.default.BOOLEAN,refresh:!0,write:function(e,t){for(var i=0,n=t.rows;i<n.length;i++){var r=n[i];if("tr"==r.tag)for(var o=0,a=r.cells;o<a.length;o++){var s=a[o];"td"==s.tag&&(s.hasBorder=!e)}}return e}},{tip:"__fw",key:"splitable",type:r.default.BOOLEAN},{tip:"__fx",type:r.default.CELLCOLSHARE},{tip:"__fy",type:r.default.CELLROWSHARE},{type:r.default.SPLITER,ifShow:function(e){return-1<e.rowIndex}},{tip:"__fz",type:r.default.CELLFOCUS,ifShow:function(e){return-1<e.rowIndex}},{tip:"__fA",styleVTop:1,type:r.default.CELLOPERATE,ifShow:function(e){return-1<e.rowIndex}},{tip:"__fB",styleVTop:1,type:r.default.CELLSIZE,ifShow:function(e){return-1<e.rowIndex}},{tip:"__fC",type:r.default.CELLDROPDOWN,ifShow:function(e){return-1<e.rowIndex},items:[{text:"__fD",value:!0},{text:"__fE",value:!1}]},{type:r.default.SPLITER},{tip:"__ey",key:"locked",type:r.default.BOOLEAN,role:"free"},{tip:"__ez",key:"tip",role:"free",type:r.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path style="stroke:#fff;stroke-width:2;fill:none" d="M 10 14 L 50 14 L 50 46 L 10 46 L 10 14" /><path style="stroke:#fff;stroke-width:1;fill:none" d="M 10 24 L 50 24 M 10 34 L 50 34 M 23 14 L 23 46 M 36 14 L 36 46" /></svg>'})}),define("element/table/index",["magix","$","../../editor/core/workaround","../../gallery/mx-dragdrop/index","../../util/table","../../cainiao/const","../../util/converter"],function(e,t,i){"use strict";t.__esModule=!0;var g=e("magix"),_=e("$"),x=e("../../editor/core/workaround"),n=e("../../gallery/mx-dragdrop/index"),m=e("../../util/table"),v=e("../../cainiao/const"),p=e("../../util/converter"),b={8:"rt",9:"rb",10:"r",11:"cb",12:"ca",13:"c"};g.default.applyStyle("xzKVLbsm",".xzKVLbsbP{border-collapse:collapse;border:1pt dotted #ececec;border-spacing:0}.xzKVLbsbQ{border-collapse:collapse;border:1pt dotted #ececec;position:relative;padding:0}.xzKVLbsbR{overflow:hidden;position:relative;width:100%;height:100%}.xzKVLbsbS,.xzKVLbsbT{border:1px solid #f99;left:-1px;top:-1px;right:-1px;bottom:-1px;position:absolute;pointer-events:none}.xzKVLbsbU{background:#f99;position:absolute;z-index:3;pointer-events:all}.xzKVLbsbV{cursor:ns-resize}.xzKVLbsbW{cursor:ew-resize}.xzKVLbsbX{left:-20px;top:20px;color:#c3c3c3;cursor:pointer;transition:color .4s}.xzKVLbsbX:hover{color:#000}.xzKVLbsag .xzKVLbsbX{visibility:hidden}.xzKVLbsbY{border-style:solid;border-color:#000}.xzKVLbsbS{box-shadow:inset 2px 2px 4px rgba(0,0,0,.2)}.xzKVLbsbZ{border-style:dashed}"),t.default=g.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.x,d=e.y,u=e.width,f=e.height,h=e.zIndex,p=e.i18n,g=e.rows,_=e.vId,x=e.rowIndex,m=e.colIndex,v=e.size;l+='<div mxv style="left:'+n(c)+"px;top:"+n(d)+"px;width:"+n(u)+"px;height:"+n(f)+"px;z-index:"+n(h)+'" class="xzKVLbst"><div class="xzKVLbst xzKVLbsbX" mx-mousedown="'+t+'\x1e__fL()" mx-click="'+t+'\x1e__fM()" title="'+n(p("__fM"))+'"><i mxs="xzKVLbss:_" class="xzKVLbsN">&#xe600;</i></div><table mxv mxa="xzKVLbss:_" class="xzKVLbsbP">';for(var b=0,y=g.length;b<y;b++){var w=g[b];if(l+=" ","tr"==w.tag){l+="<tr mxv>";for(var L=0,z=w.cells,k=z.length;L<k;L++){var S,V,K=z[L];if(l+=" ","td"==K.tag){if(l+='<td mxv class="xzKVLbsbQ',K.hasBorder&&(l+=" xzKVLbsbY"),l+='" style="width:'+n(K.width)+"px;height:"+n(K.height)+'px" mx-mousedown="'+t+"\x1e__fH({row:"+n(b)+",col:"+n(L)+'})" mx-contextmenu="'+t+"\x1e__fK({row:"+n(b)+",col:"+n(L)+'})" id="'+n(_)+"_c_"+n(b)+"_"+n(L)+'" ',K.rowspan&&1<K.rowspan&&(l+=' rowspan="'+n(K.rowspan)+'" '),K.colspan&&1<K.colspan&&(l+=' colspan="'+n(K.colspan)+'" '),l+='><div class="xzKVLbsbS xzKVLbsv" id="'+n(_)+"_dashed_"+n(b)+"_"+n(L)+'"></div><div mxv mxa="xzKVLbss:a" class="xzKVLbsbR" data-role="table-cell">',K.children){l+=" ";for(var C=0,T=K.children,A=T.length;C<A;C++){var E=T[C];l+=" ";var M=E.ctor,N=E.props,I=E.id,E=E.type;l+=" ","#script"!=E&&(l+='<div mxv="rows" id="'+n(I)+'" mx-view="element/'+n(M.type)+"/designer?type="+o(E)+"&ctor="+a(i,M)+"&id="+o(I)+"&props="+a(i,N)+'&cell=true" mx-mousedown="'+t+"\x1e__fG({id:'"+n(s(I))+"',ctor:'"+a(i,M)+"',props:'"+a(i,N)+"',type:'"+n(s(E))+"'})\"></div>"),l+=" "}l+=" "}l+="</div>",x==b&&m==L&&(l+='<div class="xzKVLbsbT',K.hasBorder||(l+=" xzKVLbsbZ"),l+='">',S=Math.max(0,Math.min(8*v,K.width-2*v)),l+=" ",V=Math.max(0,Math.min(8*v,K.height-2*v)),l+=" ",K.top&&(l+='<div style="width:'+n(S)+"px;height:"+n(v)+"px;top:"+n(1-v)+"px;left:"+n((K.width-S)/2|0)+'px;" class="xzKVLbsbU xzKVLbsbV" mx-mousedown="'+t+"\x1e__aE({type:'row',ri:"+n(K.top.row)+",ci:"+n(K.top.col)+'})"></div>'),l+=" ",K.left&&(l+='<div style="width:'+n(v)+"px;height:"+n(V)+"px;left:-"+n(v-1)+"px;top:"+n((K.height-V)/2|0)+'px" class="xzKVLbsbU xzKVLbsbW" mx-mousedown="'+t+"\x1e__aE({type:'col',ri:"+n(K.left.row)+",ci:"+n(K.left.col)+'})"></div>'),l+=" ",K.hasBottom&&(l+='<div style="width:'+n(S)+"px;height:"+n(v)+"px;left:"+n((K.width-S)/2|0)+"px;bottom:-"+n(v-1)+'px;" class="xzKVLbsbU xzKVLbsbV" mx-mousedown="'+t+"\x1e__aE({type:'row',cell:'"+a(i,K)+"'})\"></div>"),l+=" ",K.hasRight&&(l+='<div style="width:'+n(v)+"px;height:"+n(V)+"px;right:-"+n(v-1)+"px;top:"+n((K.height-V)/2|0)+'px" class="xzKVLbsbU xzKVLbsbW" mx-mousedown="'+t+"\x1e__aE({type:'col',cell:'"+a(i,K)+"'})\"></div>"),l+="</div>"),l+="</td>"}l+=" "}l+="</tr>"}l+=" "}return l+="</table></div>"},mixins:[n],init:function(i){this.assign(i),this.__t=_.default("#"+this.id);function e(e){var t=i.props;m.default.__fF(t,e.dir)&&(g.State.fire("__ap",{data:t,eId:i.id}),g.State.fire("__aD"))}g.State.on("__bY",e),this.on("destroy",function(){g.State.off("__bY",e)})},__aw:function(){var e=this,t=this.__eZ;t.props.rowIndex=-1,t.props.colIndex=-1,this.assign(t),setTimeout(this.wrapAsync(function(){e.render()}),0)},assign:function(e){var t={};return(this.__eZ=e).onlyMove&&(t.rows=1),this.updater.set(e.props,t),this.updater.set({size:v.default.RESIZER_SIZE,scale:g.State.get("__j")}),e.forceUpdate},render:function(){this.updater.digest()},"__fG<mousedown>":function(e){"element_table"!=e.from&&(e.from="element_table",x.StageElements.__bV(e,this))},"__fH<mousedown>":function(e){var n,r,o,a,s,l,c,d,u,f,t,h;"element_table"!=e.from&&(e.from="element_table",t=e.params,n=t.row,r=t.col,(a=(o=this).__eZ).props.rowIndex=n,a.props.colIndex=r,o.assign(a),o.render(),g.State.fire("__aD"),x.StageSelectElements.__bB(a),s=g.Vframe.get("m_app_stage"),l=p.default.__bO({x:e.pageX,y:e.pageY}),c=_.default(e.eventTarget),d=p.default.__aF(c,{x:e.pageX,y:e.pageY,find:0}),f=u=!1,(t=a.props.rows[n].cells[r]).children||(t.children=[]),h=x.StageElements.__bP(t),o.dragdrop(e.eventTarget,o.__bl(function(e){var t,i;f||(u=!0,i=p.default.__bO({x:e.pageX,y:e.pageY}),s.invoke("__aZ",[l,i]),t=p.default.__aF(c,{x:e.pageX,y:e.pageY,find:0}),e=Math.abs(l.x-i.x),i=Math.abs(l.y-i.y),e={x:Math.min(d.x,t.x),y:Math.min(d.y,t.y),width:e,height:i},i=x.StageElements.__bR(h,e,{}),(e=JSON.stringify(i,["id"]))!=o.__bS&&(o.__bS=e,i.length?x.StageSelectElements.__bT(i):(a.props.rowIndex=n,a.props.colIndex=r,o.assign(a),setTimeout(o.wrapAsync(function(){o.render()}),0),x.StageSelectElements.__bB(a))))},50),function(){u&&(delete o.__bS,f=!0,s.invoke("__b_"))}))},"__aE<mousedown>":function(e){var o,a,t,s,l,i,n,c,d,u,f,h,p;"element_table"!=e.from&&(e.from="element_table",i=this.__eZ,o=i.props,a=i.id,o.locked||(t=o.rows,n=e.params,s=n.cell,l=n.type,i=n.ri,n=n.ci,g.State.fire("__ay",{cursor:"col"==l?"ew-resize":"ns-resize"}),s=s||m.default.__fI(t,i,n),c=e.pageX,d=e.pageY,u=s.height,f=s.width,h=!1,s.id||(s.id=g.default.guid("td_")),g.State.fire("__ax",{locked:1}),p={},o.lockSize&&m.default.__l(o,p),this.dragdrop(e.eventTarget,function(e){var t,i=e.pageX-c,n=e.pageY-d,r=0;o.lockSize&&(t=s.rowspan||1,(r=(e=p.rowHeights[s.row+t])-n)<v.default.TABLE_MIN_SIZE?(n=e-v.default.TABLE_MIN_SIZE,r=v.default.TABLE_MIN_SIZE):r>e+u-v.default.TABLE_MIN_SIZE&&(r=e+u-v.default.TABLE_MIN_SIZE),t=s.colspan||1,(t=(e=p.colWidths[s.col+t])-i)<v.default.TABLE_MIN_SIZE?(i=e-v.default.TABLE_MIN_SIZE,t=v.default.TABLE_MIN_SIZE):t>e+f-v.default.TABLE_MIN_SIZE&&(t=e+f-v.default.TABLE_MIN_SIZE));n=Math.max(u+n,v.default.TABLE_MIN_SIZE),i=Math.max(v.default.TABLE_MIN_SIZE,f+i);"row"==l?n!=s.height&&(h=!0,s.height=n):"col"==l&&i!=s.width&&(h=!0,s.width=i),m.default.__l(o,{col:s,changeType:l,nextRow:r,nextCol:t}),g.State.fire("__ap",{data:o,eId:a}),g.State.fire("__aD")},function(){h&&g.State.fire("__G"),g.State.fire("__ax"),g.State.fire("__ay")})))},"__fK<contextmenu>":function(e){if("element_table"!=e.from){e.from="element_table",e.preventDefault();var i=x.StageSelectElements.__bN(),n=this,t=n.__eZ,r=t.id,o=t.props,a=e.params,t=a.row,a=a.col,t=o.rows[t],s=v.default.TABLE_ROWS_HEIGHT,l=v.default.TABLE_CELLS_WIDTH,c=[];t&&t.cells[a]&&(p=t.cells[a],s=p.height,l=p.width,p.children?c=p.children:p.children=c=[]);for(var d=[],u=0,f=c;u<f.length;u++){var h=f[u];"#script"==h.type||h.props.useCNStyle||d.push(h)}var p=_.default(e.eventTarget).offset();n.__ck={x:e.pageX-p.left,y:e.pageY-p.top},x.StageElements.__cl(n,e,r,d,function(e){var t;0==e.id?d.length&&x.StageSelectElements.__bT(d):1==e.id?x.Clipboard.__cb():14==e.id?x.Clipboard.__ch():2==e.id?(x.Clipboard.__cf({coll:c,collType:"td",width:l,height:s},n.__ck),g.State.fire("__G")):7==e.id?(t=x.StageElements.__c_(!0),n.updater.digest({elements:t}),g.State.fire("__G")):3<=e.id&&e.id<=6?(x.StageElements.__cm(e.id,i[0],d),n.updater.digest(o),g.State.fire("__G")):8<=e.id&&e.id<=13&&(m.default.__fJ(o,b[e.id]),g.State.fire("__aD"),g.State.fire("__ap",{data:o,eId:r}),g.State.fire("__G"))})}},"__fL<mousedown>":function(e){e.from="element_table"},"__fM<click>":function(){var e=this.__eZ.id;x.StageElements.__bd(e,!1),g.State.fire("__bb"),g.State.fire("__G")}})}),define("element/vcode/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../../i18n/index"),l=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/vcode/index"}),l.init.apply(this,arguments)}},{title:"__fN",type:"vcode",modifier:{resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:151.18,alpha:1,height:90.71,locked:!1,text:"",rotate:90,showText:!1,type:"code128",tip:s.default("__fN")}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__es",key:"width",type:r.default.NUMBER,min:"0",fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__et",key:"height",type:r.default.NUMBER,min:"0",fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__eu",type:r.default.NUMBER,fixed:1,step:.1,max:1,min:"0",key:"alpha"},{tip:"__ev",type:r.default.TEXTAREA,styleVTop:1,key:"text"},{tip:"__ew",type:r.default.DROPDOWN,textKey:"text",valueKey:"value",key:"type",items:a.default.BARCODES},{tip:"__ex",type:r.default.BOOLEAN,key:"showText"},{type:r.default.SPLITER},{tip:"__ey",key:"locked",type:r.default.BOOLEAN,role:"free"},{tip:"__ez",key:"tip",role:"free",type:r.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="30" height="4" x="15" y="10" style="fill:#fff;"/><rect width="30" height="2" x="15" y="16" style="fill:#fff;"/><rect width="30" height="2" x="15" y="20" style="fill:#fff;"/><rect width="30" height="8" x="15" y="24" style="fill:#fff;"/><rect width="30" height="2" x="15" y="35" style="fill:#fff;"/><rect width="30" height="3" x="15" y="39" style="fill:#fff;"/><rect width="30" height="2" x="15" y="43" style="fill:#fff;"/><rect width="30" height="4" x="15" y="46" style="fill:#fff;"/></svg>'})}),define("element/vcode/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),e="https://img.alicdn.com/tfs/",r={upca:e+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upce:e+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upca_text:e+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",upce_text:e+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",code128:e+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code93:e+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",c25inter:e+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code128_text:e+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code93_text:e+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",c25inter_text:e+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code39:e+"TB1NXIiqkomBKNjSZFqXXXtqVXa-448-100.svg",code39_text:e+"TB1TdocqiMnBKNjSZFoXXbOSFXa-448-122.svg",ean8:e+"TB1mIuAqlnTBKNjSZPfXXbf1XXa-134-100.svg",ean8_text:e+"TB1rOARqiAnBKNjSZFvXXaTKXXa-134-122.svg",ean13:e+"TB1n8RrqCcqBKNjSZFgXXX_kXXa-190-112.svg",ean13_text:e+"TB1stsuqcj_B1NjSZFHXXaDWpXa-214-122.svg",itf14:e+"TB1Y247qdknBKNjSZKPXXX6OFXa-270-100.svg",itf14_text:e+"TB1PDcUqkUmBKNjSZFOXXab2XXa-270-122.svg"};t.default=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.width,d=e.height,u=e.alpha,f=e.x,h=e.y,p=e.rotate,g=e.zIndex,_=e.codeMap,x=e.type,m=e.showText,e=c<=1||d<=1||0==u;l+='<div style="left:'+n(f)+"px;top:"+n(h)+"px;width:"+n(c)+"px;height:"+n(d)+"px;transform:rotate("+n(p)+"deg);z-index:"+n(g)+";",e&&(l+="border:dotted 1px #ff000030"),l+='" class="xzKVLbst">';m=_[x+(m?"_text":"")];return l+=" ",l+=m?'<img style="width:100%;height:100%;opacity:'+n(u)+';" src="'+n(m)+'">':" \u6682\u4e0d\u652f\u6301"+n(x)+"\u7684\u9884\u89c8 ",l+="</div>"},init:function(e){this.assign(e),this.updater.set({codeMap:r})},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/vline/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),r=e("../../editor/const/props-desc"),o=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../../i18n/index"),l=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/vline/index"}),l.init.apply(this,arguments)}},{title:"__fO",type:"vline",modifier:{resize:!0,resizeY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,rotate:0,width:1.33,type:"solid",height:75.59,locked:!1,tip:s.default("__fO")}},props:[{tip:"__eq",key:"x",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__er",key:"y",type:r.default.NUMBER,fixed:2,read:o.default.__i,write:o.default.__h},{tip:"__eB",key:"height",type:r.default.NUMBER,min:.01,fixed:2,max:2800,read:o.default.__i,write:o.default.__h},{tip:"__eC",key:"width",type:r.default.NUMBER,min:.01,fixed:2,max:2800,read:o.default.__m,write:o.default.__k},{tip:"__eD",key:"type",type:r.default.DROPDOWN,textKey:"text",valueKey:"value",items:a.default.LINE_TYPES},{type:r.default.SPLITER},{tip:"__ey",key:"locked",type:r.default.BOOLEAN,role:"free"},{tip:"__ez",key:"tip",type:r.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M 29 10 L 29 50" style="stroke:#fff;stroke-width:2"/></svg>'})}),define("element/vline/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e=e("magix");t.default=e.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.x,d=e.y,u=e.height,f=e.type,h=e.width,e=e.zIndex;return l+='<div style="left:'+n(c)+"px;top:"+n(d)+"px;height:"+n(u<1?1:u)+"px;border-left:"+n(f)+" "+n(h<1?1:h)+"px #000;z-index:"+n(e)+'" class="xzKVLbst"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/vtext/designer",["magix","../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../editor/core/designer"),o=e("../../editor/const/props-desc"),a=e("../../util/converter"),s=e("../../cainiao/const"),l=e("../../i18n/index"),c=r.default.prototype,e=function(e,t){return e?(t._x=t.x,t._y=t.y,t._width=t.width,t._height=t.height,t.x=.76,t.y=.76,t.width=-3.77,t.height=-3.77):(t.x=t._x,t.y=t._y,t.width=t._width,t.height=t._height),t.xLocked=e,t.yLocked=e,t.widthLocked=e,t.heightLocked=e,t.zIndex=0,e};t.default=r.default.extend({init:function(){this.updater.set({elementPath:"element/vtext/index"}),c.init.apply(this,arguments)}},{title:"__fP",type:"vtext",modifier:{rotate:!0,resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},writeAdapter:e,getProps:function(e,t){return{x:e,y:t,zIndex:0,width:22.68,height:128.5,locked:!1,rotate:0,alpha:1,supportCNStyle:!1,useCNStyle:!1,autoFontSize:!1,fontFamily:"SimHei",fontSize:8,lineHeight:["","mm"],fontStyle:[],align:["left","top"],letterSpacing:0,fontWeight:"normal",text:"",alias:"",direction:"ltr",color:"-1",tip:l.default("__fP"),allowEdit:1}},props:[{tip:"__eq",key:"x",type:o.default.NUMBER,fixed:2,read:a.default.__i,write:a.default.__h},{tip:"__er",key:"y",type:o.default.NUMBER,fixed:2,read:a.default.__i,write:a.default.__h},{tip:"__eF",key:"width",type:o.default.NUMBER,min:"0",fixed:2,max:2800,read:a.default.__i,write:a.default.__h},{tip:"__eG",key:"height",type:o.default.NUMBER,min:"0",fixed:2,max:2800,read:a.default.__i,write:a.default.__h},{tip:"__eI",key:"useCNStyle",ifShow:function(e){return n.default.config("cnTableText")&&e.supportCNStyle},type:o.default.BOOLEAN,refresh:!0,write:e},{tip:"__eJ",key:"rotate",type:o.default.NUMBER,min:-360,max:360},{tip:"__eu",key:"alpha",type:o.default.NUMBER,min:"0",max:1,fixed:2,step:.1},{tip:"__eK",key:"fontFamily",type:o.default.DROPDOWN,textKey:"text",valueKey:"value",items:s.default.FONT_FAMILIES},{tip:"__eL",key:"fontSize",type:o.default.NUMBER,min:"0",step:1,fixed:2},{tip:"__eM",key:"autoFontSize",type:o.default.BOOLEAN,write:function(e,t){return t.fontSizeLocked=e}},{tip:"__eN",key:"letterSpacing",type:o.default.NUMBER,min:"0"},{tip:"__eO",key:"lineHeight",type:o.default.LINEHEIGHT,min:"0"},{tip:"__eP",key:"color",type:o.default.DROPDOWN,textKey:"text",valueKey:"value",items:[{text:"__eQ",value:"-1"},{text:"__eR",value:1}]},{tip:"__eS",key:"fontWeight",type:o.default.DROPDOWN,items:s.default.FONT_WEIGHTS},{tip:"__eT",key:"direction",type:o.default.DROPDOWN,items:s.default.DIRECTIONS},{tip:"__eU",key:"fontStyle",type:o.default.FONTSTYLE},{tip:"__eV",key:"align",type:o.default.FONTALIGN},{tip:"__eW",key:"text",type:o.default.TEXTAREA,styleVTop:1,ifShow:function(e){return 0<e.allowEdit}},{tip:"__eX",key:"alias",type:o.default.INPUT,ifShow:function(e){return 0<e.allowEdit},refresh:!0,sync:"tip"},{type:o.default.SPLITER},{tip:"__ey",type:o.default.BOOLEAN,key:"locked",role:"free"},{tip:"__ez",key:"tip",type:o.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path style="stroke:#fff;stroke-width:2" d="M 20 15 L 20 45 M 31 17 L 31 30 M 40 15 L 40 38" /></svg>'})}),define("element/vtext/index",["magix","../../util/converter"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../util/converter");t.default=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.color,d=e.useCNStyle,u=e.width,f=e.height,h=e.alpha,p=e.x,g=e.y,_=e.rotate,x=e.fontFamily,m=e.letterSpacing,v=e.lineHeight,b=e.direction,y=e.fontWeight,w=e.fontStyle,L=e.flexMap,z=e.align,k=e.zIndex,S=e.autoFontSize,V=e.fontSize,K=e.scale,C=e.vId,T=e.alias,A=e.toHTML,E=e.text,M=e.i18n,e="1"!=c&&!d&&(u<=1||f<=1||0==h);return l+='<div class="xzKVLbst" style="left:'+n(p)+"px;top:"+n(g)+"px;opacity:"+n(h)+";transform:rotate("+n(_)+"deg);font-family:'"+n(x)+"';font-size:8pt;letter-spacing:"+n(m)+"pt;",""!==v[0]&&(l+="line-height:"+n(v[0])+n(v[1])+";"),l+="width:",l+=d?"92%":n(u)+"px",l+=";height:",l+=d?"92%":n(f)+"px",l+=";direction:"+n(b)+";overflow:hidden;writing-mode:tb-rl;",l+="1"==c?"color:#fff;background-color:#000;":"color:#000;background-color:#fff;",l+="font-weight:"+n(y)+";",w[0]&&(l+="font-style:italic;"),w[1]&&(l+="text-decoration:underline;"),l+="display:flex;align-items:"+n(L[z[1]])+";justify-content:"+n(L[z[0]])+";z-index:"+n(k)+";cursor:text;",e&&(l+="border:dotted 1px #ff000030"),l+='"><div style="-webkit-user-modify:read-write-plaintext-only;outline:none;cursor:text;',S||(l+="font-size:"+n(V*K)+"pt;"),l+='" contenteditable="true" data-role="text-element" mx-focusout="'+t+'\x1e__fb()" mx-input="'+t+'\x1e__fa()" id="area_'+n(C)+'">',l+=T?r(A(T)):E?r(A(E)):n(M("_fc")),l+="</div></div>"},init:function(e){this.assign(e),this.updater.set({flexMap:{left:"flex-start",center:"center",right:"flex-end",bottom:"flex-end",top:"flex-start",middle:"center"},originMap:{"left,top":"top right","left,middle":"top center","left,bottom":"top left","center,top":"center right","center,middle":"center center","center,bottom":"center left","right,top":"bottom right","right,middle":"bottom center","right,bottom":"bottom left"},toHTML:r.default.__eY})},assign:function(e){return this.__eZ=e,this.updater.set(e.props),this.updater.set({scale:n.State.get("__j")}),e.forceUpdate},render:function(){var e,t;this.updater.digest(),this.updater.get("editable")&&((t=$("#area_"+this.id)).focus(),(e=document.createRange()).selectNodeContents(t[0]),e.collapse(!1),0==(t=window.getSelection()).anchorOffset&&(t.removeAllRanges(),t.addRange(e)))},"__fa<input>":function(e){e=r.default.__f_(e.eventTarget.innerHTML);this.__eZ.props.text=e},"__fb<focusout>":function(e){var t=this.__eZ,i=t.id,t=t.props;t.editable=!1,n.State.fire("__aD"),n.State.fire("__ap",{data:t,eId:i}),n.State.fire("__G")}})}),define("editor/index",["magix","./const/click-desc","../gallery/mx-dialog/index","../cainiao/const","./core/history","./core/store","../element/index","../i18n/index","./core/cursor","./core/mask","../cainiao/serializer","../service/index","../gallery/mx-runner/index","./core/draft","./core/toolbox","./core/toolbar","./core/axis","./core/stage","./core/property"],function(e,t,i){e("./core/draft"),e("./core/toolbox"),e("./core/toolbar"),e("./core/axis"),e("./core/stage"),e("./core/property"),t.__esModule=!0;var h=e("magix"),o=e("./const/click-desc"),n=e("../gallery/mx-dialog/index"),r=e("../cainiao/const"),s=e("./core/history"),l=e("./core/store"),p=e("../element/index"),c=e("../i18n/index"),a=e("./core/cursor"),d=e("./core/mask"),u=e("../cainiao/serializer"),f=e("../service/index"),g=e("../gallery/mx-runner/index"),_=[],x=1,m="can not load html2canvas library",v=h.default.mix;h.default.applyStyle("xzKVLbsi",".xzKVLbsaS{height:40px;line-height:40px;font-size:16px;padding:0 10px;background:#06f;color:#fff;position:relative;z-index:3000}.xzKVLbsaT{height:calc(100% - 40px)}.xzKVLbsaU{width:calc(100% - 475px);height:calc(100% - 45px)}.xzKVLbsaV{transition:width .15s}.xzKVLbsaW{width:calc(100% - 265px)}.xzKVLbsaX{width:calc(100% - 21px);overflow:scroll;height:100%;background-color:#edeef3;transition:all .3s}.xzKVLbsaY{box-shadow:inset 1px 1px 6px 2px #dadada}.xzKVLbsaX::-webkit-scrollbar{width:10px;height:10px}.xzKVLbsaX::-webkit-scrollbar-thumb{background-color:#c2c0c0;min-height:25px;min-width:25px;border:1px solid #e0e0e0}.xzKVLbsaX::-webkit-scrollbar-track{background-color:#f7f7f7;border:1px solid #efefef}.xzKVLbsaZ{line-height:25px;position:relative;z-index:3000}.xzKVLbsb_{outline:none;color:hsla(0,0%,100%,.6470588235294118);border:1px solid hsla(0,0%,100%,.6470588235294118);background:transparent;border-radius:4px;height:20px;line-height:16px;font-size:14px;padding:2px 8px;width:60px}.xzKVLbsb_:hover{color:#fff;border:1px solid #fff}.xzKVLbsba{width:235px}.xzKVLbsbb{font-size:14px;line-height:45px;height:40px}.xzKVLbsbc{margin-left:10px;color:hsla(0,0%,100%,.6470588235294118);font-size:10px}"),h.default.View.merge(n,{__bl:function(n,r){var o=this;r=r||150;var a,s=Date.now();return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Date.now();clearTimeout(a),r<i-s?(s=i,n.apply(o,e)):a=setTimeout(function(){n.apply(o,e)},r-(i-s))}},__dN:function(e,t,i,n){e=Math.max(i-(t-e),16);setTimeout(n,e)}});function b(e){var t=h.State.get("page"),i=h.State.get("__aN"),n=h.State.get("__av"),r=h.State.get("__o"),o=h.State.get("__p"),a=p.default.byJSON(e.elements),s=a.elements,l=a.map;e.page&&v(t,e.page),i.length=0,i.push.apply(i,s),n.length=0;var c={};if(e.select)for(var d=0,u=e.select;d<u.length;d++){var f=l[u[d].id];f&&(c[f.id]=1,n.push(f))}r.length=0,e.xLines&&r.push.apply(r,e.xLines),o.length=0,e.yLines&&o.push.apply(o,e.yLines),h.State.set({__j:e.scale||1,__au:c})}var y={id:1,colIndex:1,rowIndex:1,locked:1,lockSize:1,top:1,left:1,hasLeft:1,hasTop:1,hasBottom:1,hasRight:1};t.default=h.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.i18n,d=e.name,u=e.lang,f=e.vId,h=e.anim,e=e.collapse;return l+='<div mxa="xzKVLbsl:_" class="xzKVLbsaS"><div mxa="xzKVLbsl:a" class="xzKVLbsp xzKVLbsba"><i mxs="xzKVLbsl:_" class="xzKVLbsN xzKVLbsd">&#xe63c;</i>'+n(c("_en"))+'&trade;</div><div mxa="xzKVLbsl:b" class="xzKVLbsp xzKVLbsbb">'+n(d)+'<span mx-view="editor/core/draft?lang='+o(u)+'" id="draft_'+n(f)+'" class="xzKVLbsbc"></span></div><div mxa="xzKVLbsl:c" class="xzKVLbsq xzKVLbse" id="header_btns"><button mxa="xzKVLbsl:d" class="xzKVLbsb_ xzKVLbse" mx-click="'+t+'\x1e__em()">'+n(c("_bk"))+'</button><button mxa="xzKVLbsl:e" class="xzKVLbsb_ xzKVLbse" mx-click="'+t+'\x1e__aU()">'+n(c("_eo"))+'</button><button mxa="xzKVLbsl:f" class="xzKVLbsb_" mx-click="'+t+'\x1e__el()">',l+="en-us"==u?"\u4e2d\u6587":"EN",l+='</button></div></div><div mxa="xzKVLbsl:g" class="xzKVLbsaT"><div mx-view="editor/core/toolbox" id="toolbox_'+n(f)+'" class="xzKVLbsn xzKVLbsp xzKVLbsx"></div><div class="xzKVLbsaU xzKVLbsp',h&&(l+=" xzKVLbsaV"),e&&(l+=" xzKVLbsaW"),l+='" id="canvas_'+n(f)+'"><div mxs="xzKVLbsl:a" mx-view="editor/core/toolbar" class="xzKVLbsaZ xzKVLbsx"></div><div mx-view="editor/core/axis?cnt='+o(f)+'_stage" class="xzKVLbsu xzKVLbsx"></div><div mx-view="editor/core/stage" id="'+n(f)+'_stage" class="xzKVLbsaX xzKVLbsx xzKVLbsaY"></div></div><div mx-view="editor/core/property" id="property_'+n(f)+'" class="xzKVLbsn xzKVLbsq"></div></div>'},mixins:[f.default],init:function(){var t=this;window.onbeforeunload=function(e){if(t.__dO())return c.default("__dP")},h.State.on("__aO",function(e){b(e.json)}),h.State.on("__ay",function(e){e.cursor?a.default.__an(e.cursor):a.default.__ao()}),h.State.on("__r",function(){t.__dQ(!0)}),this.__dQ()},__dV:function(){var t,i=this;!this.__dR&&1e3<r.default.AUTO_SAVE&&(this.__dR=Date.now(),t=h.Vframe.get("draft_"+this.id),this.__dS=function(){var e=Date.now()-i.__dR;(e=r.default.AUTO_SAVE-e)<=0?i.__dT(!0):t.invoke("__aq",[{after:Math.round(e/1e3)}])},g.__dU(1e3,this.__dS))},__dY:function(){clearInterval(this.__dW),g.__dX(this.__dS),delete this.__dR},__dQ:function(e){var t;this.__dZ=h.default.guid("ss"),e&&((e=this.__dO())?(this.__dR||(t=h.Vframe.get("draft_"+this.id))&&t.invoke("__aq",[{saving:0,draft:e,after:Math.round(r.default.AUTO_SAVE/1e3)}]),l.default.__aU(),this.__dV()):(l.default.__aQ(),this.__dY(),(t=h.Vframe.get("draft_"+this.id))&&t.invoke("__aq",[{saving:0,draft:0}])))},__e_:function(n){var r=this,o=Date.now();setTimeout(r.wrapAsync(function(){new Promise(function(e,t){var r;2&x?window.html2canvas?e():t(m):4&x?_.push([e,t]):(x|=4,_.push([e,t]),(r=document.createElement("script")).src="//html2canvas.hertzen.com/dist/html2canvas.min.js",r.onload=r.onerror=function(){document.head.removeChild(r),x|=2;for(var e=0,t=_;e<t.length;e++){var i=t[e],n=i[0],i=i[1];window.html2canvas?n():i(m)}_.length=0},document.head.appendChild(r))}).then(function(){html2canvas(h.default.node("stage_stage")).then(function(e){e=function(e){for(var t=e.split(","),e=t[0].match(/:(.*?);/)[1],i=atob(t[1]),n=i.length,r=new Uint8Array(n);n--;)r[n]=i.charCodeAt(n);return new Blob([r],{type:e})}(e.toDataURL("image/png"));r.request().all({name:"__e_",files:e,params:{temp_id:h.default.config("tempId"),biz_id:h.default.config("bizId")}},function(e,t){var i=Date.now();r.__dN(o,i,300,function(){e?(r.alert(e.msg),n(e)):n(null,t.get("data.url",""))})})})}).catch(function(e){r.alert(e)})}),50)},__ec:function(n,e,r){var o=this,t={page:h.State.get("page"),elements:h.State.get("__aN")},a=this.__dZ,t=u.default.encode(t),s=Date.now();this.save({name:"__dT",params:{temp_id:h.default.config("tempId"),content:t,thumb_url:e}},function(e,t){var i=Date.now();o.__dN(s,i,300,function(){a==o.__dZ&&(o.__dY(),r(e),e?n||o.alert(c.default("_aM")+e.msg):(l.default.__aQ(),o.__ea=o.__eb()))})})},__dT:function(i){var n=this;h.State.fire("__bC",{zone:o.default.OTHER}),this.__dR=1;var r=h.Vframe.get("draft_"+this.id);r&&r.invoke("__aq",[{saving:1,draft:0}]),h.State.fire("__bM",{start:!0}),this.__e_(function(e,t){h.State.fire("__bM"),e?(r&&r.invoke("__aq",[{saving:0,draft:1}]),n.__dR=0):n.__ec(i,t,function(e){r&&r.invoke("__aq",[{saving:0,draft:0,error:e}]),n.__dR=0,n.alert("\u4fdd\u5b58\u6210\u529f\uff5e")})})},__dO:function(){return this.__ea!=this.__eb()},__eb:function(){return JSON.stringify({page:h.State.get("page"),elements:h.State.get("__aN")},function(e,t){if(!h.default.has(y,e))return t})},__ee:function(){var i=this,n=l.default.__cv(),e=h.default.config("bizId"),t=h.default.config("tempId");n.success&&n.bizId==e&&n.tempId==t&&this.confirm(c.default("__ed"),function(){b(n),h.State.fire("__q",{keepSelect:1}),h.State.fire("__bb"),h.State.fire("__as");var e,t=i.__dO;t&&(h.State.fire("__G"),(e=h.Vframe.get("draft_"+i.id))&&e.invoke("__aq",[{draft:t}]))},function(){l.default.__aQ()})},render:function(){var o=this,e=h.default.parseUrl(location.search).params,t=h.default.config("mock"),i=e.temp_id,e=e.biz_id;t&&(e=i="-1"),i&&e?d.default.__an("__eg"):d.default.__an("__ef"),h.default.config({tempId:i,bizId:e});var a,t={page:{xmlns:r.default.CLOUD_PRINT_NAME_SPACE,"xmlns:xsi":r.default.XSI_NAME_SPACE,"xsi:schemaLocation":r.default.SCHEMA_LOCATION_NAME_SPACE,"xmlns:editor":r.default.EDITOR_NAME_SPACE,width:r.default.PAGE_WIDTH_DEFAULT*r.default.SCALE_DEFAULT,height:r.default.PAGE_HEIGHT_DEFAULT*r.default.SCALE_DEFAULT,header:0,footer:0,splitable:!0},__j:r.default.SCALE_DEFAULT,__cp:null,__aN:[],__aV:null,__av:[],__au:{},__o:[],__p:[]};h.State.set(t),this.updater.digest({lang:h.default.config("lang")}),i&&e&&(a=Date.now(),this.fetch({name:"__eh",params:{temp_id:i,biz_id:e}},function(n,r){var e=Date.now();o.__dN(a,e,500,function(){if(n)d.default.__an(n.msg);else{var e=r.get("data.content",""),t=r.get("data.temp_name","");o.updater.digest({name:t});try{var i=u.default.decode(e);b(i),s.default.__aP(),h.State.fire("__bb"),h.State.fire("__q"),h.State.fire("__as"),o.__ea=o.__eb(),o.__ee(),d.default.__ao()}catch(e){d.default.__an(e.message)}}})}))},"$doc<mousedown,mouseup>":function(e){var t;"mousedown"==e.type?(this.__ei=e.pageX,this.__ej=e.pageY):(t=e.pageX-this.__ei,e=e.pageY-this.__ej,(5<t||5<e)&&(this.__ek=!0))},"$doc<click>":function(e){var t;this.__ek?delete this.__ek:h.default.inside(e.target,document.body)&&(t=o.default.OUTER,h.default.inside(e.target,"app")&&(h.default.inside(e.target,"toolbox_list")||h.default.inside(e.target,"toolbox_prelist")||h.default.inside(e.target,"header_btns")||(h.default.inside(e.target,"canvas_"+this.id)?t=o.default.CANVAS:h.default.inside(e.target,"property_"+this.id)&&(t=o.default.PROPERTY),h.State.fire("__bC",{zone:t}))))},"$doc<drop,dragover>":function(e){e.preventDefault(),"dragover"==e.type?h.State.fire("__bD",{hoverNode:e.target}):h.State.fire("__bD")},"$doc<toolboxtoggle>":function(e){this.updater.digest({anim:!0,collapse:e.collapse})},"__el<click>":function(){var e="zh-cn"==(e=h.default.config("lang"))?"en-us":"zh-cn";h.default.config({lang:e}),h.State.fire("__s",{lang:e}),this.updater.digest({lang:e})},"__aU<click>":function(){this.__dT()},"__em<click>":function(){var e=this;e.mxDialog("editor/core/print",{width:600,enter:function(){e.alert("\u672a\u6388\u6743\u8f6f\u4ef6\uff0c\u4e0d\u80fd\u4f7f\u7528\u6253\u5370\u529f\u80fd~")}})}})}),define("editor/const/click-desc",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={TOOLBOX:1,CANVAS:2,PROPERTY:4,OTHER:8,OUTER:16}}),define("editor/const/keys",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={UP:38,DOWN:40,LEFT:37,RIGHT:39,DELETE:46,BACKSPACE:8,TAB:9,C:67,V:86,A:65,W:87,S:83,F:70,N:78,D:68,X:88,Z:90,Y:89}}),define("editor/const/props-desc",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={LABEL:1,INPUT:2,NUMBER:4,DROPDOWN:8,IMAGE:16,ORIGINSIZE:32,TEXTAREA:64,SPLITER:128,BOOLEAN:256,LINEHEIGHT:512,FONTSTYLE:1024,FONTALIGN:2048,CELLOPERATE:4096,CELLSIZE:8192,CELLFOCUS:16384,CELLCOLSHARE:32768,CELLROWSHARE:65536,CELLDROPDOWN:2<<16}}),define("editor/core/axis",["magix","$","../../util/converter","../../gallery/mx-dragdrop/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),f=e("$"),r=e("../../util/converter"),e=e("../../gallery/mx-dragdrop/index"),p=n.default.State,g=r.default.__i;n.default.applyStyle("xzKVLbsa",".xzKVLbsP{height:20px;border-bottom:1px solid #ccc;overflow:hidden;width:100%;background:#fff;z-index:2000;position:relative}.xzKVLbsQ{float:left;width:21px;height:100%;border-right:1px solid #ccc;overflow:hidden}.xzKVLbsR{top:0;width:1px}.xzKVLbsR,.xzKVLbsS{position:absolute;background:#06f;z-index:2000;display:none}.xzKVLbsS{left:0;height:1px}.xzKVLbsT{left:0;top:0;width:21px;height:20px;border-bottom:1px solid #ccc;border-right:1px solid #ccc;z-index:2001}.xzKVLbsT,.xzKVLbsU{position:absolute;background:#fff}.xzKVLbsU{left:5px}.xzKVLbsU,.xzKVLbsV{cursor:default;font-size:10px}.xzKVLbsV{position:absolute;top:-5px;background:#fff;transform:rotate(-90deg);transform-origin:0 0}.xzKVLbsW,.xzKVLbsX{position:relative;z-index:1000}.xzKVLbsW{top:20px}.xzKVLbsX{left:20px}.xzKVLbsY{width:4px;border-left:1px solid #06f}.xzKVLbsY,.xzKVLbsZ{position:absolute;pointer-events:none}.xzKVLbsZ{height:1px;background:#06f}.xzKVLbsa_{left:-15px;top:6px;cursor:pointer;pointer-events:all}.xzKVLbsa_,.xzKVLbsaa{position:absolute;font-size:10px;color:#666}.xzKVLbsaa{left:4px;top:2px;cursor:default}.xzKVLbsab{left:6px;top:-15px;cursor:pointer;pointer-events:all}.xzKVLbsab,.xzKVLbsac{position:absolute;font-size:10px;color:#666}.xzKVLbsac{left:4px;top:2px;cursor:default}.xzKVLbsad{width:25px;top:-1px;height:3px;left:30px;cursor:ns-resize}.xzKVLbsae,.xzKVLbsad{position:absolute;overflow:hidden;background:#0075f7;pointer-events:all}.xzKVLbsae{width:3px;left:-2px;height:25px;top:20px;cursor:ew-resize}"),t.default=n.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.scale,d=e.sTop,u=e.vId,f=e.draw,h=e.yHelpers,p=e.toMM,g=e.yStart,_=e.vWidth,x=e.i18n,m=e.sLeft,v=e.xHelpers,b=e.xStart,y=e.vHeight,w=e.width,L=e.xEnd,z=e.height,k=e.yEnd;l+=" ";l+=" ";var S=3.7795275593333*c;l+=" ";var V=15;l+=" ",c<=.5?(l+=" ",V=30,l+=" "):c<1?(l+=" ",V=25,l+=" "):4.5<=c?(l+=" ",V=3,l+=" "):4<=c?(l+=" ",V=4,l+=" "):3.5<=c?(l+=" ",V=5,l+=" "):3<=c?(l+=" ",V=6,l+=" "):2.5<=c?(l+=" ",V=8,l+=" "):2<=c?(l+=" ",V=10,l+=" "):1.5<=c&&(l+=" ",V=12,l+=" "),l+=" ",l+=" ";var K,C=V/5*S;l+=" ",l+=" ";var T="#aaa;";if(l+='<div class="xzKVLbsX" style="top:-'+n(d)+'px" id="'+n(u)+'_y_help">',f){l+=" ";for(var A=0,E=h.length;A<E;A++){var M=h[A];l+=" ";var N=S*(Math.abs(p(g))+M.mm)+20;l+='<div class="xzKVLbsZ" style="width:'+n(_)+"px;top:"+n(N)+'px;"><i class="xzKVLbsN xzKVLbsab" title="'+n(x("_M"))+'" mx-click="'+t+"\x1e__J({type:'y',id:'"+n(s(M.id))+'\'})">&#xe600;</i><span mxa="xzKVLbs_:_" class="xzKVLbsac">'+n(M.mm)+'</span><span class="xzKVLbsad" mx-mousedown="'+t+"\x1e__K({type:'y',id:'"+n(s(M.id))+"',c:"+n(N)+'})" title="'+n(x("_N"))+'"></span></div>'}l+=" "}if(l+='</div><div class="xzKVLbsW" style="left:-'+n(m)+'px" id="'+n(u)+'_x_help">',f){l+=" ";for(var I=0,D=v.length;I<D;I++){M=v[I];l+=" ";N=S*(Math.abs(p(b))+M.mm);l+='<div class="xzKVLbsY" style="height:'+n(y)+"px;left:"+n(N)+'px;"><i class="xzKVLbsN xzKVLbsa_" title="'+n(x("_M"))+'" mx-click="'+t+"\x1e__J({type:'x',id:'"+n(s(M.id))+'\'})">&#xe600;</i><span mxa="xzKVLbs_:a" class="xzKVLbsaa">'+n(M.mm)+'</span><span class="xzKVLbsae" mx-mousedown="'+t+"\x1e__K({type:'x',id:'"+n(s(M.id))+"',c:"+n(N)+'})" title="'+n(x("_N"))+'"></span></div>'}l+=" "}if(l+='</div><div mxa="xzKVLbs_:b" mx-mousemove="'+t+'\x1e__C()" mx-mouseout="'+t+'\x1e__D()" mx-click="'+t+'\x1e__H()"><div class="xzKVLbsP" id="'+n(u)+'_x"><div style="width:'+n(w)+'px;height:100%">',f){l+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+n(w)+' 20" style="cursor:default;">';for(var O=0;O<b;O+=C)l+=" ",l+=" ",l+=(K=p(O))%V==0?'<rect width="1" height="'+n(12)+'" x="'+n(b-O)+'" y="'+n(7)+'" style="fill:'+n(T)+';"/><text x="'+n(b-O+2)+'" y="14" style="font-size:10px;fill:#999;">'+n(0===K?0:-K)+"</text>":'<rect width="1" height="'+n(4)+'" x="'+n(b-O)+'" y="'+n(15)+'" style="fill:'+n(T)+';"/>',l+=" ";l+=" ";for(O=C;O<L;O+=C)l+=" ",l+=" ",l+=(K=p(O))%V==0?'<rect width="1" height="'+n(12)+'" x="'+n(b+O)+'" y="'+n(7)+'" style="fill:'+n(T)+';"/><text x="'+n(b+O+2)+'" y="14" style="font-size:10px;fill:#999;">'+n(K)+"</text>":'<rect width="1" height="'+n(4)+'" x="'+n(b+O)+'" y="'+n(15)+'" style="fill:'+n(T)+';"/>',l+=" ";l+="</svg>"}if(l+='</div></div><div class="xzKVLbsR" id="'+n(u)+'_x_line" style="height:'+n(y+20)+'px"><span mxs="xzKVLbs_:_" class="xzKVLbsU"></span></div></div><div mxa="xzKVLbs_:c" mx-mousemove="'+t+'\x1e__E()" mx-mouseout="'+t+'\x1e__F()" mx-click="'+t+'\x1e__I()"><div class="xzKVLbsQ" style="height:'+n(y)+'px;" id="'+n(u)+'_y"><div style="height:'+n(z)+'px;">',f){l+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 '+n(z)+'" style="cursor:default">';for(O=0;O<g;O+=C)l+=" ",l+=" ",l+=(K=p(O))%V==0?'<rect width="'+n(12)+'" height="1" x="'+n(8)+'" y="'+n(g-O)+'" style="fill:'+n(T)+';"/><text x="14" y="'+n(g-O+2)+'" style="font-size:10px;fill:#999;" transform="rotate(-90,13,'+n(g-O)+')">'+n(0===K?0:-K)+"</text>":'<rect width="'+n(4)+'" height="1" x="'+n(16)+'" y="'+n(g-O)+'" style="fill:'+n(T)+';"/>',l+=" ";l+=" ";for(O=C;O<k;O+=C)l+=" ",l+=" ",l+=(K=p(O))%V==0?'<rect width="'+n(12)+'" height="1" x="'+n(8)+'" y="'+n(g+O)+'" style="fill:'+n(T)+';"/><text x="14" y="'+n(g+O)+'" style="font-size:10px;fill:#999;;" transform="rotate(-90,13,'+n(g+O-2)+')">'+n(K)+"</text>":'<rect width="'+n(4)+'" height="1" x="'+n(16)+'" y="'+n(g+O)+'" style="fill:'+n(T)+';"/>',l+=" ";l+="</svg>"}return l+='</div></div><div class="xzKVLbsS" id="'+n(u)+'_y_line" style="width:'+n(_+20)+'px"><span mxs="xzKVLbs_:a" class="xzKVLbsV"></span></div></div><div mxs="xzKVLbs_:b" class="xzKVLbsT"></div>'},mixins:[e],init:function(e){var t=this,e=f.default("#"+e.cnt);e.on("scroll",function(){t.syncScroll()}),this.__n=e;function i(){n.set({xHelpers:p.get("__o"),yHelpers:p.get("__p")})}var n=this.updater,r=0,e=function(){clearTimeout(r),r=setTimeout(function(){i(),t.rerender(!0),t.syncScroll()},30)};n.set({sLeft:0,sTop:0}),i(),p.on("__q",e),p.on("__r",e),p.on("__s",e),this.__t=f.default("#"+this.id)},rerender:function(e){var t,i,n=this.__n,r=n.prop("scrollWidth")+50,o=n.prop("scrollHeight")+50,a=0,s=0,l=0,c=0,d=10,u=10;e&&(t=f.default("#stage_stage"),i=f.default("#stage_outer"),t=t.offset(),i=i.offset(),s=r-(a=Math.round(t.left-i.left)+20),c=o-(l=Math.round(t.top-i.top)),d=n.height(),u=n.width()),this.updater.digest({toMM:g,scale:p.get("__j"),width:r,height:o,draw:e,xStart:a,xEnd:s,yStart:l,vHeight:d,vWidth:u,yEnd:c}),this.__u=f.default("#"+this.id+"_x"),this.__v=f.default("#"+this.id+"_y"),this.__w=f.default("#"+this.id+"_y_help"),this.__x=f.default("#"+this.id+"_x_help"),this.__y=f.default("#"+this.id+"_x_line"),this.__z=this.__y.find("span"),this.__A=f.default("#"+this.id+"_y_line"),this.__B=this.__A.find("span")},syncScroll:function(){var e=this.__u,t=this.__v,i=this.__w,n=this.__x,r=this.__n,o=r.prop("scrollTop"),r=r.prop("scrollLeft");e.prop("scrollLeft",r),t.prop("scrollTop",o),i.css({top:-o}),n.css({left:-r}),this.updater.set({sLeft:r,sTop:o})},render:function(){var e=this;this.rerender();var t=setInterval(function(){f.default("#stage_stage").length&&(clearInterval(t),e.rerender(!0))},30)},"__C<mousemove>":function(e){var t=this.__t.offset(),i=this.__u,e=e.pageX-t.left,t=this.updater.get("xStart");this.__y.css({display:"block",left:e});i=g(e-t+i.prop("scrollLeft"));this.__z.html(i)},"__D<mouseout>":function(e){n.default.inside(e.relatedTarget,e.eventTarget)||this.__y.css({display:"none"})},"__E<mousemove>":function(e){var t=this.__t.offset(),i=e.pageY-t.top,e=this.updater.get("yStart"),t=this.__v;this.__A.css({display:"block",top:i});t=g(i-e-20+t.prop("scrollTop"));this.__B.html(t)},"__F<mouseout>":function(e){n.default.inside(e.relatedTarget,e.eventTarget)||this.__A.css({display:"none"})},"__H<click>":function(e){var t=this.__t.offset(),i=this.__u,e=e.pageX-t.left,t=this.updater.get("xStart"),t=g(e-t+i.prop("scrollLeft")),i=this.updater.get("xHelpers");i.push({mm:t,id:n.default.guid("x_")}),this.updater.digest({xHelpers:i}),p.fire("__G")},"__I<click>":function(e){var t=this.__t.offset(),i=e.pageY-t.top,e=this.updater.get("yStart"),t=this.__v,e=g(i-e-20+t.prop("scrollTop")),t=this.updater.get("yHelpers");t.push({mm:e,id:n.default.guid("x_")}),this.updater.digest({yHelpers:t}),p.fire("__G")},"__J<click>":function(e){for(var t=e.params,e=t.type,i=t.id,t=e+"Helpers",e=this.updater,n=e.get(t),r=n.length;r--;)if(n[r].id==i){n.splice(r,1);break}e.digest(((e={})[t]=n,e)),p.fire("__G")},"__K<mousedown>":function(t){if(t.target==t.eventTarget){for(var i,n,r,e=t.params,o=e.type,a=e.id,s=e.c,l=o+"Helpers",c=this.updater,d=c.get(l),u=0,f=d;u<f.length;u++){var h=f[u];if(h.id==a){i=h;break}}i&&(n=c.get(o+"Start"),r=!1,this.dragdrop(t.target,function(e){r=!0,e="x"==o?e.pageX-t.pageX+s:e.pageY-t.pageY+s-20,i.mm=g(e-n),c.digest(((e={})[l]=d,e))},function(){r&&p.fire("__G")}))}},"$win<resize>":function(){this.rerender(!0),this.syncScroll()},"$doc<toolboxtoggle>":function(){var e=this;clearTimeout(e.__L),e.__L=setTimeout(function(){e.rerender(!0),e.syncScroll()},160)}})}),define("editor/core/code",["magix","../../cainiao/serializer","gallery/mx-codemirror/index"],function(e,t,i){e("gallery/mx-codemirror/index"),t.__esModule=!0;var n=e("magix"),r=e("../../cainiao/serializer");n.default.applyStyle("xzKVLbsb",""),t.default=n.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.i18n,e=e.xml;return l+='<div mxa="xzKVLbsa:_" class="xzKVLbsK"><b mxa="xzKVLbsa:a" class="xzKVLbsd">'+n(c("_V"))+'</b></div><div mxv mxa="xzKVLbsa:b" class="xzKVLbsL"><textarea mxa="xzKVLbsa:c" class="xzKVLbsC" style="width:100%;height:500px;" mx-view="gallery/mx-codemirror/index" mx-change="'+t+'\x1e__S()">'+n(e)+'</textarea></div><div mxa="xzKVLbsa:d" class="xzKVLbsM xzKVLbsw"><button mxa="xzKVLbsa:e" class="xzKVLbsz xzKVLbsq" mx-click="'+t+'\x1e__U()">'+n(c("_W"))+'</button><button mxa="xzKVLbsa:f" class="xzKVLbsz xzKVLbsA xzKVLbsd xzKVLbsq" mx-click="'+t+'\x1e__T()">'+n(c("_X"))+"</button></div>"},init:function(e){this.__O=e.stage,this.__P=e.dialog,this.__Q=e.enter},render:function(){var e=this.__O,t=r.default.encode(e),e=JSON.stringify(e.page);this.__R=e,this.updater.digest({xml:t})},"__S<change>":function(e){this.updater.set({xml:e.value})},"__T<click>":function(){var e,t=this.updater.get("xml");try{e=r.default.decode(t)}catch(e){return void this.alert(e.message)}this.__R!=JSON.stringify(e.page)&&(e.pageChange=!0),this.__Q(e),this.__P.close()},"__U<click>":function(){this.__P.close()}})}),define("editor/core/contextmenu",["magix","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0,t.Contextmenu=void 0;var a=e("magix"),s=e("../../i18n/index"),n={spliter:!0},r={id:0,text:"__Y",short:" (Ctrl+A)"},o={id:1,text:"__Z",short:" (Ctrl+C)"},l={id:14,text:"__a_",short:" (Ctrl+X)"},c={id:2,text:"__aa",short:" (Ctrl+V)"},d={id:5,text:"__ab"},u={id:6,text:"__ac"},f={id:3,text:"__ad"},h={id:4,text:"__ae"},p={id:7,text:"__af",short:" (Delete)"},g={id:8,text:"__ag"},_={id:9,text:"__ah"},x={id:10,text:"__ai"},m={id:11,text:"__aj"},v={id:12,text:"__ak"},b={id:13,text:"__al"},y={},e=function(o){return function(e){o.__am||(o.__am=a.default.guid("_m"));e+=o.__am;if(!y[e]){for(var t=[],i=0,n=o;i<n.length;i++){var r=n[i];r.spliter?t.push(r):t.push({id:r.id,text:s.default(r.text)+(r.short||"")})}y[e]=t}return y[e]}};t.Contextmenu={allId:r.id,pasteId:c.id,topId:f.id,upId:d.id,bottomId:h.id,downId:u.id,cutId:l.id,cellBottomId:_.id,cellTopId:g.id,cellLeftId:m.id,cellRightId:v.id,cellDeleteColId:b.id,cellDeleteRowId:x.id,singleElement:e([o,l,p,n,d,f,n,u,h]),multipleElement:e([o,l,p]),stage:e([r,c]),tableCell:e([r,c,n,g,_,x,n,m,v,b])}}),define("editor/core/cursor",["$","magix"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("$"),e=e("magix"),r=e.default.guid("cursor_");e.default.applyStyle("xzKVLbsc",".xzKVLbsaf{opacity:0;background:#fff;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10000}"),t.default={__an:function(e){var t=n.default("#"+r);t.length||(n.default("body").append('<div class="xzKVLbsaf" id="'+r+'"/>'),t=n.default("#"+r)),t.css({cursor:e}),t.show()},__ao:function(){n.default("#"+r).hide()}}}),define("editor/core/designer",["magix","../../cainiao/const","../../util/converter","../../util/transform","$","../../gallery/mx-dragdrop/index"],function(e,t,i){"use strict";t.__esModule=!0;var S=e("magix"),o=e("../../cainiao/const"),V=e("../../util/converter"),K=e("../../util/transform"),C=e("$"),e=e("../../gallery/mx-dragdrop/index");S.default.applyStyle("xzKVLbsd",".xzKVLbsah{width:24px;height:24px;padding:4px;cursor:move;color:#c3c3c3;transition:color .4s}.xzKVLbsah:hover{color:#000}.xzKVLbsag .xzKVLbsah{visibility:hidden}");var a=S.default.has,T={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3},n={},r={};S.State.on("__ap",function(e){var t=S.Vframe.get(e.eId);t&&t.invoke("__aq",[e.data])}),S.State.on("__s",function(){for(var e in n){var t=S.Vframe.get(e);t&&t.invoke("__ar")}}),S.State.on("__as",function(){for(var e in r){var t=S.Vframe.get(e);t&&(t.invoke("__at"),t.invoke("render"))}}),t.default=S.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.elementPath,d=e.ctor,u=e.id,f=e.type,h=e.props,p=e.onlyMove,g=e.vId,_=e.i18n,x=e.space,m=e.selected,v=e.count,e=e.size;l+='<div mxv="ctor,props,onlyMove" mx-view="'+n(c)+"?ctor="+a(i,d)+"&id="+o(u)+"&type="+o(f)+"&props="+a(i,h)+"&onlyMove="+a(i,p)+'&forceUpdate=true" id="entity_'+n(g)+'"></div>';p=h.height;l+=" ";var b,g=h.width;return l+=" ","table"==d.type?(l+=" ",p++,l+='<div style="left:'+n(h.x-24)+"px;top:"+n(h.y-6)+"px;z-index:"+n(h.zIndex)+';" class="xzKVLbst xzKVLbsah" title="'+n(_("_aJ"))+'"><i mxs="xzKVLbsb:_" class="xzKVLbsN">&#xe660;</i></div>'):(l+='<div style="width:',h.useCNStyle?l+="calc(92% + "+n(x)+"px)":l+=n(g+2*x)+"px",l+=";height:",h.useCNStyle?l+="calc(92% + "+n(x)+"px)":l+=n(p+2*x)+"px",l+=";left:"+n(h.x-x)+"px;top:"+n(h.y-x)+"px;",h.rotate&&(l+="transform:rotate("+n(h.rotate)+"deg);"),l+="background:#fff;opacity:0.01;z-index:"+n(h.zIndex)+";\ncursor:pointer;","htext"!=d.type&&"vtext"!=d.type||!h.editable||(l+="pointer-events:none;"),l+='" class="xzKVLbst" ',"htext"!=d.type&&"vtext"!=d.type||(l+=' mx-dblclick="'+t+'\x1e__aI()" '),l+="></div>"),l+=" ",m&&(l+=" ",m=h.locked||h.useCNStyle?"red":"#5390ef",l+='<div style="',h.rotate&&(l+="transform:rotate("+n(h.rotate)+"deg);"),l+="left:"+n(h.x-x)+"px;top:"+n(h.y-x)+"px;width:",h.useCNStyle?l+="calc(92% + "+n(x)+"px)":l+=n(Math.round(g+2*x))+"px",l+=";height:",h.useCNStyle?l+="calc(92% + "+n(x)+"px)":l+=n(p+2*x)+"px",l+=";border:dotted 1px "+n(m)+";pointer-events:none;z-index:"+n(h.zIndex)+'" class="xzKVLbst">',!d.modifier.rotate||h.locked||h.useCNStyle||1!=v||(l+='<div style="left:'+n(g+x-1)+"px;top:-"+n(x)+"px;width:"+n(2*e)+"px;height:"+n(2*e)+"px;background:#5390ef;border-radius:"+n(e)+'px;cursor:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAEIUExURUdwTOnp6QICAv7+/h0dHXJyco2NjQAAAAUFBQAAAKSkpP///////wQEBKqqqr+/v/Hx8f///6ioqAAAAP///6ysrD09Pf///+Li4tXV1be3t0xMTCYmJrKyssjIyPv7+2VlZYGBgfv7+5qams3Nzba2tv///yoqKkdHR5aWlgUFBfz8/PHx8f///////5OTk////7i4uO/v78TExOHh4a2trYiIiMDAwM/Pz0FBQf///2dnZ76+vv///93d3dra2q2trQAAADg4OBMTE3V1dQgICCYmJhwcHEdHR39/f0BAQF1dXTAwMLS0tI+Pj1VVVZaWlmVlZU9PT5ycnJiYmP39/Wlpaefn5+BeE2oAAABBdFJOUwDHBQkNd5QJFgH5p10b+vYeJLcQM6I8O/Lf30kowOaca4uOkEXPQjJQpihot4JyNH/4S9ferlW26mPfK85PkoTcnudyewAAAVlJREFUKM+FkeeWgjAQhQHpCirYe9e1be81AZFm3fb+b7JMotvOnrPzIwnfJcncG4b5p2L5aas1SaRhfZj4wtOi54YODtRxnskV4nueYYMZojVXs6crdsd7SQuQ74Ygb3xUjBGerkUcq4bYPHiyyc5jchUzdhCyqzlTkky5nQRhnQd+7yH0luXJP7clDIJN2nrwkXNHeepGd/F8hrZH8NVY4EWZdlG5FkSjW9IX0K+kCdUG5QoHA6/1B51owWmyLP2KQVHIJEl/hpQadVKxH6AezxB7hZdkkY1PEr2dcLnCZzDztahxy3HfHym/WCKkEqE7B0/LJr0wc2Uhi4ZogFlcyJH4R5Dn+oQIYgA7HJWtt+q1TRSi3aaHCh7ywkiaOSE51D7nqFB+XmertrV7KKyLe1uVV3E4FErLwPW3tm6UPw3JgmbyZmUgiGKz0f+egiwrjCJBccoX/QAYCzizwB7F9QAAAABJRU5ErkJggg==\') 12 12,auto;pointer-events:all" class="xzKVLbst" mx-mousedown="'+t+'\x1e__aH()"></div>'),l+=" ",h.useCNStyle||(l+='<div class="xzKVLbst" style="width:5px;height:1px;background:'+n(m)+";left:"+n((g+2*x)/2-3)+"px;top:"+n((p+2*x)/2-1)+'px;"></div><div class="xzKVLbst" style="width:1px;height:5px;background:'+n(m)+";left:"+n((g+2*x)/2-1)+"px;top:"+n((p+2*x)/2-3)+'px;"></div>'),l+=" ",d.modifier.resize&&1==v&&(l+=" ",v=((h.rotate||0)+360)%360,l+=" ",!d.modifier.resizeX||h.locked||h.widthLocked||(l+=" ",l+=" ",(b=0|Math.max(0,Math.min(8*e,h.height-2*e-2*x)))<2*e&&!d.modifier.resizeY&&(l+=" ",b=2*e,l+=" "),l+='<div style="right:-'+n(Math.round(e/2))+"px;top:"+n((p+2*x-b)/2|0)+"px;width:"+n(e)+"px;height:"+n(b)+"px;background:#5390ef;cursor:",v<=22.5||337.5<v||157.5<v&&v<=202.5?l+="ew":v<=67.5||202.5<v&&v<=247.5?l+="nwse":v<=112.5||247.5<v&&v<=292.5?l+="ns":(v<=157.5||292.5<v&&v<=337.5)&&(l+="nesw"),l+='-resize;pointer-events:all;" class="xzKVLbst" mx-mousedown="'+t+"\x1e__aE({key:'rm'})\"></div>"),l+=" ",!d.modifier.resizeY||h.locked||h.heightLocked||(l+=" ",l+=" ",(b=0|Math.max(0,Math.min(8*e,h.width-2*e-2*x)))<2*e&&!d.modifier.resizeX&&(l+=" ",b=2*e,l+=" "),l+='<div style="left:'+n((g+2*x-b)/2|0)+"px;bottom:-"+n(Math.round(e/2))+"px;width:"+n(b)+"px;height:"+n(e)+"px;background:#5390ef;cursor:",v<=22.5||337.5<v||157.5<v&&v<=202.5?l+="ns":v<=67.5||202.5<v&&v<=247.5?l+="nesw":v<=112.5||247.5<v&&v<=292.5?l+="ew":(v<=157.5||292.5<v&&v<=337.5)&&(l+="nwse"),l+='-resize;pointer-events:all;" class="xzKVLbst" mx-mousedown="'+t+"\x1e__aE({key:'mb'})\"></div>"),l+=" ",!d.modifier.resizeXY||h.locked||h.widthLocked||h.heightLocked||(l+=" ",l+='<div style="right:-2px;bottom:-2px;width:'+n(h=0|Math.max(2*e,Math.min(4*e,h.width-10*e,h.height-10*e)))+"px;height:"+n(h)+"px;cursor:",v<=22.5||337.5<v||157.5<v&&v<=202.5?l+="nwse":v<=67.5||202.5<v&&v<=247.5?l+="ns":v<=112.5||247.5<v&&v<=292.5?l+="nesw":(v<=157.5||292.5<v&&v<=337.5)&&(l+="ew"),l+="-resize;pointer-events:all;border-right:solid "+n(e)+"px #5390ef;border-bottom:solid "+n(e)+'px #5390ef" class="xzKVLbst" mx-mousedown="'+t+"\x1e__aE({key:'rb'})\"></div>"),l+=" "),l+="</div>"),l},mixins:[e],init:function(e){var t=this;t.assign(e),r[t.id]=1,"table"!=e.type&&(e.cell||"htext"!=e.type&&"vtext"!=e.type)||(n[t.id]=1),t.on("destroy",function(){delete r[t.id],delete n[t.id]}),t.__t=C.default("#"+t.id)},__at:function(){var e=S.State.get("__au"),t=S.State.get("__av").length,i=this.updater,n=i.get(),r=n.id;n.selected?a(e,r)||(n=S.Vframe.get("entity_"+this.id))&&n.invoke("__aw"):a(e,r),i.set({selected:a(e,r),count:t})},assign:function(e,t){var i=e.id,n=e.ctor,r=e.props,e=e.type;return this.updater.set({ctor:n,id:i,type:e,onlyMove:t&&t.move,space:o.default.ELEMENT_CTRL_SPACE,size:o.default.RESIZER_SIZE,props:r}),this.__at(),!0},render:function(){this.updater.digest()},__ar:function(){var e=this.updater,t=e.get("props");e.digest({onlyMove:!1,props:t})},__aq:function(e){this.updater.digest({onlyMove:!1,props:e})},"__aE<mousedown>":function(e){var o=this;e.stopPropagation();var t=o.updater.get(),a=t.props,i=t.ctor;if(!a.locked){S.State.fire("__ax",{locked:1});var n=C.default(e.eventTarget).css("cursor");n&&S.State.fire("__ay",{cursor:n});var s=a.rotate||0,r=e.params.key,s=(s+360)%360;0==a.width&&(a.width=.01),0==a.height&&(a.height=.01);for(var l=a.width,c=a.height,d=a.x,t=a.y,u=0,f=0,h=Number.MAX_VALUE,p=Number.MAX_VALUE,g=0,_=i.props;g<_.length;g++){var x=_[g];"width"==x.key?(S.default.has(x,"max")&&(h=x.max),S.default.has(x,"min")&&(u=x.min)):"height"==x.key&&(S.default.has(x,"max")&&(p=x.max),S.default.has(x,"min")&&(f=x.min))}var m=K.default.__az(a,s),n=K.default.__aA(m.point,r),i=n.opposite,r=n.current,v=i.index,n=i.point,i=r.point,r=n.x,n=n.y,b=Math.abs(i.x-r),y=Math.abs(i.y-n),w={x:d,y:t,rotate:s,width:l,height:c},L=e.pageX,z=e.pageY,k=!1;o.dragdrop(e.eventTarget,function(e){var t={x:1,y:1};k=!0;var i=y<b,n=1,r=e.pageX-L,e=e.pageY-z;0==v||7==v?i&&90<s&&s<270?r=-r:!i&&180<s&&s<360&&(e=-e):0!=v&&1!=v||(i&&45<s&&s<135?r=-r:!i&&90<s&&s<270&&(e=-e)),(n=i?(r+b)/b:(e+y)/y)<0&&(n=0);e=T[v];1===e?t.x=t.y=n:2===e?t.y=n:3===e&&(t.x=n);e=K.default.__aB(w,t,m,v),n=V.default.__aC(e.width),t=V.default.__aC(e.height);n<u?n=u:h<n&&(n=h),t<f?t=f:p<t&&(t=p),n==a.width&&t==a.height||(a.x=V.default.__aC(e.left),a.y=V.default.__aC(e.top),a.width=n,a.height=t,o.updater.digest({props:a}),S.State.fire("__aD"))},function(){k&&S.State.fire("__G"),S.State.fire("__ax"),S.State.fire("__ay")})}},"__aH<mousedown>":function(e){e.stopPropagation();var t,i,n,r,o,a=this,s=a.updater.get("props");s.locked||((n=C.default(e.eventTarget).css("cursor"))&&S.State.fire("__ay",{cursor:n}),t=V.default.__aF(a.__t,{x:e.pageX,y:e.pageY,find:1}),i=K.default.__aG(s),n=s.rotate,r=Math.atan2(t.y-i.y,t.x-i.x)-n*Math.PI/180,o=!1,S.State.fire("__ax",{locked:1}),a.dragdrop(e.eventTarget,function(e){e=V.default.__aF(a.__t,{x:e.pageX,y:e.pageY,find:1});o=!0;e=180*((e=Math.atan2(e.y-i.y,e.x-i.x))-r)/Math.PI;s.rotate=(360+(0|e))%360,a.updater.digest({props:s}),S.State.fire("__aD")},function(){o&&S.State.fire("__G"),S.State.fire("__ax"),S.State.fire("__ay")}))},"__aI<dblclick>":function(e){var t=this.updater,i=t.get("props");i.allowEdit&&(i.editable=!0,t.digest({props:i}))}})}),define("editor/core/draft",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e=e("magix");t.default=e.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.draft,d=e.i18n,u=e.after,f=e.saving,e=e.error;return c?l+=" "+n(d("_aK",0<u?u:""))+" ":f?l+=" "+n(d("_aL"))+" ":e&&(l+=" "+n(d("_aM"))+n(e.msg)+" "),l},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e),!0},render:function(){this.updater.digest()},__aq:function(e){this.updater.digest(e)}})}),define("editor/core/history",["magix","../../cainiao/const"],function(e,t,i){"use strict";t.__esModule=!0;function n(){return JSON.stringify({page:o.State.get("page"),scale:o.State.get("__j"),elements:o.State.get("__aN"),select:o.State.get("__av"),xLines:o.State.get("__o"),yLines:o.State.get("__p")})}function r(e){e=JSON.parse(e),o.State.fire("__aO",{json:e}),o.State.fire("__r",{history:!0}),o.State.fire("__as")}var o=e("magix"),a=e("../../cainiao/const"),s=[],l=[],c=null,d=-1,u="",f=null;t.default={__aP:function(){f=f||n()},__aQ:function(){s.length=0,l.length=0,o.State.fire("__r")},__aR:function(){return{canUndo:s.length,canRedo:l.length}},__aS:function(){var e;0<s.length&&(e=s.pop(),l.push(e),e=s[s.length-1]||f,r(e))},__aT:function(){var e=l.pop();e&&(s.push(e),r(e))},__aU:function(e,t){void 0===e&&(e="_save"),void 0===t&&(t=0);var i=n();e!=u&&c&&(s.push(c),c=null,u=e),l.length=0,t?(c=i,clearTimeout(d),d=setTimeout(function(){s.push(c),c=null},t)):s.push(i),s.length>a.default.HISTORY_MAX&&(f=s.shift()),o.State.fire("__r")}}}),define("editor/core/mask",["$","magix","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("$"),r=e("magix"),o=e("../../i18n/index"),a=r.default.guid("mask_");r.default.applyStyle("xzKVLbsf",".xzKVLbsai{opacity:0;background:#000;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10001;transition:opacity .2s}.xzKVLbsaj{opacity:.2}.xzKVLbsak{position:fixed;left:50%;top:50%;width:200px;height:30px;line-height:30px;background:#fff;margin-top:-15px;margin-left:-100px;z-index:10002;text-align:center}");var s=0;t.default={__an:function(e){clearTimeout(s);var t=n.default("#"+a);t.length||(n.default("body").append('<div id="'+a+'"><div class="xzKVLbsai" id="'+a+'_bk"/><div class="xzKVLbsak" id="'+a+'_text"></div></div>'),t=n.default("#"+a)),n.default("#"+a+"_text").html(o.default(e)),n.default("#"+a+"_bk").addClass("xzKVLbsaj"),t.show()},__ao:function(){s=setTimeout(function(){n.default("#"+a+"_bk").removeClass("xzKVLbsaj"),n.default("#"+a).hide()},200)}}}),define("editor/core/modifier",["magix","../../util/converter","../../cainiao/const"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../util/converter"),o=e("../../cainiao/const");t.default=n.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.hoverElement,d=e.transformProps,u=e.space,f=e.showRect,h=e.rectX,p=e.rectY,g=e.rectWidth,_=e.rectHeight;return c&&(l+=" ",e=c.ctor,l+=" ",l+=" ",c=(d=d(c.props)).height,l+=" ","table"==e.type&&(l+=" ",c+=1.5,l+=" "),l+='<div class="xzKVLbst" style="',d.rotate&&(l+="transform:rotate("+n(d.rotate)+"deg);"),l+="left:"+n(d.x-u)+"px;top:"+n(d.y-u)+"px;width:"+n(d.width+2*u)+"px;height:"+n(c+2*u)+'px;border:solid 1px red;z-index:9998"></div>'),l+=" ",f&&(l+='<div style="border:dashed 1px #666;pointer-events:none;display:',l+=f?"block":"none",l+=";left:"+n(h)+"px;top:"+n(p)+"px;width:"+n(g)+"px;height:"+n(_)+'px;z-index:9999;" class="xzKVLbst"><div mxs="xzKVLbsd:_" style="width:100%;height:100%;background:#000;opacity:0.02"></div></div>'),l},init:function(){var e=this;e.updater.set({showRect:!1,space:o.default.ELEMENT_CTRL_SPACE,rectX:0,rectY:0,rectWidth:0,rectHeight:0,hoverElement:n.State.get("__aV"),transformProps:function(e){var t={rotate:e.rotate,width:e.width,height:e.height,x:e.x,y:e.y},i=n.State.get("__aW");i&&(t.x+=i.pos.x,t.y+=i.pos.y,e.useCNStyle&&(t.width=.92*i.width,t.height=.92*i.height));i=r.default.__aX(t);return t.x=i.x,t.y=i.y,t}}),n.State.on("__aY",function(){e.updater.set({hoverElement:n.State.get("__aV")}),e.render()})},render:function(){this.updater.digest()},__aZ:function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),r=Math.min(e.x,t.x),t=Math.min(e.y,t.y);this.updater.digest({showRect:!0,rectX:r,rectY:t,rectWidth:i,rectHeight:n})},__b_:function(){this.updater.digest({showRect:!1})}})}),define("editor/core/p-table",["magix","$","../../util/converter","./workaround","../../util/transform","gallery/mx-dragsort/index"],function(e,t,i){e("gallery/mx-dragsort/index"),t.__esModule=!0;var s=e("magix"),l=e("$"),o=e("../../util/converter"),n=e("./workaround"),r=e("../../util/transform");t.default=s.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){for(var l="",c=e.rows,d=e.sorted,u=e.eId,f=e.i18n,h=0,p=c.length;h<p;h++){var g=c[h];if(l+=" ","tr"==g.tag){l+=" ";for(var _=0,x=g.cells,m=x.length;_<m;_++){var v=x[_];if(l+=" ","td"==v.tag){if(l+=" ",v.children&&v.children.length){l+='<div class="xzKVLbsax" mx-view="gallery/mx-dragsort/index?selector=.xzKVLbsay" mx-dragfinish="'+t+"\x1e__bc({cell:'"+a(i,v)+"'})\">";var b=d(v.children);l+=" ";for(var y=0,w=b.length;y<w;y++){var L=b[y];l+='<div class="xzKVLbsaC xzKVLbsw" title="'+n(L.props.tip)+'" mx-mouseover="'+t+"\x1e__bg({element:'"+a(i,L)+"',cellId:'"+n(s(u))+"_c_"+n(s(h))+"_"+n(s(_))+"',cell:'"+a(i,v)+'\'})" data-eid="'+n(L.id)+'" mx-mouseout="'+t+'\x1e__bg()"><div class="xzKVLbsp xzKVLbsay" title="'+n(f("_bh"))+'">'+r(L.ctor.icon)+'</div><div mxa="xzKVLbse:_" class="xzKVLbsaA xzKVLbsw"><div mxa="xzKVLbse:a" class="xzKVLbsp">'+n(L.props.tip)+'</div><i title="'+n(f("_bi"))+'" class="xzKVLbsN xzKVLbsaB xzKVLbsq" mx-click="'+t+"\x1e__be({id:'"+n(s(L.id))+"'})\">&#xe600;</i></div></div>","table"==L.type&&(l+='<div mx-view="editor/core/p-table?eId='+o(L.id)+"&rows="+a(i,L.props.rows)+'" ds-draggable="false"></div>'),l+=" "}l+="</div>"}l+=" "}l+=" "}l+=" "}l+=" "}return l},init:function(e){this.assign(e),this.updater.set({sorted:function(e){return r.default.__ba(e).reverse()}})},assign:function(e){return this.updater.set(e),!0},render:function(){this.updater.digest()},"__bc<dragfinish>":function(e){for(var t=l.default(e.eventTarget).children(),e=e.params.cell.children,i=s.default.toMap(e,"id"),n=e.length,r=0,o=t;r<o.length;r++){var a=o[r].getAttribute("data-eid");a&&(i[a].props.zIndex=n--)}this.render(),s.State.fire("__bb"),s.State.fire("__G")},"__be<click>":function(e){n.StageElements.__bd(e.params.id,!0),this.updater.set({rows:this.updater.get("rows")}).digest(),s.State.set({__aV:null,__aW:null}),s.State.fire("__aY"),s.State.fire("__bb"),s.State.fire("__G")},"__bg<mouseover,mouseout>":function(e){if("p-table"!=e.from&&(e.from="p-table",!s.default.inside(e.relatedTarget,e.eventTarget))){var t=e.params,i=t.element,n=t.cellId,r=t.cell,t=null;if("mouseover"==e.type){n=l.default("#entity_"+n);if(!n.length)return;n=n.offset(),t={width:r.width,height:r.height,pos:o.default.__bf({x:n.left+1,y:n.top+1})}}s.State.set({__aV:i,__aW:t}),s.State.fire("__aY")}}})}),define("editor/core/print",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e=e("magix");e.default.applyStyle("xzKVLbsh",".xzKVLbsaD{display:flex}.xzKVLbsaE{align-items:center}.xzKVLbsaF{width:100px}.xzKVLbsaG{text-align:right}.xzKVLbsaH{width:200px}.xzKVLbsaI{margin-top:20px}"),t.default=e.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",e=e.i18n;return l+='<div mxa="xzKVLbsf:_" class="xzKVLbsK"><b mxa="xzKVLbsf:a" class="xzKVLbsd">'+n(e("_bj"))+'</b></div><div mxv mxa="xzKVLbsf:b" class="xzKVLbsL"><div mxv mxa="xzKVLbsf:c" class="xzKVLbsaD xzKVLbsaE"><div mxs="xzKVLbsf:_" class="xzKVLbsaG xzKVLbsaF">\u6253\u5370\u673a\u5730\u5740\uff1a</div><input mxs="xzKVLbsf:a" class="xzKVLbsB xzKVLbsaH" value="127.0.0.1:13528"/></div><div mxv mxa="xzKVLbsf:d" class="xzKVLbsaD xzKVLbsaE xzKVLbsaI"><div mxs="xzKVLbsf:b" class="xzKVLbsaG xzKVLbsaF">\u6253\u5370\u4efd\u6570\uff1a</div><input mxs="xzKVLbsf:c" class="xzKVLbsB xzKVLbsaH" value="1"/></div><div mxv mxa="xzKVLbsf:e" class="xzKVLbsaD xzKVLbsaE xzKVLbsaI"><div mxs="xzKVLbsf:d" class="xzKVLbsaG xzKVLbsaF">\u8fde\u6253\uff1a</div><input mxs="xzKVLbsf:e" type="checkbox" class="xzKVLbsE" checked="checked"/></div><div mxv mxa="xzKVLbsf:f" class="xzKVLbsaD xzKVLbsaE xzKVLbsaI"><div mxs="xzKVLbsf:f" class="xzKVLbsaG xzKVLbsaF">\u7eed\u6253\uff1a</div><input mxs="xzKVLbsf:g" type="checkbox" class="xzKVLbsE"/></div></div><div mxa="xzKVLbsf:g" class="xzKVLbsM xzKVLbsw"><button mxa="xzKVLbsf:h" class="xzKVLbsz xzKVLbsq" mx-click="'+t+'\x1e__U()">'+n(e("_W"))+'</button><button mxa="xzKVLbsf:i" class="xzKVLbsz xzKVLbsA xzKVLbsd xzKVLbsq" mx-click="'+t+'\x1e__T()">'+n(e("_bk"))+"</button></div>"},init:function(e){this.__Q=e.enter,this.__P=e.dialog},render:function(){this.updater.digest()},"__T<click>":function(){this.__Q(),this.__P.close()},"__U<click>":function(){this.__P.close()}})}),define("editor/core/property",["magix","../const/props-desc","../../util/transform","../../util/table","../../i18n/index","$","./workaround","gallery/mx-number/index","gallery/mx-dropdown/index","gallery/mx-picture/index","gallery/mx-font/lineheight","gallery/mx-font/style","gallery/mx-font/align","gallery/mx-cell/index","gallery/mx-cell/size","gallery/mx-cell/focus","gallery/mx-dragsort/index","./p-table"],function(e,t,i){e("gallery/mx-number/index"),e("gallery/mx-dropdown/index"),e("gallery/mx-picture/index"),e("gallery/mx-font/lineheight"),e("gallery/mx-font/style"),e("gallery/mx-font/align"),e("gallery/mx-cell/index"),e("gallery/mx-cell/size"),e("gallery/mx-cell/focus"),e("gallery/mx-dragsort/index"),e("./p-table"),t.__esModule=!0;var p=e("magix"),n=e("../const/props-desc"),u=e("../../util/transform"),r=e("../../util/table"),l=e("../../i18n/index"),f=e("$"),o=e("./workaround");p.default.applyStyle("xzKVLbsg",".xzKVLbsal{width:245px;height:100%;background:#edeef3;border-left:1px solid #ccc;position:relative;z-index:3000}.xzKVLbsam{height:calc(100% - 25px);overflow-y:scroll;padding:0 0 100px}.xzKVLbsan{background:#ccc;padding:0 10px;height:25px;line-height:25px;background-image:-webkit-gradient(linear,0 0,0 100%,from(#eee),to(#ccc),color-stop(0,#eee))}.xzKVLbsao{line-height:32px}.xzKVLbsap:hover{background:hsla(0,0%,100%,.6705882352941176)}.xzKVLbsaq{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.xzKVLbsar{width:80px;text-align:right;display:inline-block;margin-right:5px;vertical-align:middle}.xzKVLbsas{width:25px;height:25px;background:#474761;cursor:move;margin-top:4px;border-radius:4px}.xzKVLbsat{cursor:pointer;width:180px}.xzKVLbsau{width:158px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.xzKVLbsav{margin-top:8px;color:#848282;visibility:hidden}.xzKVLbsat:hover .xzKVLbsav{visibility:visible}.xzKVLbsaw{vertical-align:top}.xzKVLbsax{border-top:1px solid #e4e4e4;line-height:20px;margin-left:5px;cursor:default;font-size:12px}.xzKVLbsay{width:16px;height:16px;background:#474761;margin-top:2px;cursor:move}.xzKVLbsaz{padding-right:10px}.xzKVLbsaA{cursor:pointer;padding-right:20px;margin-left:19px}.xzKVLbsaB{font-size:12px;margin-top:4px;color:#848282;visibility:hidden}.xzKVLbsaA:hover .xzKVLbsaB{visibility:visible}.xzKVLbsaC{padding-left:2px}.xzKVLbsaC:hover{background:hsla(0,0%,100%,.5411764705882353)}"),t.default=p.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l,c="",d=e.hasElement,u=e.i18n,f=e.title,h=e.props,p=e.data,g=e.desc,_=e.lang,x=e.elements,m=e.vId;if(c+='<div mxv mxa="xzKVLbsg:_" class="xzKVLbsal"><div mxa="xzKVLbsg:a" class="xzKVLbsan">',c+=n(u(d?"_bu":"_bv")),c+="</div>",d){c+='<ul mxv mxa="xzKVLbsg:b" class="xzKVLbsam"><li mxa="xzKVLbsg:c" class="xzKVLbsao"><span mxa="xzKVLbsg:d" class="xzKVLbsar">'+n(u("_bw"))+":</span>"+n(u(f))+"</li>";for(var v=0,b=h.length;v<b;v++){var y=h[v];c+=" ",y.ifShow&&!y.ifShow(p)||(c+='<li mxv class="xzKVLbsao',y.type==g.SPLITER&&(c+=" xzKVLbsaq"),c+='">',y.type!=g.SPLITER&&(c+='<span class="xzKVLbsar',y.styleVTop&&(c+=" xzKVLbsaw"),c+='">'+n(u(y.tip))+":</span>",y.type==g.LABEL?c+=" "+n(y.read?y.read(p[y.key]):p[y.key])+" ":y.type==g.INPUT?(c+='<input class="xzKVLbsB" value="'+n(p[y.key])+'" mx-input="'+t+"\x1e__bq({key:'"+n(s(y.key))+"',sync:'"+a(i,y.sync)+"',refresh:'"+a(i,y.refresh)+"'})\" ",(l=p.locked&&!y.role)&&(c+="disabled"),c+="/>"):y.type==g.TEXTAREA?(c+='<textarea class="xzKVLbsC" mx-input="'+t+"\x1e__bq({key:'"+n(s(y.key))+"'})\" ",(l=p.locked&&!y.role)&&(c+="disabled"),c+=' style="height:100px;">'+n(p[y.key])+"</textarea>"):y.type==g.NUMBER?(c+='<div mxv="props,data" mx-input="'+t+"\x1e__bq({key:'"+n(s(y.key))+"',read:'value',write:'"+a(i,y.write)+"',sync:'"+a(i,y.sync)+"',refresh:'"+a(i,y.refresh)+"'})\" ",(l=p.locked||p[y.key+"Locked"])&&(c+='readonly="'+n(l)+'" '),c+=' class="xzKVLbsB xzKVLbsu" mx-view="gallery/mx-number/index?value='+a(i,y.read?y.read(p[y.key]):p[y.key]),(l=y.min)&&(c+="&min="+o(l)),(l=y.max)&&(c+="&max="+o(l)),(l=y.step)&&(c+="&step="+o(l)),(l=y.fixed)&&(c+="&fixed="+o(l)),(l=p.locked||p[y.key+"Locked"])&&(c+="&disabled="+o(l)),c+='"></div>'):y.type==g.DROPDOWN?(c+='<div mxv="props" mx-change="'+t+"\x1e__bq({key:'"+n(s(y.key))+"',read:'value',refresh:'"+a(i,y.refresh)+'\'})" mx-view="gallery/mx-dropdown/index?list='+a(i,y.items),(l=y.textKey)&&(c+="&textKey="+o(l)),(l=y.valueKey)&&(c+="&valueKey="+o(l)),c+="&selected="+o(p[y.key]),(l=p.locked)&&(c+="&disabled="+o(l)),c+='"></div>'):y.type==g.CELLDROPDOWN?(c+='<div mxv="props" mx-change="'+t+'\x1e__bn()" mx-view="gallery/mx-dropdown/index?list='+a(i,y.items)+"&textKey=text&valueKey=value&selected="+o(p.rows[p.rowIndex].cells[p.colIndex].hasBorder),(l=p.locked)&&(c+="&disabled="+o(l)),c+='"></div>'):y.type==g.IMAGE?(c+='<div class="xzKVLbsr" mx-change="'+t+"\x1e__br({key:'"+n(s(y.key))+"',updateSize:"+n(y.updateSize)+'})" mx-view="gallery/mx-picture/index?pic='+o(p[y.key])+"&lang="+o(_),(l=p.locked)&&(c+="&disabled="+o(l)),c+='"></div>'):y.type==g.ORIGINSIZE?(c+="<button ",(l=p.locked)&&(c+="disabled"),c+=' type="button" class="xzKVLbsz xzKVLbsO" mx-click="'+t+'\x1e__bt()">'+n(u("_bx"))+"</button>"):y.type==g.BOOLEAN?(c+='<input type="checkbox" class="xzKVLbsE" mx-change="'+t+"\x1e__bq({key:'"+n(s(y.key))+"',bool:true,write:'"+a(i,y.write)+"',refresh:'"+a(i,y.refresh)+"'})\" ",(l=p[y.key])&&(c+="checked"),c+=" ",(l=p.locked&&!y.role||p.barred)&&(c+="disabled"),c+="/>"):y.type==g.LINEHEIGHT?(c+='<div mxv="data,props" mx-input="'+t+"\x1e__bq({key:'"+n(s(y.key))+'\',read:\'value\'})" class="xzKVLbsr" mx-view="gallery/mx-font/lineheight?',(l=p.locked)&&(c+="disabled="+o(l)),(l=y.min)&&(c+="&min="+o(l)),c+="&value="+a(i,p[y.key])+'"></div>'):y.type==g.FONTSTYLE?(c+='<div mxv="data,props" mx-input="'+t+"\x1e__bq({key:'"+n(s(y.key))+'\',read:\'value\'})" class="xzKVLbsr" mx-view="gallery/mx-font/style?',(l=p.locked)&&(c+="disabled="+o(l)),c+="&value="+a(i,p[y.key])+'"></div>'):y.type==g.FONTALIGN?(c+='<div mxv="data,props" mx-input="'+t+"\x1e__bq({key:'"+n(s(y.key))+'\',read:\'value\'})" class="xzKVLbsr" mx-view="gallery/mx-font/align?',(l=p.locked)&&(c+="disabled="+o(l)),c+="&value="+a(i,p[y.key])+'"></div>'):y.type==g.CELLOPERATE?(c+='<div mxv="data" mx-change="'+t+'\x1e__bm()" class="xzKVLbsr" mx-view="gallery/mx-cell/index?',(l=p.locked||p.__invalid)&&(c+="disabled="+o(l)),c+="&props="+a(i,p)+'"></div>'):y.type==g.CELLSIZE?(c+='<div mxv="data" mx-change="'+t+'\x1e__bm()" class="xzKVLbsr" mx-view="gallery/mx-cell/size?',(l=p.locked||p.__invalid)&&(c+="disabled="+o(l)),c+="&props="+a(i,p)+'"></div>'):y.type==g.CELLFOCUS?(c+='<div mxv="data" mx-change="'+t+'\x1e__bm({ui:true})" class="xzKVLbsr" mx-view="gallery/mx-cell/focus?',(l=p.locked||p.__invalid)&&(c+="disabled="+o(l)),c+="&props="+a(i,p)+'"></div>'):y.type==g.CELLCOLSHARE?(c+="<button ",(l=p.locked||p.__invalid)&&(c+="disabled"),c+=' type="button" class="xzKVLbsz xzKVLbsO" mx-click="'+t+"\x1e__bo({type:'x'})\">"+n(u("_by"))+"</button>"):y.type==g.CELLROWSHARE&&(c+="<button ",(l=p.locked||p.__invalid)&&(c+="disabled"),c+=' type="button" class="xzKVLbsz xzKVLbsO" mx-click="'+t+"\x1e__bo({type:'y'})\">"+n(u("_bz"))+"</button>"),c+=" "),c+="</li>"),c+=" "}c+="</ul>"}else{c+='<ul mxv mxa="xzKVLbsg:e" mx-view="gallery/mx-dragsort/index?selector=li%20.xzKVLbsas" class="xzKVLbsx xzKVLbsam" mx-dragfinish="'+t+'\x1e__bc()">';for(var w=x.length;w--;){c+=" ";var L=x[w];c+='<li mxv class="xzKVLbsao xzKVLbsl xzKVLbsw xzKVLbsap" data-eid="'+n(L.id)+'" id="'+n(m)+"_"+n(L.id)+'"><div class="xzKVLbsw" mx-mouseover="'+t+"\x1e__bg({element:'"+a(i,L)+'\'})" mx-mouseout="'+t+'\x1e__bg()"><div class="xzKVLbsas xzKVLbsp xzKVLbsc" title="'+n(u("_bh"))+'">'+r(L.ctor.icon)+'</div><div mxa="xzKVLbsg:f" class="xzKVLbsp xzKVLbsw xzKVLbsat"><div class="xzKVLbsp xzKVLbsau" title="'+n(L.props.tip)+'">'+n(L.props.tip)+'</div><i title="'+n(u("_bi"))+'" class="xzKVLbsN xzKVLbsp xzKVLbsav" mx-click="'+t+"\x1e__be({id:'"+n(s(L.id))+"'})\">&#xe600;</i></div></div>","table"==L.type&&(c+='<div mxv="elements" mx-view="editor/core/p-table?eId='+o(L.id)+"&rows="+a(i,L.props.rows)+'" class="xzKVLbsaz"></div>'),c+="</li>"}c+="</ul>"}return c+="</div>"},init:function(){var e=this,t=e.__bl(function(){e.render()},100);p.State.on("__as",t),p.State.on("__aD",t),p.State.on("__s",t)},render:function(){var e,t=p.State.get("__av"),i=p.default.config("lang");this.updater.set({lang:i}),1===t.length?(i=(e=t[0]).ctor,t=e.props,e=e.id,this.updater.digest({hasElement:!0,title:i.title,desc:n.default,props:i.props,data:t,eId:e})):this.updater.digest({elements:u.default.__ba(p.State.get("__aN")),hasElement:!1})},"__bm<change>":function(e){var t=this.updater,i=t.get("data"),t=t.get("eId");p.State.fire("__ap",{data:i,eId:t}),this.render(),e.params.ui||p.State.fire("__G")},"__bn<change>":function(e){var t=this.updater,i=t.get("data"),n=t.get("eId"),r=i.rows,o=i.rowIndex,a=i.colIndex,t=i.hideBorder,o=r[o];((o=o||r[0]).cells[a]||o.cells[0]).hasBorder=e.value;var s=!0;e:for(var l=0,c=r;l<c.length;l++){var d=c[l];if("tr"==d.tag)for(var u=0,f=d.cells;u<f.length;u++){var h=f[u];if("td"==h.tag&&h.hasBorder){s=!1;break e}}}s!=t&&(i.hideBorder=s,this.render()),p.State.fire("__ap",{data:i,eId:n}),p.State.fire("__G")},"__bo<click>":function(e){var t=this.updater,i=t.get("data"),t=t.get("eId");r.default.__l(i,{share:e.params.type})&&(p.State.fire("__ap",{data:i,eId:t}),this.render(),p.State.fire("__G"))},"__bq<input,change>":function(e){var t,i=this.updater,n=i.get("data"),r=i.get("eId"),o=e.params,a=o.key,s=o.read,l=o.bool,c=o.write,d=o.refresh,i=o.sync,o="width"==a||"height"==a;o&&(t=u.default.__bp(n,n.rotate)),e=l?e.eventTarget.checked:s?e[s]:f.default(e.eventTarget).val(),c&&(e=c(e,n)),i&&(n[i]=e),n[a]=e,o&&(o=u.default.__bp(n,n.rotate),n.x+=t.x-o.x,n.y+=t.y-o.y,d=!0),(l||d)&&this.render(),p.State.fire("__ap",{data:n,eId:r}),p.State.fire("__G",{key:a,time:500})},"__br<change>":function(e){var t=this.updater,i=p.State.get("__j"),n=t.get("data"),r=t.get("eId"),t=e.params,e=e.pic;n[t.key]=e.src,t.updateSize&&(n.width=e.width*i,n.height=e.height*i),this.render(),p.State.fire("__ap",{data:n,eId:r}),p.State.fire("__G")},"__bt<click>":function(){var t=this,e=this.updater,i=e.get("data"),n=e.get("eId"),r=p.State.get("__j"),e=i.src,o=new Image,a=this,s=u.default.__bp(i,i.rotate);o.onerror=function(){a.alert(l.default("__bs"))},o.onload=function(){i.width=o.width*r,i.height=o.height*r;var e=u.default.__bp(i,i.rotate);i.x+=s.x-e.x,i.y+=s.y-e.y,t.render(),p.State.fire("__ap",{data:i,eId:n}),p.State.fire("__G")},o.src=e},"__bc<dragfinish>":function(e){for(var t=f.default(e.eventTarget).find("li"),e=p.State.get("__aN"),i=p.default.toMap(e,"id"),n=e.length,r=0,o=t;r<o.length;r++)i[o[r].getAttribute("data-eid")].props.zIndex=n--;this.render(),p.State.fire("__bb"),p.State.fire("__G")},"__be<click>":function(e){o.StageElements.__bd(e.params.id,!0),this.render(),p.State.set({__aV:null}),p.State.fire("__aY"),p.State.fire("__bb"),p.State.fire("__G")},"__bg<mouseover,mouseout>":function(e){"p-table"!=e.from&&(p.default.inside(e.relatedTarget,e.eventTarget)||(p.State.set({__aV:e.params.element}),p.State.fire("__aY")))}})}),define("editor/core/stage",["$","magix","../../cainiao/const","../../element/image/designer","../../gallery/mx-dragdrop/index","../../service/index","../../util/converter","../../util/table","../const/click-desc","../const/keys","./history","./workaround","./modifier"],function(e,t,i){e("./modifier"),t.__esModule=!0;var ze=e("$"),ke=e("magix"),f=e("../../cainiao/const"),h=e("../../element/image/designer"),n=e("../../gallery/mx-dragdrop/index"),r=e("../../service/index"),p=e("../../util/converter"),Se=e("../../util/table"),o=e("../const/click-desc"),u=e("../const/keys"),g=e("./history"),Ve=e("./workaround"),_=((e={})[u.default.A]="left",e[u.default.D]="right",e[u.default.W]="top",e[u.default.S]="bottom",e);ke.default.applyStyle("xzKVLbse",".xzKVLbsaJ{pointer-events:all}.xzKVLbsaK{outline:0;display:flex}.xzKVLbsaL{margin:0 auto;flex:0 0 auto;padding:50px 100px}.xzKVLbsaM{box-shadow:0 3px 6px 0 rgba(0,0,0,.3)}.xzKVLbsaN{background:#fff;line-height:1.28571}.xzKVLbsaO{background:transparent}.xzKVLbsaP{background:#fafafa}.xzKVLbsaQ{border-bottom:1px dashed #ccc}.xzKVLbsaR{border-top:1px dashed #ccc}.xzKVLbsag{pointer-events:none}"),t.default=ke.View.extend({mixins:[n,r.default],tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.vId,d=e.header,u=e.width,f=e.height,h=e.showPrintBG,p=e.printBG,g=e.bgSize,_=e.elements,e=e.footer;l+='<div mxv mxa="xzKVLbsh:_" class="xzKVLbsaK xzKVLbsu" mx-mousedown="'+t+'\x1e__bU()" id="stage_outer" tabindex="0" mx-keydown="'+t+'\x1e__ci()" mx-focusout="'+t+'\x1e__ct()" mx-focusin="'+t+'\x1e__cu()" mx-drop="'+t+'\x1e__cs()"><div mxv class="xzKVLbsaL" id="cx_'+n(c)+'"><div mxv mxa="xzKVLbsh:a" class="xzKVLbsaM"><div class="xzKVLbsaP',0<d&&(l+=" xzKVLbsaQ"),l+='" style="height:',l+=0<d?n(d):"0",l+="px;width:"+n(u)+'px;"></div><div mxv class="xzKVLbsu xzKVLbsaN" style="width:'+n(u)+"px;height:"+n(f)+"px;",h&&(l+="background-image:url("+n(p)+");background-repeat:no-repeat;"),"page"==g?l+="background-size:100% 100%":"bg"==g&&(l+="background-size:"+n(u)+"px "+n(f)+"px"),l+='" id="stage_stage" mx-contextmenu="'+t+'\x1e__cn()">';for(var x=0,m=_.length;x<m;x++){var v=_[x];l+=" ";var b=v.ctor,y=v.props,w=v.id,v=v.type;l+=" ","#script"!=v&&(l+='<div mxv="elements" id="'+n(w)+'" mx-view="element/'+n(b.type)+"/designer?type="+o(v)+"&id="+o(w)+"&ctor="+a(i,b)+"&props="+a(i,y)+'" class="xzKVLbsaJ" mx-mousedown="'+t+"\x1e__bW({id:'"+n(s(w))+"',ctor:'"+a(i,b)+"',props:'"+a(i,y)+"',type:'"+n(s(v))+"'})\"></div>"),l+=" "}return l+='</div><div class="xzKVLbsaP',0<e&&(l+=" xzKVLbsaR"),l+='" style="height:',l+=0<e?n(e):"0",l+="px;width:"+n(u)+'px;"></div></div></div><div mx-view="editor/core/modifier" id="m_'+n(c)+'"></div><div mxs="xzKVLbsh:_" id="outer_cm"></div></div><div mxs="xzKVLbsh:a" class="xzKVLbsaO" id="stayBar"></div>'},init:function(){function t(e){var t,i=ke.State.get("__aN");e&&e.scale?(Ve.StageElements.__bA(e.from,e.to),(t=ke.State.get("page")).width=t.width/e.from*e.to,t.height=t.height/e.from*e.to,t.header=t.header/e.from*e.to,t.footer=t.footer/e.from*e.to,n.updater.set({elements:i})):n.updater.digest({elements:i})}var n=this;ke.State.on("__G",function(e){e.key?g.default.__aU(e.key,e.time):g.default.__aU()}),ke.State.on("__r",function(e){e.history&&(e=ke.State.get("__aN"),n.updater.set({elements:e}),n.render())}),ke.State.on("__q",function(e){e.scale?t(e):e.keepSelect||Ve.StageSelectElements.__bB(),n.render()}),ke.State.on("__bb",t),ke.State.on("__bC",function(e){e.zone!=o.default.CANVAS&&e.zone!=o.default.PROPERTY&&Ve.StageSelectElements.__bB()});var i=null;ke.State.on("__bD",function(e){var t=e.hoverNode;ke.default.inside(t,"stage_stage")?((e=Ve.StageElements.__bE(t))&&e.dashed==i||i&&i.addClass("xzKVLbsv"),e&&e.dashed&&e.dashed!=i&&(i=ze.default(e.dashed)).removeClass("xzKVLbsv")):t||(i&&i.addClass("xzKVLbsv"),i=null)}),ke.State.on("__bF",function(e){var t;ke.default.inside(e.dropNode,"stage_stage")&&(t=Ve.StageElements.__bE(e.dropNode),(e=Ve.StageElements.__bG(e,!1,t,e.ignoreSnapshot))&&n.updater.digest({elements:e}))}),ke.State.on("__bH",function(){var e=ke.State.get("__j"),t=ze.default("#stage_stage").offset(),e=80*Math.random()*e,e={pageX:t.left+e+n.__t.prop("scrollLeft"),pageY:t.top+e+n.__t.prop("scrollTop")},e=Ve.StageElements.__bG(e,!0);e&&(n.updater.digest({elements:e}),ke.State.fire("__G"))}),ke.State.on("__bI",function(e){n.__bJ(e)}),ke.State.on("__ax",function(e){var t,i=ze.default("#stayBar"),n=ze.default("#app_stage");e.locked?(t=n.prop("scrollWidth"),e=n.prop("scrollHeight"),n=ke.State.get("page"),i.css({height:e,width:t,marginTop:-(n.height+100),display:"block"})):i.hide()}),ke.State.on("__bK",function(e){n.updater.digest({showPrintBG:e.show,printBG:e.src})}),ke.State.on("__bL",function(e){n.updater.digest({bgSize:e.size})}),n.updater.set({elements:ke.State.get("__aN")}),n.__t=ze.default("#"+n.id),ke.State.on("__bM",function(e){n.__t[e.start?"addClass":"removeClass"]("xzKVLbsag")})},render:function(){var e=ke.State.get("page");this.updater.digest({header:e.header,footer:e.footer,width:e.width,height:e.height})},"__bU<mousedown>":function(e){var r=this,t=e.target.id;if("stage_outer"==t||"stage_stage"==t||t=="cx_"+r.id){var o=null;if(e.shiftKey){o={};for(var i=0,n=Ve.StageSelectElements.__bN();i<n.length;i++){var a=n[i];o[a.id]=1}}else Ve.StageSelectElements.__bB();var s=p.default.__bO({x:e.pageX,y:e.pageY}),l=ke.Vframe.get("m_"+r.id),c=!1,d=!1,u=Ve.StageElements.__bP();r.dragdrop(e.eventTarget,r.__bl(function(e){var t,i,n;d||(c=!0,n=p.default.__bO({x:e.pageX,y:e.pageY}),l.invoke("__aZ",[s,n]),t=Math.abs(s.x-n.x),i=Math.abs(s.y-n.y),e=Math.min(s.x,n.x),n=Math.min(s.y,n.y),(n=p.default.__bQ({x:e,y:n})).width=t,n.height=i,i=Ve.StageElements.__bR(u,n,o),(n=JSON.stringify(i,["id"]))!=r.__bS&&(r.__bS=n,Ve.StageSelectElements.__bT(i)))},50),function(){c&&(delete r.__bS,d=!0,l.invoke("__b_"))})}},"__bW<mousedown>":function(e){"element_table"!=e.from&&Ve.StageElements.__bV(e,this)},"__ci<keydown>":function(e){var t=e.target;if("text-element"!=ze.default(t).data("role")){e.metaKey||e.shiftKey||e.altKey||e.ctrlKey||(e.keyCode==u.default.F?(e.preventDefault(),Ve.StageElements.__bX()):e.keyCode!=u.default.A&&e.keyCode!=u.default.S&&e.keyCode!=u.default.D&&e.keyCode!=u.default.W||(e.preventDefault(),ke.State.fire("__bY",{dir:_[e.keyCode]})));var i,n=Ve.StageSelectElements.__bN(),r=ke.State.get("__aN");if(e.keyCode==u.default.TAB)return e.preventDefault(),void Ve.StageElements.__bZ(e);if(n.length)if(e.ctrlKey||e.metaKey)(e.ctrlKey||e.metaKey)&&e.keyCode==u.default.C&&(e.preventDefault(),Ve.Clipboard.__cb());else{e.preventDefault();var t=!1,o=!1;if(e.keyCode==u.default.DELETE||e.keyCode==u.default.BACKSPACE)t=!0,Ve.StageElements.__c_();else for(var a=e.shiftKey?10:1,s=0,l=n;s<l.length;s++){var c,d=l[s];d.props.locked||(e.keyCode==u.default.UP?(o=!0,d.props.y-=a):e.keyCode==u.default.DOWN?(o=!0,d.props.y+=a):e.keyCode==u.default.LEFT?(o=!0,d.props.x-=a):e.keyCode==u.default.RIGHT&&(o=!0,d.props.x+=a)),!o||(c=ke.Vframe.get(d.id))&&c.invoke("assign",d)&&c.invoke("render")}(o||t)&&(t&&(n.length=0),ke.State.fire("__aD"),ke.State.fire("__G",{key:"__ca",time:500})),t&&this.updater.digest({elements:r})}(e.ctrlKey||e.metaKey)&&(e.keyCode==u.default.N?(e.preventDefault(),ke.State.fire("__cc")):e.keyCode==u.default.V?(e.preventDefault(),Ve.Clipboard.__cd()&&(i=Ve.StageElements.__ce(),Ve.Clipboard.__cf(i),ke.State.fire("__G"))):e.keyCode==u.default.A?(e.preventDefault(),(i=Ve.StageElements.__ce()).coll.length&&Ve.StageElements.__cg(i.coll)):e.keyCode==u.default.X?(e.preventDefault(),Ve.Clipboard.__ch()):e.keyCode==u.default.Z?(e.preventDefault(),e.shiftKey?g.default.__aT():g.default.__aS()):e.keyCode==u.default.Y&&(e.preventDefault(),g.default.__aT()))}},__bJ:function(e){if("align"==e.action){for(var t=ze.default("#"+this.id).offset(),i=Ve.StageSelectElements.__bN(),n=-Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,a=-Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,c=0,d=i;c<d.length;c++){var u,f=d[c],h=ze.default("#"+f.id+" [mx-view]>*")[0].getBoundingClientRect();"right"==e.to?h.right>n&&(n=h.right):"left"==e.to?h.left<r&&(r=h.left):"top"==e.to?h.top<o&&(o=h.top):"bottom"==e.to?h.bottom>a&&(a=h.bottom):"vcenter"==e.to?(u=(h.bottom-h.top)/2,h.top+u<s&&(s=h.top+u)):"hcenter"==e.to&&(u=(h.right-h.left)/2,h.left+u<l&&(l=h.left+u))}n-=t.left,r-=t.left,o-=t.top,a-=t.top,s-=t.top,l-=t.left;for(var p=0,g=0,_=i;g<_.length;g++){var x,f=_[g],h=ze.default("#"+f.id+" [mx-view]>*")[0].getBoundingClientRect(),m=0;"right"==e.to?0!=(x=n-(h.right-t.left))&&(m=p=1,f.props.x+=x):"left"==e.to?0!=(x=r-(h.left-t.left))&&(m=p=1,f.props.x+=x):"top"==e.to?0!=(x=o-(h.top-t.top))&&(m=p=1,f.props.y+=x):"bottom"==e.to?0!=(x=a-(h.bottom-t.top))&&(m=p=1,f.props.y+=x):"vcenter"==e.to?0!=(x=s-(h.top-t.top+(h.bottom-h.top)/2))&&(m=p=1,f.props.y+=x):"hcenter"==e.to&&0!=(x=l-(h.left-t.left+(h.right-h.left)/2))&&(m=p=1,f.props.x+=x),m&&(Le=ke.Vframe.get(f.id))&&Le.invoke("assign",f)&&Le.invoke("render")}p&&(ke.State.fire("__aD"),ke.State.fire("__G"))}else if("put"==e.action){for(var v=Ve.StageElements.__cj(),b=ke.State.get("page"),p=0,y=0,w=v;y<w.length;y++){var L=0,z=0,i=(H=w[y]).elements;z="stage"==H.type?(L=b.width,b.height):(L=(Z=H.table.props.rows[H.row].cells[H.col]).width,Z.height);var k=L/2,S=z/2;if(e.shift)for(var V=0,K=i;V<K.length;V++){var C=(f=K[V]).props,m=0;"hc"==e.to?(D=k-C.width/2)!=C.x&&(C.x=D,m=p=1):(O=S-C.height/2)!=C.y&&(C.y=O,m=p=1),m&&(Le=ke.Vframe.get(f.id))&&Le.invoke("assign",f)&&Le.invoke("render")}else{for(var T=Number.MAX_SAFE_INTEGER,A=Number.MAX_SAFE_INTEGER,E=-Number.MAX_SAFE_INTEGER,M=-Number.MAX_SAFE_INTEGER,N=0,I=i;N<I.length;N++)(C=(f=I[N]).props).x<T&&(T=C.x),C.x+C.width>E&&(E=C.x+C.width),C.y<A&&(A=C.y),C.y+C.height>M&&(M=C.y+C.height);for(var D=k-(T+(E-T)/2),O=S-(A+(M-A)/2),B=0,P=i;B<P.length;B++){var R,C=(f=P[B]).props,m=0;"hc"==e.to?(R=C.x+D,C.x!=R&&(p=m=1,C.x=R)):(R=C.y+O,C.y!=R&&(p=m=1,C.y=R)),m&&(Le=ke.Vframe.get(f.id))&&Le.invoke("assign",f)&&Le.invoke("render")}}}p&&(ke.State.fire("__aD"),ke.State.fire("__G"))}else if("avg"==e.action){if(1==(v=Ve.StageElements.__cj()).length){var H,p=0;if(2<(i=(H=v[0]).elements).length||e.ctrl){for(var j=-Number.MAX_SAFE_INTEGER,W=Number.MAX_SAFE_INTEGER,F=-Number.MAX_SAFE_INTEGER,X=Number.MAX_SAFE_INTEGER,$=[],U=0,q=i;U<q.length;U++){var G=(C=(f=q[U]).props).x+C.width/2,Y=C.y+C.height/2;j<G&&(j=G),G<W&&(W=G),F<Y&&(F=Y),Y<X&&(X=Y),$.push({m:f,mx:G,my:Y})}var Z,Q,J,ee=-1,te=-1,ie=0,ne=($="av"==e.to?$.sort(function(e,t){return e.my-t.my}):$.sort(function(e,t){return e.mx-t.mx})).length,re=ne+1,oe=null,oe=e.ctrl?(ee="stage"==H.type?(te=(b=ke.State.get("page")).width,b.height):(te=(Z=H.table.props.rows[H.row].cells[H.col]).width,Z.height),{props:{x:0,y:0,width:0,height:0}}):(Q=$[0],J=$[$.length-1],v=Q.m.props,ee=(J=J.m.props).y-v.y-v.height,te=J.x-v.x-v.width,ie+=1,--ne,re-=2,Q.m);if(e.shift){e.ctrl&&(j=te,X=W=0,F=ee);for(var ae=(F-X)/re,se=(j-W)/re,le=ie;le<ne;le++){var ce,f=$[le].m,m=0;"av"==e.to?(ce=oe.props.y+oe.props.height/2,ce+=ae,ce-=f.props.height/2,f.props.y!=ce&&(m=p=1,f.props.y=ce)):(ce=oe.props.x+oe.props.width/2,ce+=se,ce-=f.props.width/2,f.props.x!=ce&&(m=p=1,f.props.x=ce)),m&&(Le=ke.Vframe.get(f.id))&&Le.invoke("assign",f)&&Le.invoke("render"),oe=f}}else{for(var de=0,ue=0,le=ie;le<ne;le++)de+=(C=$[le].m.props).height,ue+=C.width;for(var fe=(ee-de)/re,he=(te-ue)/re,le=ie;le<ne;le++){var pe,f=$[le].m,m=0;"av"==e.to?(pe=oe.props.y+oe.props.height+fe,f.props.y!=pe&&(m=p=1,f.props.y=pe)):(pe=oe.props.x+oe.props.width+he,f.props.x!=pe&&(m=p=1,f.props.x=pe)),m&&(Le=ke.Vframe.get(f.id))&&Le.invoke("assign",f)&&Le.invoke("render"),oe=f}}p&&(ke.State.fire("__aD"),ke.State.fire("__G"))}}}else if("same"==e.action){for(var i=Ve.StageSelectElements.__bN(),ge=-Number.MAX_SAFE_INTEGER,_e=-Number.MAX_SAFE_INTEGER,xe=Number.MAX_SAFE_INTEGER,me=Number.MAX_SAFE_INTEGER,ve=0,be=i;ve<be.length;ve++)(C=(f=be[ve]).props).width>ge&&(ge=C.width),C.width<xe&&(xe=C.width),C.height>_e&&(_e=C.height),C.height<me&&(me=C.height);for(var p=0,ye=0,we=i;ye<we.length;ye++){var Le,C=(f=we[ye]).props,m=0;"maw"==e.to?C.width!=ge&&(p=m=1,C.width=ge):"miw"==e.to?C.width!=xe&&(p=m=1,C.width=xe):"mah"==e.to?C.width!=_e&&(p=m=1,C.height=_e):"mih"==e.to&&C.width!=me&&(p=m=1,C.height=me),m&&("table"==f.type?Se.default.__l(f.props,{fsize:!0}):"qrcode"==f.type&&("mah"==e.to||"mih"==e.to?C.width=C.height:C.height=C.width),(Le=ke.Vframe.get(f.id))&&Le.invoke("assign",f)&&Le.invoke("render"))}p&&(ke.State.fire("__aD"),ke.State.fire("__G"))}},"__cn<contextmenu>":function(e){var t,i,n;e.preventDefault(),"element_table"!=e.from&&(t=Ve.StageSelectElements.__bN(),i=ke.State.get("__aN"),(n=this).__ck=p.default.__bf({x:e.pageX,y:e.pageY}),Ve.StageElements.__cl(n,e,null,i,function(e){0==e.id?Ve.StageElements.__cg(i):1==e.id?Ve.Clipboard.__cb():14==e.id?Ve.Clipboard.__ch():(2==e.id?Ve.Clipboard.__cf({coll:i,collType:"stage",width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER},n.__ck):(e=7==e.id?Ve.StageElements.__c_(!0):Ve.StageElements.__cm(e.id,t[0],i),n.updater.digest({elements:e})),ke.State.fire("__G"))}))},"__cs<drop>":function(o){var d=this,e=o.originalEvent.dataTransfer.files,u=[],a=[],s=o.pageX,l=o.pageY,c=ke.default.guid("g_");Ve.StageElements.__co(e,function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t],r=ke.default.guid("file_");u.push(r),a.push(n.file),ke.State.set({__cp:h.default,__cq:{locked:!0,barred:r,groupId:c,src:f.default.DROP_STAGE_LOADING,width:n.width,height:n.height}}),ke.State.fire("__bF",{dropNode:o.target,pageX:s,pageY:l,ignoreSnapshot:1}),s+=40,l+=40}a.length&&(ke.State.set({__cp:null,__cq:null}),ke.State.fire("__q")),d.upload(a,c,function(i,e){for(var t=ke.State.get("__aN"),n=[],r={},o=0,a=0;a<u.length;a++)e[a]&&(r[u[a]]=e[a]);if(Ve.StageElements.__cr(t,function(e,t){"element"==t&&(t=e.props.barred,e.props.groupId==i&&t&&((t=r[t])&&!t.error?(o=1,ke.default.mix(e.props,t),e.props.locked=!1,delete e.props.barred,delete e.props.groupId):n.push(e)))}),n.length)for(var s=0,l=n;s<l.length;s++){var c=l[s];Ve.StageElements.__bd(c.id,!0)}o&&ke.State.fire("__G"),(o||n.length)&&d.updater.digest({elements:t})})})},"__ct<focusout>":function(){this.__t.addClass("xzKVLbsaY")},"__cu<focusin>":function(){this.__t.removeClass("xzKVLbsaY")}})}),define("editor/core/store",["magix"],function(e,t,i){"use strict";t.__esModule=!0;e("magix");t.default={__aU:function(){},__cv:function(){var e={};try{var t=localStorage.getItem("l.state");t&&((e=JSON.parse(t)).success=!0)}catch(e){}return e},__aQ:function(){try{localStorage.removeItem("l.state")}catch(e){}}}}),define("editor/core/template",["magix","../../cainiao/serializer","../../service/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),r=e("../../cainiao/serializer"),e=e("../../service/index");n.default.applyStyle("xzKVLbsj",".xzKVLbsbd{width:80px;height:80px;border:1px solid #ccc;text-align:center;line-height:80px;margin:3px;cursor:pointer;float:left}.xzKVLbsbd:hover{border-color:#999}.xzKVLbsbe,.xzKVLbsbe:hover{border-color:#06f}.xzKVLbsbf{min-height:500px}"),t.default=n.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.i18n,d=e.error,u=e.templates,f=e.selected;if(l+='<div mxa="xzKVLbsi:_" class="xzKVLbsK"><b mxa="xzKVLbsi:a" class="xzKVLbsd">'+n(c("_cy"))+'</b></div><div mxa="xzKVLbsi:b" class="xzKVLbsL xzKVLbsw xzKVLbsbf">',d)l+=" "+n(d.msg)+" ";else if(u.length){l+=" ";for(var h=0,p=u.length;h<p;h++){var g=u[h];l+='<div class="xzKVLbsbd',f==g.id&&(l+=" xzKVLbsbe"),l+='" mx-click="'+t+"\x1e__T({t:'"+a(i,g)+"'})\">"+n(g.name)+"</div>"}l+=" "}else l+=" "+n(c("_cz"))+" ";return l+="</div>"},mixins:[e.default],init:function(e){this.__cw=JSON.stringify(e.page),this.__P=e.dialog,this.__Q=e.enter},render:function(){var i=this;this.fetch({name:"__cx",params:{biz_id:n.default.config("bizId")}},function(e,t){i.updater.digest({selected:"-1",error:e,templates:t.get("data",[])})})},"__T<click>":function(e){var t,i=e.params.t.code;try{(t=r.default.decode(i)).xLines=[],t.yLines=[]}catch(e){return void this.alert(e.message)}this.__cw!=JSON.stringify(t.page)&&(t.pageChange=!0),this.__Q(t),this.__P.close()},"__U<click>":function(){this.__P.close()}})}),define("editor/core/toolbar",["magix","$","../../gallery/mx-monitor/index","../../util/converter","../../cainiao/const","./history","../../i18n/index","./workaround","gallery/mx-number/index"],function(e,t,i){e("gallery/mx-number/index"),t.__esModule=!0;var a=e("magix"),n=e("$"),r=e("../../gallery/mx-monitor/index"),o=e("../../util/converter"),s=e("../../cainiao/const"),l=e("./history"),c=e("../../i18n/index"),d=e("./workaround");a.default.applyStyle("xzKVLbsk",".xzKVLbsbg{padding:0 12px;background:#ccc;color:#333;height:100%;background-image:-webkit-gradient(linear,0 0,0 100%,from(#eee),to(#ccc),color-stop(0,#eee))}.xzKVLbsbh{cursor:pointer;height:25px;line-height:25px;float:left;padding:0 4px;width:25px}.xzKVLbsbh:hover{background:#eee;color:#111}.xzKVLbsbi,.xzKVLbsbi:hover{background:#fff;z-index:200000}.xzKVLbsbj{height:21px;width:1px;background:#ccc;margin:2px 12px;float:left}.xzKVLbsbk{position:absolute;right:0;top:calc(100% - 1px);background:#fff;width:400px;z-index:199999;border:1px solid #ccc}.xzKVLbsbl{width:125px}.xzKVLbsbm{width:105px}.xzKVLbsbn{width:20px;text-align:center}.xzKVLbsbo{width:60px;text-align:right;vertical-align:middle}.xzKVLbsbp{overflow:auto;min-height:50px;margin-left:100px;display:block;max-height:160px}.xzKVLbsbq{width:41px;height:50px;float:left;border:1px solid #ccc;line-height:50px;font-size:16px;cursor:pointer;text-align:center;margin:2px}.xzKVLbsbq:hover{border-color:#999}.xzKVLbsbr,.xzKVLbsbr:hover{border-color:#06f}.xzKVLbsbs{transform:scaleX(-1)}.xzKVLbsbt{color:#aaa;cursor:not-allowed}.xzKVLbsbt:hover{color:#aaa;background:transparent}.xzKVLbsbu{transform:rotate(90deg)}.xzKVLbsbv{position:relative;overflow:hidden}.xzKVLbsbw{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;cursor:pointer;opacity:0;font-size:100px}.xzKVLbsbx{display:inline-flex;align-items:center}");function u(e){e.scale=e.scale||a.State.get("__j"),a.State.fire("__aO",{json:e}),e.pageChange&&a.State.fire("__q"),a.State.fire("__bb"),a.State.fire("__as"),a.State.fire("__G")}t.default=a.default.View.extend({tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.hs,d=e.i18n,u=e.canCenter,f=e.canAvg,h=e.selectCount,p=e.page,g=e.toMM,_=e.showBg,x=e.vId,m=e.CNC,v=e.showBG,b=e.bgSize,e=e.scale;l+='<div mxv mxa="xzKVLbsj:_" class="xzKVLbsbg xzKVLbsw xzKVLbsx xzKVLbsu"><div mxa="xzKVLbsj:a" class="xzKVLbsp xzKVLbsn"><i class="xzKVLbsN xzKVLbsbh',c.canUndo||(l+=" xzKVLbsbt"),l+='" title="'+n(d("_cT"))+'(Ctrl+Z)" ',c.canUndo&&(l+=' mx-click="'+t+"\x1e__cP({type:'undo'})\" "),l+='>&#xe682;</i><i class="xzKVLbsN xzKVLbsbh xzKVLbsbs',c.canRedo||(l+=" xzKVLbsbt"),l+='" title="'+n(d("_cU"))+'(Ctrl+Y)" ',c.canRedo&&(l+=' mx-click="'+t+"\x1e__cP({type:'redo'})\" "),l+='>&#xe682;</i><i mxs="xzKVLbsj:_" class="xzKVLbsbj"></i><i class="xzKVLbsN xzKVLbsbh" title="'+n(d("_cV"))+'" mx-click="'+t+'\x1e__cN()">&#xe615;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+'\x1e__aU()" title="'+n(d("_V"))+'">&#xe611;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+'\x1e__cF()" title="'+n(d("_cy"))+'">&#xe601;</i>',u()&&(l+='<i mxs="xzKVLbsj:_" class="xzKVLbsbj"></i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({action:'put',to:'vc'})\" title=\""+n(d("_cW"))+'">&#xe679;</i><i class="xzKVLbsN xzKVLbsbh xzKVLbsbu" mx-click="'+t+"\x1e__cM({action:'put',to:'hc'})\" title=\""+n(d("_cX"))+'">&#xe679;</i>'),l+=" ",f()&&(l+='<i class="xzKVLbsN xzKVLbsbh xzKVLbsbu" mx-click="'+t+"\x1e__cM({action:'avg',to:'av'})\" title=\""+n(d("_cY"))+'">&#xe604;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({action:'avg',to:'ah'})\" title=\""+n(d("_cZ"))+'">&#xe604;</i>'),l+=" ",1<h&&(l+='<i mxs="xzKVLbsj:_" class="xzKVLbsbj"></i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({to:'left'})\" title=\""+n(d("_d_"))+'">&#xe70b;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({to:'hcenter'})\" title=\""+n(d("_da"))+'">&#xe711;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({to:'right'})\" title=\""+n(d("_db"))+'">&#xe70c;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({to:'top'})\" title=\""+n(d("_dc"))+'">&#xe70d;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({to:'vcenter'})\" title=\""+n(d("_dd"))+'">&#xe712;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({to:'bottom'})\" title=\""+n(d("_de"))+'">&#xe70e;</i><i mxs="xzKVLbsj:_" class="xzKVLbsbj"></i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({action:'same',to:'maw'})\" title=\""+n(d("_df"))+'">&#xe789;</i><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+"\x1e__cM({action:'same',to:'miw'})\" title=\""+n(d("_dg"))+'">&#xe788;</i><i class="xzKVLbsN xzKVLbsbh xzKVLbsbu" mx-click="'+t+"\x1e__cM({action:'same',to:'mah'})\" title=\""+n(d("_dh"))+'">&#xe789;</i><i class="xzKVLbsN xzKVLbsbh xzKVLbsbu" mx-click="'+t+"\x1e__cM({action:'same',to:'mih'})\" title=\""+n(d("_di"))+'">&#xe788;</i>'),l+="</div>";var y=""===p.width?"":g(p.width);l+=" ";var w=""===p.height?"":g(p.height);l+='<div mxv class="xzKVLbsbk xzKVLbsi',_||(l+=" xzKVLbsv"),l+='" id="bg_'+n(x)+'"><div mxa="xzKVLbsj:b" class="xzKVLbsF xzKVLbsw"><label mxa="xzKVLbsj:c" class="xzKVLbsG">'+n(d("_dj"))+'\uff1a</label><div mxa="xzKVLbsj:d" class="xzKVLbsH"><div class="xzKVLbsB xzKVLbsbl xzKVLbsB xzKVLbsu" mx-input="'+t+"\x1e__cL({key:'width'})\" mx-view=\"gallery/mx-number/index?value="+o(y)+"&min="+o(m.PAGE_WIDTH_MIN)+"&fixed=2&max="+o(m.PAGE_WIDTH_MAX)+'"></div><span mxs="xzKVLbsj:a" class="xzKVLbsr xzKVLbsbn">X</span><div class="xzKVLbsB xzKVLbsbl xzKVLbsB xzKVLbsu" mx-input="'+t+"\x1e__cL({key:'height'})\" mx-view=\"gallery/mx-number/index?value="+o(w)+"&min="+o(m.PAGE_HEIGHT_MIN)+"&fixed=2&max="+o(m.PAGE_HEIGHT_MAX)+'"></div></div></div>';h=""===p.header?"":g(p.header);l+=" ";g=""===p.footer?"":g(p.footer);l+='<div mxa="xzKVLbsj:e" class="xzKVLbsF xzKVLbsw"><label mxa="xzKVLbsj:f" class="xzKVLbsG xzKVLbsp">'+n(d("_dk"))+'\uff1a</label><div mxa="xzKVLbsj:g" class="xzKVLbsH"><div class="xzKVLbsB xzKVLbsbm xzKVLbsB xzKVLbsu" mx-input="'+t+"\x1e__cL({key:'header'})\" mx-view=\"gallery/mx-number/index?value="+o(h)+"&min=0&fixed=2&max="+o(m.PAGE_WIDTH_MAX)+'"></div><span mxa="xzKVLbsj:h" class="xzKVLbsr xzKVLbsbo">'+n(d("_dl"))+'\uff1a</span><div class="xzKVLbsB xzKVLbsbm xzKVLbsB xzKVLbsu" mx-input="'+t+"\x1e__cL({key:'footer'})\" mx-view=\"gallery/mx-number/index?value="+o(g)+"&min=0&fixed=2&max="+o(m.PAGE_HEIGHT_MAX)+'"></div></div></div><div mxv mxa="xzKVLbsj:i" class="xzKVLbsF xzKVLbsw"><label mxa="xzKVLbsj:j" class="xzKVLbsG xzKVLbsp">'+n(d("_dm"))+'\uff1a</label><div mxv mxa="xzKVLbsj:k" class="xzKVLbsH xzKVLbsp"><div mxv mxa="xzKVLbsj:l" class="xzKVLbsr xzKVLbsz xzKVLbsA xzKVLbsbv">'+n(d("_dn"))+'<input mxs="xzKVLbsj:b" class="xzKVLbsbw" accept="image/*" type="file" mx-change="'+t+'\x1e__cQ()"/></div>',v&&(l+='<button mxa="xzKVLbsj:m" class="xzKVLbsz xzKVLbsg" mx-click="'+t+'\x1e__cS()">'+n(d("_do"))+"</button>"),l+="</div></div>",v&&(l+='<div mxv mxa="xzKVLbsj:n" class="xzKVLbsF xzKVLbsw"><label mxa="xzKVLbsj:o" class="xzKVLbsG xzKVLbsp">'+n(d("_dp"))+'\uff1a</label><div mxv mxa="xzKVLbsj:p" class="xzKVLbsH xzKVLbsp"><label mxv mxa="xzKVLbsj:q" class="xzKVLbsbx xzKVLbsd"><input type="radio" ',"auto"==b&&(l+=" checked"),l+=' name="bg.setting" class="xzKVLbsc" mx-change="'+t+"\x1e__cR({size:'auto'})\"/>"+n(d("_dq"))+'</label><label mxv mxa="xzKVLbsj:r" class="xzKVLbsbx xzKVLbsd"><input type="radio" ',"page"==b&&(l+=" checked"),l+=' name="bg.setting" class="xzKVLbsc" mx-change="'+t+"\x1e__cR({size:'page'})\"/>"+n(d("_dr"))+'</label><label mxv mxa="xzKVLbsj:s" class="xzKVLbsbx"><input type="radio" ',"bg"==b&&(l+=" checked"),l+=' name="bg.setting" class="xzKVLbsc" mx-change="'+t+"\x1e__cR({size:'bg'})\"/>"+n(d("_ds"))+"</label></div></div>"),l+='<div mxv mxa="xzKVLbsj:t" class="xzKVLbsF xzKVLbsw"><label mxa="xzKVLbsj:u" class="xzKVLbsG xzKVLbsp">'+n(d("_dt"))+'\uff1a</label><div mxv mxa="xzKVLbsj:v" class="xzKVLbsH xzKVLbsp"><input ',p.splitable&&(l+="checked"),l+=' class="xzKVLbsE" type="checkbox" mx-change="'+t+'\x1e__cL({key:\'splitable\'})"/></div></div><div mxa="xzKVLbsj:w" class="xzKVLbsF xzKVLbsw"><label mxa="xzKVLbsj:x" class="xzKVLbsG xzKVLbsp">'+n(d("_du"))+'\uff1a</label><div mxa="xzKVLbsj:y" class="xzKVLbsH xzKVLbsbp">';for(var L=0,z=m.PAGES,k=z.length;L<k;L++){var S=z[L];l+='<div class="xzKVLbsbq',y==S.width&&w==S.height&&(l+=" xzKVLbsbr"),l+='" ',y==S.width&&w==S.height||(l+=' mx-click="'+t+"\x1e__cJ({page:'"+a(i,S)+"'})\" "),l+=">"+n(S.text)+"</div>"}return l+='</div></div></div><div mxa="xzKVLbsj:z" class="xzKVLbsq"><div mxa="xzKVLbsj:A" class="xzKVLbsp xzKVLbsw xzKVLbsf"><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+'\x1e__cO({out:true})" title="'+n(d("_dv"))+'">&#xe602;</i><span mxa="xzKVLbsj:B" class="xzKVLbsr xzKVLbsp xzKVLbsc xzKVLbso" style="width:40px;">'+n((100*e).toFixed(0))+'%</span><i class="xzKVLbsN xzKVLbsbh" mx-click="'+t+'\x1e__cO()" title="'+n(d("_dw"))+'">&#xe699;</i></div><span mxa="xzKVLbsj:C" class="xzKVLbsr xzKVLbsp xzKVLbsc">'+n(Number(y).toFixed(2))+" x "+n(Number(w).toFixed(2))+'</span><i class="xzKVLbsN xzKVLbsbh',_&&(l+=" xzKVLbsbi"),l+='" title="'+n(d("_dx"))+'" mx-click="'+t+'\x1e__cI()" id="bgt_'+n(x)+'">&#xe627;</i></div></div>'},init:function(){var e=this;e.__t=n.default("#"+e.id);var t=e.__bl(function(){e.render()},100);a.State.on("__as",t),a.State.on("__r",t),a.State.on("__s",t),a.State.on("__cc",function(){0<a.State.get("__aN").length&&e.confirm(c.default("__cA"),function(){u({elements:[],select:[],xLines:[],yLines:[]})})}),r.__cB(),e.on("destroy",function(){r.__cC(e),r.__cD()}),e.updater.set({CNC:s.default,canCenter:function(){var e=a.State.get("__av");return 1!=e.length?1<e.length:!e[0].props.useCNStyle},canAvg:function(){var e=d.StageElements.__cj();return 1==e.length?1<e[0].elements.length:0},toMM:o.default.__i})},render:function(){var e=a.State.get("page");this.updater.digest({selectCount:a.State.get("__av").length,page:e,hs:l.default.__aR(),scale:a.State.get("__j")})},__cE:function(e){return!a.default.inside(e,"app")||(a.default.inside(e,"bg_"+this.id)||a.default.inside(e,"bgt_"+this.id))},"__aU<click>":function(){var e={elements:a.State.get("__aN"),page:a.State.get("page")},t=this;t.mxDialog("editor/core/code",{width:1100,enter:function(e){u(e),e.pageChange&&t.render()},stage:e})},"__cF<click>":function(){var t=this;t.mxDialog("editor/core/template",{width:900,enter:function(e){u(e),e.pageChange&&t.render()},page:a.State.get("page")})},__an:function(){this.__cG||(this.__cG=!0,this.updater.digest({showBg:!0}),r.__cH(this))},__ao:function(){this.__cG&&(this.__cG=!1,this.updater.digest({showBg:!1}),r.__cC(this))},"__cI<click>":function(){this.__cG?this.__ao():this.__an()},"__cJ<click>":function(e){var t=e.params.page,i=o.default.__h(t.width),e=o.default.__h(t.height),t=this.updater.get("page");t.width=i,t.height=e,this.render(),a.State.fire("__q"),a.State.fire("__G")},"__cL<change,input>":function(e){var t=e.params.key,i=this.updater.get("page"),n="splitable"==t?e.target.checked:""===e.value?"":o.default.__h(e.value);i[t]=n,this.render(),a.State.fire("__q"),"input"==e.type?a.State.fire("__G",{key:"__cK",time:300}):a.State.fire("__G")},"__cM<click>":function(e){var t=e.params,i=t.action,t=t.to;a.State.fire("__bI",{action:i||"align",shift:e.shiftKey,ctrl:e.ctrlKey||e.metaKey,to:t})},"__cN<click>":function(){a.State.fire("__cc")},"__cO<click>":function(e){var t=e.params.out,i=s.default.SCALE_STEP,n=a.State.get("__j"),r=n,e=!1;t?n>s.default.SCALE_MIN&&(n-=i,e=!0):n<s.default.SCALE_MAX&&(n+=i,e=!0),e&&(a.State.set({__j:n}),this.render(),a.State.fire("__q",{scale:!0,from:r,to:n}),a.State.fire("__G"))},"__cP<click>":function(e){"redo"==e.params.type?l.default.__aT():l.default.__aS()},"__cQ<change>":function(e){var t=this,e=e.eventTarget.files[0],i=new FileReader;i.onload=function(){a.State.fire("__bK",{show:!0,src:i.result}),t.updater.digest({bgSize:"auto",showBG:!0,src:i.result})},i.onerror=function(){t.alert(c.default("__bs"))},i.readAsDataURL(e)},"__cR<change>":function(e){var n,r=this,e=e.params.size,o=this.updater.get("page");"bg"==e&&((n=new Image).onload=function(){var e=a.State.get("__j"),t=n.width*e,i=n.height*e,e=0;o.width!=t&&(e=1,o.width=t),o.height!=i&&(e=1,o.height=i),e&&(r.render(),a.State.fire("__q"))},n.src=this.updater.get("src")),a.State.fire("__bL",{size:e}),this.updater.set({bgSize:e})},"__cS<click>":function(){a.State.fire("__bK",{show:!1}),this.updater.digest({showBG:!1})}})}),define("editor/core/toolbox",["$","magix","../../element/index","../../gallery/mx-dragdrop/index","../../service/index"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("$"),s=e("magix"),r=e("../../element/index"),l=e("../../gallery/mx-dragdrop/index"),e=e("../../service/index");s.default.applyStyle("xzKVLbsl",".xzKVLbsby{width:230px;height:100%;background:#1b1b29;color:#bfbebe;padding:10px 6px 30px;transition:margin-left .15s;position:relative;z-index:3000}.xzKVLbsbz{margin-left:-210px}.xzKVLbsbA{position:relative;height:20px;color:#fff}.xzKVLbsbB{position:absolute;cursor:pointer;right:3px;top:-2px;font-size:20px;transition:all .15s}.xzKVLbsbz .xzKVLbsbB{right:-4px;transform:scaleX(-1)}.xzKVLbsbC{height:calc(100% - 20px);overflow:auto;transition:all .5s}.xzKVLbsbD{height:80px;overflow:hidden}.xzKVLbsbE{cursor:default}.xzKVLbsbF{border:1px solid #464646;width:60px;height:60px;margin:4px;border-radius:2px;transition:all .5s}.xzKVLbsbF:hover{border-color:#c2c2c2}.xzKVLbsbG{width:34px;height:34px;margin:3px}.xzKVLbsbH{text-align:center}.xzKVLbsbI{background:#474761;position:absolute;opacity:.5;left:-1000px;top:-1000px;width:40px;height:40px;border-radius:6px;z-index:5000}.xzKVLbsbJ{height:1px;line-height:1px;margin:5px 0;background:hsla(0,0%,100%,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.xzKVLbsbK{width:190px}.xzKVLbsbL{height:calc(100% - 116px);overflow:auto}.xzKVLbsbM{height:30px;line-height:30px;padding:0 5px}.xzKVLbsbN{width:25px;height:25px;margin-top:2px}.xzKVLbsbO{width:160px}.xzKVLbsbM:hover{color:#fff}");var o=s.default.guid("de_"),c=function(e){var t=n.default("#"+o);t.length||(n.default(document.body).append('<div class="xzKVLbsbI" id="'+o+'"/>'),t=n.default("#"+o)),t.html(e.icon)},d=function(e){n.default("#"+o).css({left:e.pageX+10,top:e.pageY+18})},u=function(){n.default("#"+o).css({left:-1e3,top:-1e3})};t.default=s.default.View.extend({mixins:[l,e.default],tmpl:function(e,t,i,n,r,o,a,s){var l="",c=e.collapse,d=e.i18n,u=e.preList,f=e.designers,h=e.keyword;l+='<div mxv class="xzKVLbsby xzKVLbsx',c&&(l+=" xzKVLbsbz"),l+='"><div mxa="xzKVLbsk:_" class="xzKVLbsbA"><i class="xzKVLbsN xzKVLbsbB" mx-click="'+t+'\x1e__dz()" title="',l+=n(d(c?"_dC":"_dD")),l+='">&#xe616;</i></div><div id="toolbox_list" class="xzKVLbsbC',u.length&&(l+=" xzKVLbsbD"),l+='">';for(var p=0,g=f.list,_=g.length;p<_;p++){var x=g[p];l+='<div class="xzKVLbsp xzKVLbsbE" title="'+n(d(x.title))+'" mx-mousedown="'+t+"\x1e__bU({element:'"+a(i,x)+'\'})"><div class="xzKVLbsbF',u.length&&(l+=" xzKVLbsbG"),l+='">'+r(x.icon)+'</div><div class="xzKVLbsbH',u.length&&(l+=" xzKVLbsv"),l+='">'+n(d(x.title))+"</div></div>"}if(l+="</div>",u.length){l+='<div mxs="xzKVLbsk:_" class="xzKVLbsbJ"></div><input class="xzKVLbsB xzKVLbsg xzKVLbsbK" placeholder="'+n(d("_dE"))+'" mx-input="'+t+'\x1e__dB()" value="'+n(h)+'"/><div mxa="xzKVLbsk:a" class="xzKVLbsbL xzKVLbsi" id="toolbox_prelist">';for(var m=0,v=u.length;m<v;m++){var b,y=u[m];l+=" ",(!h||0<=y.name.indexOf(h))&&(l+=" ",l+='<div class="xzKVLbsbM xzKVLbsw" mx-mousedown="'+t+"\x1e__bU({element:'"+a(i,b=f.byType(y.type))+"',props:'"+a(i,y.props)+"',pre:true,name:'"+n(s(y.name))+'\'})"><div mxa="xzKVLbsk:b" class="xzKVLbsbN xzKVLbsp">'+r(b.icon)+'</div><div class="xzKVLbsbO xzKVLbsp xzKVLbsy" title="'+n(y.name)+'">'+n(y.name)+"</div></div>"),l+=" "}l+="</div>"}return l+="</div>"},init:function(){var t=this;s.State.on("__s",function(e){t.updater.digest({lang:e.lang})})},render:function(){var i=this;this.updater.digest({designers:r.default,keyword:"",preList:[]}),this.fetch({name:"__dy",params:{biz_id:s.default.config("bizId")}},function(e,t){t=t.get("data",[]);t.length&&i.updater.digest({preList:t})})},"__bU<mousedown>":function(e){var t=e.params,i=t.element,n=t.props,r=t.pre,t=t.name;c(i),r&&((n=n||{}).allowEdit=0,n.tip=n.tip||t),s.State.set({__cp:i,__cq:n});var o=!1,a=null;this.dragdrop(e.eventTarget,function(e){d(e),o=!0;e=l.fromPoint(e.clientX,e.clientY);e!=a&&(a=e,s.State.fire("__bD",{hoverNode:a}))},function(e){return a=null,s.State.fire("__bD"),o?(u(),void(e&&(t=l.fromPoint(e.clientX,e.clientY),s.State.fire("__bF",{dropNode:t,pageX:e.pageX,pageY:e.pageY}),s.State.set({__cp:null,__cq:null})))):(s.State.fire("__bH"),void s.State.set({__cp:null,__cq:null}));var t})},"__dz<click>":function(){var e=this.updater,t=!e.get("collapse");e.digest({collapse:t}),n.default(document).trigger({type:"toolboxtoggle",collapse:t})},"__dB<input>":function(e){clearTimeout(this.__dA);var t=this.updater;t.set({keyword:e.eventTarget.value}),this.__dA=setTimeout(this.wrapAsync(function(){t.digest()}),300)}})}),define("editor/core/workaround",["magix","../../util/converter","../../util/transform","../../gallery/mx-menu/index","./contextmenu","$","../../util/table"],function(e,y,t){"use strict";var m=this&&this.__assign||function(){return(m=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};y.__esModule=!0,y.Clipboard=y.StageElements=y.StageSelectElements=void 0;var w=e("magix"),d=e("../../util/converter"),L=e("../../util/transform"),p=e("../../gallery/mx-menu/index"),g=e("./contextmenu"),u=e("$"),c=e("../../util/table"),a=w.default.toMap,b=w.default.has,v=w.default.mix;y.StageSelectElements={__bB:function(e){var t,i,n=w.State.get("__av"),r=n.length;(r||e)&&(t=1<r?null:n[0],n.length=0,i=!1,e?(n.push(e),i=e!=t):r&&(i=!0),i&&(w.State.set({__au:a(n,"id")}),w.State.fire("__as"),w.State.fire("__G")))},__cH:function(e){for(var t=w.State.get("__av"),i=!1,n=0,r=t;n<r.length;n++)if(r[n].id===e.id){i=!0;break}i||(t.push(e),w.State.set({__au:a(t,"id")}),w.State.fire("__as"),w.State.fire("__G"))},__cC:function(e){for(var t=w.State.get("__av"),i=!1,n=-1,r=0,o=t;r<o.length;r++)if(n++,o[r].id===e.id){i=!0;break}i&&(t.splice(n,1),w.State.set({__au:a(t,"id")}),w.State.fire("__as"),w.State.fire("__G"))},__bT:function(e){var t=w.State.get("__av");t.length=0,t.push.apply(t,e),w.State.set({__au:a(t,"id")}),w.State.fire("__as"),w.State.fire("__G")},__dF:function(){return w.State.get("__av").length},__bN:function(){return w.State.get("__av")}},y.StageElements={__bG:function(e,t,i,n){var r=w.State.get("__cp");if(r){var o=w.State.get("__aN"),a=w.State.get("__j"),s=(l=y.StageElements.__dG(e,t,i)).xy,e=l.collection,t=l.focus,i=l.collType,l=r.getProps(s.x,s.y);l.zIndex=e.length+1;s=w.State.get("__cq");s&&v(l,s),y.StageElements.__dH(r,l,a);a={id:w.default.guid("e_"),ctor:r,type:r.type,props:l};return"vtext"==r.type||"htext"==r.type?l.supportCNStyle="td"==i:"table"==r.type&&c.default.__l(l),e.push(a),t&&!n&&y.StageSelectElements.__bB(a),o}},__cj:function(){var _=w.State.get("__au"),x={},m=[],v=function(e,t,i,n){for(var r=0,o=e;r<o.length;r++){var a,s=o[r];if(b(_,s.id)&&(a=t?[t.id,i,n].join("-"):"stage",x[a]||m.push(x[a]={type:t?"td":"stage",table:t,row:i,col:n,elements:[]}),x[a].elements.push(s)),"table"==s.type)for(var l=0,c=0,d=s.props.rows;c<d.length;c++){var u=d[c];if("tr"==u.tag)for(var f=0,h=0,p=u.cells;h<p.length;h++){var g=p[h];"td"==g.tag&&g.children&&v(g.children,s,l,f),f++}l++}}},e=w.State.get("__aN");return v(e),m},__bX:function(){var e,t=this.__cj();1!==t.length||"td"==(e=t[0]).type&&((t=e.table).props.rowIndex=e.row,t.props.colIndex=e.col,w.State.fire("__ap",{eId:t.id,data:t.props}),y.StageSelectElements.__bB(t))},__cr:function(e,f){var h=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(f(n,"element"),"table"==n.type)for(var r=0,o=0,a=n.props.rows;o<a.length;o++){var s=a[o];if(f(s,"row",{row:r}),"tr"==s.tag)for(var l=0,c=0,d=s.cells;c<d.length;c++){var u=d[c];f(u,"td",{row:r,col:l}),"td"==u.tag&&u.children&&h(u.children),l++}r++}}};h(e)},__dG:function(e,t,i){var n,r=y.StageSelectElements.__bN(),o=r[0],a=d.default.__bf({x:e.pageX,y:e.pageY}),s=w.State.get("__aN"),l=!0,c="stage";return t&&1==r.length&&"table"==o.type&&-1<o.props.rowIndex?(r=(n=o.props).rows,o=n.rowIndex,n=n.colIndex,!(o=r[o])||(n=o.cells[n])&&(n.children||(n.children=[]),s=n.children,c="td",l=!(a={x:5,y:5}))):!t&&i&&(t=u.default(i.node).offset(),a={x:e.pageX-t.left,y:e.pageY-t.top},s=i.children,c="td"),{collection:s,xy:a,focus:l,collType:c}},__bE:function(u){var e=w.State.get("__aN"),f=null,h=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t],r=w.default.node(n.id);if(w.default.inside(u,r)){if("table"==n.type)for(var o=n.props.rows,a=o.length;a--;){var s=o[a];if(s.cells)for(var l=s.cells.length;l--;){var c=w.default.node("entity_"+n.id+"_c_"+a+"_"+l),d=s.cells[l];w.default.inside(u,c)&&(d.children||(d.children=[]),f={node:c,dashed:"#entity_"+n.id+"_dashed_"+a+"_"+l,children:d.children},h(f.children))}}break}}};return h(e),f},__ce:function(){var e=y.StageSelectElements.__bN();if(1===e.length){var e=(i=(n=e[0]).props).rows,t=i.rowIndex,i=i.colIndex;if(-1<t&&-1<i)return{coll:(r=e[t].cells[i]).children,type:"td",width:r.width,height:r.height}}var n,r,t=this.__cj(),i={coll:w.State.get("__aN"),type:"stage",width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER};return 1===t.length&&"td"==(n=t[0]).type&&(i={coll:(r=n.table.props.rows[n.row].cells[n.col]).children,type:"td",width:r.width,height:r.height}),i},__dI:function(e,t){if(e.shiftKey||e.ctrlKey||e.metaKey){if(!t.props.locked&&!t.props.xLocked&&!t.props.yLocked){var i=y.StageSelectElements.__bN(),u={},f={},n=[];"table"==t.type&&n.push(t);for(var r=!1,o=i.length;o--;)(l=i[o]).id==t.id&&(r=!0),l.props.locked||l.props.xLocked||l.props.yLocked?i.splice(o,1):"table"==l.type&&n.push(l);if(r&&1<i.length)y.StageSelectElements.__cC(t);else{var h=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if("#script"!=r.type&&(t&&(u[r.id]=1,f[r.id]=t),"table"==r.type))for(var o=0,a=r.props.rows;o<a.length;o++){var s=a[o];if("tr"==s.tag)for(var l=0,c=s.cells;l<c.length;l++){var d=c[l];"td"==d.tag&&d.children&&h(d.children,r.id)}}}};if(h(n,0),b(u,t.id))for(var a=t.id;;){var s=f[a];if(!s)break;u[s]=1,a=s}for(o=i.length;o--;){var l=i[o];b(u,l.id)&&i.splice(o,1)}y.StageSelectElements.__cH(t)}}}else y.StageSelectElements.__bB(t)},__bP:function(e){for(var t=[],i=0,n=e&&e.children||w.State.get("__aN");i<n.length;i++){var r=n[i],o=r.props;if("#script"!=r.type&&!o.locked){l=o.rotate||0;var a={x:o.x,y:o.y,width:o.width,height:o.height};o.useCNStyle&&e&&(a.width=.92*e.width,a.height=.92*e.height);for(var s=L.default.__az(a,l),o=s.point[0],a=s.point[2],l=s.point[6],s=s.point[4],c=o,d=o,u=o,f=o,h=0,p=[a,l,s];h<p.length;h++){var g=p[h];g.x<c.x&&(c=g),g.x>u.x&&(u=g),g.y<d.y&&(d=g),g.y>f.y&&(f=g)}t.push({element:r,left:c,top:d,right:u,bottom:f,points:[o,a,l,s],lines:[{start:o,end:a},{start:a,end:s},{start:s,end:l},{start:l,end:o}]})}}return t},__cm:function(e,t,i){for(var n,r,o,a=-1,s=t.props,l=L.default.__ba(i),c=l.length,d=l.length;d--;)if(l[d].id===t.id){a=d;break}if(3==e){for(d=a+1;d<c;d++)l[d].props.zIndex=d;s.zIndex=c}else if(4==e){for(d=0;d<a;d++)l[d].props.zIndex=d+2;s.zIndex=1}else 5==e?(n=l[a+1])&&(r=s.zIndex,o=n.props.zIndex,n.props.zIndex=r,s.zIndex=o):6!=e||(e=l[a-1])&&(r=s.zIndex,o=e.props.zIndex,e.props.zIndex=r,s.zIndex=o);return i},__cg:function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];"#script"==r.type||r.props.locked||r.props.xLocked||r.props.yLocked||t.push(r)}y.StageSelectElements.__bT(t)},__c_:function(e){var t=y.StageSelectElements.__bN(),d=a(t,"id"),i=w.State.get("__aN"),u=function(e){for(var t=!1,i=e.length;i--;)if("#script"!=(c=e[i]).type)if(b(d,c.id))e.splice(i,1),t=!0;else if("table"==c.type)for(var n=0,r=c.props.rows;n<r.length;n++){var o=r[n];if("tr"==o.tag)for(var a=0,s=o.cells;a<s.length;a++){var l=s[a];"td"==l.tag&&l.children&&u(l.children)}}if(t)for(var c,i=e.length;i--;)"#script"!=(c=e[i]).type&&(c.props.zIndex=i+1)};if(u(i),e)return t.length=0,w.State.fire("__as"),i},__bd:function(d,e){var t=w.State.get("__aN"),u=function(e){for(var t=!1,i=e.length;i--;)if("#script"!=(c=e[i]).type)if(d==c.id)e.splice(i,1),t=!0;else if("table"==c.type)for(var n=0,r=c.props.rows;n<r.length;n++){var o=r[n];if("tr"==o.tag)for(var a=0,s=o.cells;a<s.length;a++){var l=s[a];"td"==l.tag&&l.children&&u(l.children)}}if(t)for(var c,i=e.length;i--;)"#script"!=(c=e[i]).type&&(c.props.zIndex=i+1)};u(t),e||(y.StageSelectElements.__bN().length=0,w.State.fire("__as"))},__dH:function(e,t,i,n){if(n&&(t.x*=i,t.y*=i),t.width*=i,t.height*=i,"table"==e.type)for(var r=0,o=t.rows;r<o.length;r++){var a=o[r];if("tr"==a.tag)for(var s=0,l=a.cells;s<l.length;s++){var c=l[s];"td"==c.tag&&(c.width*=i,c.height*=i,c.children&&y.StageElements.__dJ(c.children,i,n))}}},__dJ:function(e,t,i){for(var n=0,r=e;n<r.length;n++){var o=r[n];"#script"!=o.type&&y.StageElements.__dH(o,o.props,t,i)}},__bA:function(e,t){var i=w.State.get("__aN"),e=t/e;y.StageElements.__dJ(i,e,!0)},__bV:function(l,e){var t=l.params;if(!t.props.barred){var c=y.StageSelectElements.__bN();if(void 0===l.button||0==l.button)if(l.shiftKey||l.ctrlKey||l.metaKey)y.StageElements.__dI(l,t);else{w.State.fire("__ax",{locked:1});for(var d=[],i=!1,n=0,r=c;n<r.length;n++){var o=r[n];t.id==o.id&&(i=!0),d.push({x:o.props.x,y:o.props.y})}i||(y.StageSelectElements.__bB(t),d.length=0,d.push({x:t.props.x,y:t.props.y}),c.length=0,c.push(t));var u=!1,f=!1;e.dragdrop(l.eventTarget,function(e){u||w.State.fire("__ay",{cursor:"move"}),u=!0;for(var t=e.pageX-l.pageX,i=e.pageY-l.pageY,n=0,r=0,o=c;r<o.length;r++){var a,s=o[r];s.props.locked||s.props.xLocked||s.props.yLocked||(f=!0,a=d[n++],s.props.x=a.x+t,s.props.y=a.y+i,(a=w.Vframe.get(s.id))&&a.invoke("assign",[s,{move:!0}])&&a.invoke("render"))}w.State.fire("__as")},function(){u&&f&&w.State.fire("__G"),w.State.fire("__ax"),w.State.fire("__ay")})}else{for(var i=!1,a=0,s=c;a<s.length;a++)if(s[a].id===t.id){i=!0;break}i||y.StageSelectElements.__bB(t)}}},__cl:function(e,t,i,n,r){var o,a,s,l=y.StageSelectElements.__bN(),c=w.default.config("lang"),d=g.Contextmenu.stage(c),u=1,f={},h=y.Clipboard.__dK();n=L.default.__ba(n),f[g.Contextmenu.allId]=!n.length,f[g.Contextmenu.pasteId]=!h.length,1===l.length?(o=(s=l[0]).props.locked||s.props.__invalid,i&&l[0].id==i?(u=4,d=g.Contextmenu.tableCell(c),f[g.Contextmenu.cellTopId]=o,f[g.Contextmenu.cellBottomId]=o,f[g.Contextmenu.cellLeftId]=o,f[g.Contextmenu.cellRightId]=o,f[g.Contextmenu.cellDeleteColId]=o,f[g.Contextmenu.cellDeleteRowId]=o):(u=2,d=g.Contextmenu.singleElement(c),a=o||s.props.useCNStyle,i=!(h=n.length)||n[h-1].id==s.id,s=!h||n[0].id==s.id,f[g.Contextmenu.cutId]=o,f[g.Contextmenu.topId]=i||a,f[g.Contextmenu.bottomId]=s||a,f[g.Contextmenu.upId]=i||a,f[g.Contextmenu.downId]=s||a)):1<l.length&&(u=3,d=g.Contextmenu.multipleElement(c)),p.show(e,t,{cnt:"#outer_cm",offset:"#stage_outer",scroller:"#app_stage",width:150,disabled:f,list:d,listKey:c+u,picked:r})},__bZ:function(e){var p,g,_,x,m,v,b,t=y.StageSelectElements.__bN(),i=w.State.get("__aN"),n=L.default.__ba(i),r=t.length,i=null;0===r||1<r?i=n[e.shiftKey?0:n.length-1]:(x=_=g=p=null,m=!1,v=t[0].id,(b=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if("#script"!=n.type&&(n.id==v?(m=!0,p=n):p&&!g?g=n:m?x=n:_=n,"table"==n.type)){var r=(a=n.props).rows,o=a.rowIndex,n=a.colIndex,a=0;if(-1<o&&-1<n&&((n=r[o].cells[n]).children&&(f=L.default.__ba(n.children)).length&&(a=1,b(f))),!a)for(var s=0,l=r;s<l.length;s++){var c=l[s];if("tr"==c.tag)for(var d=0,u=c.cells;d<u.length;d++){var f,h=u[d];"td"==h.tag&&h.children&&(f=L.default.__ba(h.children),b(f))}}}}})(n),e.shiftKey?_?i=_:"table"==(i=n[n.length-1]).type&&x&&(i=x):i=g||n[0]),y.StageSelectElements.__bB(i)},__bR:function(e,t,i){for(var n,r,o,a,s,l=[],c=[{start:{x:t.x,y:t.y},end:{x:t.x+t.width,y:t.y}},{start:{x:t.x+t.width,y:t.y},end:{x:t.x+t.width,y:t.y+t.height}},{start:{x:t.x+t.width,y:t.y+t.height},end:{x:t.x,y:t.y+t.height}},{start:{x:t.x,y:t.y+t.height},end:{x:t.x,y:t.y}}],d=0,u=e;d<u.length;d++){var f=u[d],h=!1;if(i&&i[f.element.id])i&&l.push(f.element);else{for(var p=0,g=f.points;p<g.length;p++){var _=g[p];if(_.x>=t.x&&_.y>=t.y&&_.x<=t.x+t.width&&_.y<=t.y+t.height){l.push(f.element),h=!0;break}}if(!h)for(var x=0,m=f.lines;x<m.length;x++){for(var v=m[x],b=0,y=c;b<y.length;b++)if(r=y[b],s=s=a=o=void 0,o=(n=v).start,a=n.end,s=r.start,n=r.end,r=((a.x-o.x)*(s.y-o.y)-(a.y-o.y)*(s.x-o.x))*((a.x-o.x)*(n.y-o.y)-(a.y-o.y)*(n.x-o.x)),s=((n.x-s.x)*(o.y-s.y)-(n.y-s.y)*(o.x-s.x))*((n.x-s.x)*(a.y-s.y)-(n.y-s.y)*(a.x-s.x)),r<0&&s<0){h=!0,l.push(f.element);break}if(h)break}}}return l},__co:function(e,t){for(var r=[],o=0,i=0,n=0,a=function(){o==i&&t(r)},s=0;s<e.length;s++){var l=e[s];0===l.type.indexOf("image/")&&(i++,function(i,n){var e=new FileReader;e.onload=function(e){var t=new Image;t.onload=function(){r[n]={file:i,width:t.width,height:t.height},o++,a()},t.onerror=function(){o++,a()},t.src=e.target.result},e.readAsDataURL(i)}(l,n++))}a()}};y.Clipboard={__cd:function(){return(this.__dL||[]).length},__dK:function(){return this.__dL||[]},__cb:function(){for(var e=[],t=0,i=y.StageSelectElements.__bN();t<i.length;t++){var n=i[t];e.push(n)}this.__dL=e},__ch:function(){var e=y.StageSelectElements.__bN();1==e.length&&e[0].props.locked||(this.__cb(),this.__dM=!0)},__cf:function(_,n){var r=this,e=r.__dL,x=_.coll;if(e){for(var o=[],a=0,s=0,l=0,c=function(e){for(var t=0,i=x;t<i.length;t++){var n=i[t];if(n.props.x==e.x&&n.props.y==e.y)return 1}return 0},t=function(e){var t,t=(i=e,t={},u.default.extend(!0,t,i));!function(e){if(0===a)if(n)s=e.x-n.x,l=e.y-n.y,e.x=n.x,e.y=n.y;else{for(var t=e.x,i=e.y;c(e);)e.x+=20,e.y+=20;for(e.x>_.width?e.x=_.width-e.width/2:e.x+e.width<0&&(e.x=-e.width/2),e.y>_.height?e.y=_.height-e.height/2:e.y+e.height<0&&(e.y=-e.height/2);c(e);)e.x-=4,e.y-=4;s=t-e.x,l=i-e.y}else e.x-=s,e.y-=l}(t.props),a++;var i={},g=function(e,t){if(v(t,e),"#script"!=e.type&&(t.id=w.default.guid("e_"),t.props={},v(t.props,e.props),"htext"!=e.type&&"vtext"!=e.type||(t.props.useCNStyle&&"td"==_.type?(t.props.x=.76,t.props.y=.76):(t.props.zIndex=x.length+1,t.props.locked=!1,t.props.supportCNStyle="td"==_.type,t.props.useCNStyle&&(t.props.xLocked=!1,t.props.yLocked=!1,t.props.widthLocked=!1,t.props.heightLocked=!1,t.props.useCNStyle=!1,t.props.width=t.props._width||("htext"==e.type?94.49:22.68),t.props.height=t.props._height||("htext"==e.type?18.9:128.5))))),"table"==e.type){t.props.rows=[];for(var i=0,n=e.props.rows;i<n.length;i++){var r=n[i],o=m({},r);if("tr"==r.tag){for(var a=[],s=0,l=r.cells;s<l.length;s++){var c=l[s],d=m(m({},c),{children:[]});if("td"==c.tag&&c.children)for(var u=0,f=c.children;u<f.length;u++){var h=f[u],p={};g(h,p),d.children.push(p)}a.push(d)}o.cells=a}t.props.rows.push(o)}}};g(t,i),x.push(i),o.push(i),r.__dM&&y.StageElements.__bd(e.id,!0)},i=0,d=e;i<d.length;i++)t(d[i]);r.__dM&&(delete r.__dM,delete r.__dL),y.StageSelectElements.__bT(o),w.State.fire("__bb"),w.State.fire("__as")}}}});